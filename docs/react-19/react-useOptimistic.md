Title: useOptimistic – React

URL Source: https://react.dev/reference/react/useOptimistic

Published Time: Thu, 30 Oct 2025 11:51:00 GMT

Markdown Content:
useOptimistic – React

===============

[![Image 1: logo by @sawaratsuki1004](https://react.dev/_next/image?url=%2Fimages%2Fuwu.png&w=128&q=75)](https://react.dev/)

[React](https://react.dev/)

[v 19.2](https://react.dev/versions)

Search⌘Ctrl K

[Learn](https://react.dev/learn)

[Reference](https://react.dev/reference/react)

[Community](https://react.dev/community)

[Blog](https://react.dev/blog)

[](https://react.dev/community/translations)

[](https://github.com/facebook/react/releases)

### react@19.2

- [Overview](https://react.dev/reference/react)
- [Hooks](https://react.dev/reference/react/hooks)
  - [useActionState](https://react.dev/reference/react/useActionState)
  - [useCallback](https://react.dev/reference/react/useCallback)
  - [useContext](https://react.dev/reference/react/useContext)
  - [useDebugValue](https://react.dev/reference/react/useDebugValue)
  - [useDeferredValue](https://react.dev/reference/react/useDeferredValue)
  - [useEffect](https://react.dev/reference/react/useEffect)
  - [useEffectEvent](https://react.dev/reference/react/useEffectEvent)
  - [useId](https://react.dev/reference/react/useId)
  - [useImperativeHandle](https://react.dev/reference/react/useImperativeHandle)
  - [useInsertionEffect](https://react.dev/reference/react/useInsertionEffect)
  - [useLayoutEffect](https://react.dev/reference/react/useLayoutEffect)
  - [useMemo](https://react.dev/reference/react/useMemo)
  - [useOptimistic](https://react.dev/reference/react/useOptimistic)
  - [useReducer](https://react.dev/reference/react/useReducer)
  - [useRef](https://react.dev/reference/react/useRef)
  - [useState](https://react.dev/reference/react/useState)
  - [useSyncExternalStore](https://react.dev/reference/react/useSyncExternalStore)
  - [useTransition](https://react.dev/reference/react/useTransition)
- [Components](https://react.dev/reference/react/components)
  - [<Fragment> (<>)](https://react.dev/reference/react/Fragment)
  - [<Profiler>](https://react.dev/reference/react/Profiler)
  - [<StrictMode>](https://react.dev/reference/react/StrictMode)
  - [<Suspense>](https://react.dev/reference/react/Suspense)
  - [<Activity>](https://react.dev/reference/react/Activity)
  - [<ViewTransition>](https://react.dev/reference/react/ViewTransition)
- [APIs](https://react.dev/reference/react/apis)
  - [act](https://react.dev/reference/react/act)
  - [addTransitionType](https://react.dev/reference/react/addTransitionType)
  - [cache](https://react.dev/reference/react/cache)
  - [cacheSignal](https://react.dev/reference/react/cacheSignal)
  - [captureOwnerStack](https://react.dev/reference/react/captureOwnerStack)
  - [createContext](https://react.dev/reference/react/createContext)
  - [lazy](https://react.dev/reference/react/lazy)
  - [memo](https://react.dev/reference/react/memo)
  - [startTransition](https://react.dev/reference/react/startTransition)
  - [use](https://react.dev/reference/react/use)
  - [experimental_taintObjectReference](https://react.dev/reference/react/experimental_taintObjectReference)
  - [experimental_taintUniqueValue](https://react.dev/reference/react/experimental_taintUniqueValue)

### react-dom@19.2

- [Hooks](https://react.dev/reference/react-dom/hooks)
  - [useFormStatus](https://react.dev/reference/react-dom/hooks/useFormStatus)
- [Components](https://react.dev/reference/react-dom/components)
  - [Common (e.g. <div>)](https://react.dev/reference/react-dom/components/common)
  - [<form>](https://react.dev/reference/react-dom/components/form)
  - [<input>](https://react.dev/reference/react-dom/components/input)
  - [<option>](https://react.dev/reference/react-dom/components/option)
  - [<progress>](https://react.dev/reference/react-dom/components/progress)
  - [<select>](https://react.dev/reference/react-dom/components/select)
  - [<textarea>](https://react.dev/reference/react-dom/components/textarea)
  - [<link>](https://react.dev/reference/react-dom/components/link)
  - [<meta>](https://react.dev/reference/react-dom/components/meta)
  - [<script>](https://react.dev/reference/react-dom/components/script)
  - [<style>](https://react.dev/reference/react-dom/components/style)
  - [<title>](https://react.dev/reference/react-dom/components/title)
- [APIs](https://react.dev/reference/react-dom)
  - [createPortal](https://react.dev/reference/react-dom/createPortal)
  - [flushSync](https://react.dev/reference/react-dom/flushSync)
  - [preconnect](https://react.dev/reference/react-dom/preconnect)
  - [prefetchDNS](https://react.dev/reference/react-dom/prefetchDNS)
  - [preinit](https://react.dev/reference/react-dom/preinit)
  - [preinitModule](https://react.dev/reference/react-dom/preinitModule)
  - [preload](https://react.dev/reference/react-dom/preload)
  - [preloadModule](https://react.dev/reference/react-dom/preloadModule)
- [Client APIs](https://react.dev/reference/react-dom/client)
  - [createRoot](https://react.dev/reference/react-dom/client/createRoot)
  - [hydrateRoot](https://react.dev/reference/react-dom/client/hydrateRoot)
- [Server APIs](https://react.dev/reference/react-dom/server)
  - [renderToPipeableStream](https://react.dev/reference/react-dom/server/renderToPipeableStream)
  - [renderToReadableStream](https://react.dev/reference/react-dom/server/renderToReadableStream)
  - [renderToStaticMarkup](https://react.dev/reference/react-dom/server/renderToStaticMarkup)
  - [renderToString](https://react.dev/reference/react-dom/server/renderToString)
  - [resume](https://react.dev/reference/react-dom/server/resume)
  - [resumeToPipeableStream](https://react.dev/reference/react-dom/server/resumeToPipeableStream)
- [Static APIs](https://react.dev/reference/react-dom/static)
  - [prerender](https://react.dev/reference/react-dom/static/prerender)
  - [prerenderToNodeStream](https://react.dev/reference/react-dom/static/prerenderToNodeStream)
  - [resumeAndPrerender](https://react.dev/reference/react-dom/static/resumeAndPrerender)
  - [resumeAndPrerenderToNodeStream](https://react.dev/reference/react-dom/static/resumeAndPrerenderToNodeStream)

### React Compiler

- [Configuration](https://react.dev/reference/react-compiler/configuration)
  - [compilationMode](https://react.dev/reference/react-compiler/compilationMode)
  - [gating](https://react.dev/reference/react-compiler/gating)
  - [logger](https://react.dev/reference/react-compiler/logger)
  - [panicThreshold](https://react.dev/reference/react-compiler/panicThreshold)
  - [target](https://react.dev/reference/react-compiler/target)
- [Directives](https://react.dev/reference/react-compiler/directives)
  - [“use memo”](https://react.dev/reference/react-compiler/directives/use-memo)
  - [“use no memo”](https://react.dev/reference/react-compiler/directives/use-no-memo)
- [Compiling Libraries](https://react.dev/reference/react-compiler/compiling-libraries)

### React DevTools

- [React Performance tracks](https://react.dev/reference/dev-tools/react-performance-tracks)

### eslint-plugin-react-hooks

- [Lints](https://react.dev/reference/eslint-plugin-react-hooks)
  - [exhaustive-deps](https://react.dev/reference/eslint-plugin-react-hooks/lints/exhaustive-deps)
  - [rules-of-hooks](https://react.dev/reference/eslint-plugin-react-hooks/lints/rules-of-hooks)
  - [component-hook-factories](https://react.dev/reference/eslint-plugin-react-hooks/lints/component-hook-factories)
  - [config](https://react.dev/reference/eslint-plugin-react-hooks/lints/config)
  - [error-boundaries](https://react.dev/reference/eslint-plugin-react-hooks/lints/error-boundaries)
  - [gating](https://react.dev/reference/eslint-plugin-react-hooks/lints/gating)
  - [globals](https://react.dev/reference/eslint-plugin-react-hooks/lints/globals)
  - [immutability](https://react.dev/reference/eslint-plugin-react-hooks/lints/immutability)
  - [incompatible-library](https://react.dev/reference/eslint-plugin-react-hooks/lints/incompatible-library)
  - [preserve-manual-memoization](https://react.dev/reference/eslint-plugin-react-hooks/lints/preserve-manual-memoization)
  - [purity](https://react.dev/reference/eslint-plugin-react-hooks/lints/purity)
  - [refs](https://react.dev/reference/eslint-plugin-react-hooks/lints/refs)
  - [set-state-in-effect](https://react.dev/reference/eslint-plugin-react-hooks/lints/set-state-in-effect)
  - [set-state-in-render](https://react.dev/reference/eslint-plugin-react-hooks/lints/set-state-in-render)
  - [static-components](https://react.dev/reference/eslint-plugin-react-hooks/lints/static-components)
  - [unsupported-syntax](https://react.dev/reference/eslint-plugin-react-hooks/lints/unsupported-syntax)
  - [use-memo](https://react.dev/reference/eslint-plugin-react-hooks/lints/use-memo)

### Rules of React

- [Overview](https://react.dev/reference/rules)
  - [Components and Hooks must be pure](https://react.dev/reference/rules/components-and-hooks-must-be-pure)
  - [React calls Components and Hooks](https://react.dev/reference/rules/react-calls-components-and-hooks)
  - [Rules of Hooks](https://react.dev/reference/rules/rules-of-hooks)

### React Server Components

- [Server Components](https://react.dev/reference/rsc/server-components)
- [Server Functions](https://react.dev/reference/rsc/server-functions)
- [Directives](https://react.dev/reference/rsc/directives)
  - [‘use client’](https://react.dev/reference/rsc/use-client)
  - [‘use server’](https://react.dev/reference/rsc/use-server)

### Legacy APIs

- [Legacy React APIs](https://react.dev/reference/react/legacy)
  - [Children](https://react.dev/reference/react/Children)
  - [cloneElement](https://react.dev/reference/react/cloneElement)
  - [Component](https://react.dev/reference/react/Component)
  - [createElement](https://react.dev/reference/react/createElement)
  - [createRef](https://react.dev/reference/react/createRef)
  - [forwardRef](https://react.dev/reference/react/forwardRef)
  - [isValidElement](https://react.dev/reference/react/isValidElement)
  - [PureComponent](https://react.dev/reference/react/PureComponent)

Is this page useful?

[API Reference](https://react.dev/reference/react)

[Hooks](https://react.dev/reference/react/hooks)

# useOptimistic[](https://react.dev/reference/react/useOptimistic#undefined)

`useOptimistic` is a React Hook that lets you optimistically update the UI.

`const [optimisticState, addOptimistic] = useOptimistic(state, updateFn);`

- [Reference](https://react.dev/reference/react/useOptimistic#reference)
  - [`useOptimistic(state, updateFn)`](https://react.dev/reference/react/useOptimistic#use)
- [Usage](https://react.dev/reference/react/useOptimistic#usage)
  - [Optimistically updating forms](https://react.dev/reference/react/useOptimistic#optimistically-updating-with-forms)

-----

## Reference [](https://react.dev/reference/react/useOptimistic#reference)

### `useOptimistic(state, updateFn)`[](https://react.dev/reference/react/useOptimistic#use)

`useOptimistic` is a React Hook that lets you show a different state while an async action is underway. It accepts some state as an argument and returns a copy of that state that can be different during the duration of an async action such as a network request. You provide a function that takes the current state and the input to the action, and returns the optimistic state to be used while the action is pending.

This state is called the “optimistic” state because it is usually used to immediately present the user with the result of performing an action, even though the action actually takes time to complete.

`import { useOptimistic } from 'react';function AppContainer() {  const [optimisticState, addOptimistic] = useOptimistic(    state,    // updateFn    (currentState, optimisticValue) => {      // merge and return new state      // with optimistic value    }  );}`

[See more examples below.](https://react.dev/reference/react/useOptimistic#usage)

#### Parameters [](https://react.dev/reference/react/useOptimistic#parameters)

- `state`: the value to be returned initially and whenever no action is pending.
- `updateFn(currentState, optimisticValue)`: a function that takes the current state and the optimistic value passed to `addOptimistic` and returns the resulting optimistic state. It must be a pure function. `updateFn` takes in two parameters. The `currentState` and the `optimisticValue`. The return value will be the merged value of the `currentState` and `optimisticValue`.

#### Returns [](https://react.dev/reference/react/useOptimistic#returns)

- `optimisticState`: The resulting optimistic state. It is equal to `state` unless an action is pending, in which case it is equal to the value returned by `updateFn`.
- `addOptimistic`: `addOptimistic` is the dispatching function to call when you have an optimistic update. It takes one argument, `optimisticValue`, of any type and will call the `updateFn` with `state` and `optimisticValue`.

-----

## Usage [](https://react.dev/reference/react/useOptimistic#usage)

### Optimistically updating forms [](https://react.dev/reference/react/useOptimistic#optimistically-updating-with-forms)

The `useOptimistic` Hook provides a way to optimistically update the user interface before a background operation, like a network request, completes. In the context of forms, this technique helps to make apps feel more responsive. When a user submits a form, instead of waiting for the server’s response to reflect the changes, the interface is immediately updated with the expected outcome.

For example, when a user types a message into the form and hits the “Send” button, the `useOptimistic` Hook allows the message to immediately appear in the list with a “Sending…” label, even before the message is actually sent to a server. This “optimistic” approach gives the impression of speed and responsiveness. The form then attempts to truly send the message in the background. Once the server confirms the message has been received, the “Sending…” label is removed.

App.js actions.js

App.js

Reload Clear[Fork](https://codesandbox.io/api/v1/sandboxes/define?undefined&environment=create-react-app)

import { useOptimistic, useState, useRef, startTransition } from “react”;
import { deliverMessage } from “./actions.js”;

function Thread({ messages, sendMessageAction }) {
const formRef = useRef();
function formAction(formData) {
addOptimisticMessage(formData.get(“message”));
formRef.current.reset();
startTransition(async () => {
await sendMessageAction(formData);
});
}
const [optimisticMessages, addOptimisticMessage] = useOptimistic(
messages,
(state, newMessage) => [
{
text: newMessage,
sending: true
},
…state,
]
);

return (
<>
<form action={formAction} ref={formRef}>
<input type="text" name="message" placeholder="Hello!" />
<button type="submit">Send</button>
</form>
{optimisticMessages.map((message, index) => (
<div key={index}>
{message.text}
{!!message.sending && <small> (Sending…)</small>}
</div>
))}

```
</>
```

);
}

export default function App() {
const [messages, setMessages] = useState([
{ text: “Hello there!”, sending: false, key: 1 }
]);
async function sendMessageAction(formData) {
const sentMessage = await deliverMessage(formData.get(“message”));
startTransition(() => {
setMessages((messages) => [{ text: sentMessage }, …messages]);
})
}
return <Thread messages={messages} sendMessageAction={sendMessageAction} />;
}

Show more

[Previous useMemo](https://react.dev/reference/react/useMemo)[Next useReducer](https://react.dev/reference/react/useReducer)

-----

[](https://opensource.fb.com/)

Copyright © Meta Platforms, Inc

no uwu plz

uwu?

Logo by[@sawaratsuki1004](https://twitter.com/sawaratsuki1004)

[Learn React](https://react.dev/learn)

[Quick Start](https://react.dev/learn)

[Installation](https://react.dev/learn/installation)

[Describing the UI](https://react.dev/learn/describing-the-ui)

[Adding Interactivity](https://react.dev/learn/adding-interactivity)

[Managing State](https://react.dev/learn/managing-state)

[Escape Hatches](https://react.dev/learn/escape-hatches)

[API Reference](https://react.dev/reference/react)

[React APIs](https://react.dev/reference/react)

[React DOM APIs](https://react.dev/reference/react-dom)

[Community](https://react.dev/community)

[Code of Conduct](https://github.com/facebook/react/blob/main/CODE_OF_CONDUCT.md)

[Meet the Team](https://react.dev/community/team)

[Docs Contributors](https://react.dev/community/docs-contributors)

[Acknowledgements](https://react.dev/community/acknowledgements)

More

[Blog](https://react.dev/blog)

[React Native](https://reactnative.dev/)

[Privacy](https://opensource.facebook.com/legal/privacy)

[Terms](https://opensource.fb.com/legal/terms/)

[](https://www.facebook.com/react)[](https://twitter.com/reactjs)[](https://bsky.app/profile/react.dev)[](https://github.com/facebook/react)

## On this page

- [Overview](https://react.dev/reference/react/useOptimistic#)
- [Reference](https://react.dev/reference/react/useOptimistic#reference)
- [`useOptimistic(state, updateFn)`](https://react.dev/reference/react/useOptimistic#use)
- [Usage](https://react.dev/reference/react/useOptimistic#usage)
- [Optimistically updating forms](https://react.dev/reference/react/useOptimistic#optimistically-updating-with-forms)