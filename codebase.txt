<documents>
<document path="hackernews_adapter.py">
class HackerNewsAdapter(NewsletterAdapter):
    """Adapter for HackerNews using Algolia HN Search API."""
    ...

    def __init__(self, config):
        """Initialize with config.

        Note: We don't use the HTML-to-markdown functionality from base class.
        """
    ...

    def scrape_date(self, date: str, excluded_urls: list[str]) -> dict:
        """Fetch HackerNews stories using Algolia API with server-side filtering.

        Strategy: Single combined query for all story types (story, ask_hn, show_hn)
        with quality filters applied server-side. This is ~67% fewer requests and
        ~77% less data than the previous approach.

        Args:
            date: Date string in YYYY-MM-DD format
            excluded_urls: List of canonical URLs to exclude from results

        Returns:
            Normalized response dictionary
        """
    ...

    def _fetch_stories_algolia(
        self,
        start_timestamp: int,
        end_timestamp: int,
        min_points: int = 30,
        min_comments: int = 5,
        limit: int = 50
    ) -> list:
        """Fetch stories from Algolia HN Search API with server-side filtering.

        Args:
            start_timestamp: Unix timestamp for start of date range
            end_timestamp: Unix timestamp for end of date range
            min_points: Minimum points (upvotes) required
            min_comments: Minimum comment count required
            limit: Maximum number of stories to return

        Returns:
            List of story dictionaries from Algolia API
        """
    ...

    def _algolia_story_to_article(self, story: dict, date: str) -> dict | None:
        """Convert Algolia HN story to article dict.

        Args:
            story: Algolia HN story dictionary
            date: Date string

        Returns:
            Article dictionary or None if story should be skipped
        """
    ...
</document>
<document path="newsletter_adapter.py">
class NewsletterAdapter:
    """Base adapter for newsletter sources.

    Subclasses can either:
    1. Implement fetch_issue, parse_articles, and extract_issue_metadata for HTML-based sources
    2. Override scrape_date() entirely for API-based sources or custom workflows
    """
    ...

    def __init__(self, config: NewsletterSourceConfig):
        """Initialize adapter with source configuration.

        Args:
            config: Configuration object defining source-specific settings
        """
    ...

    def fetch_issue(self, date: str, newsletter_type: str) -> str | None:
        """Fetch raw HTML for a specific issue.

        Override this method for HTML-based sources.
        For API-based sources, override scrape_date() instead.

        Args:
            date: Date string in format used by source
            newsletter_type: Type/category within source (e.g., "tech", "ai")

        Returns:
            HTML content as string, or None if issue not found
        """
    ...

    def parse_articles(
        self, markdown: str, date: str, newsletter_type: str
    ) -> list[dict]:
        """Parse articles from markdown content.

        Override this method for HTML-based sources.
        For API-based sources, override scrape_date() instead.

        Args:
            markdown: Converted markdown content
            date: Date string for the issue
            newsletter_type: Type/category within source

        Returns:
            List of article dictionaries with keys: title, url, category, date, etc.
        """
    ...

    def extract_issue_metadata(
        self, markdown: str, date: str, newsletter_type: str
    ) -> dict | None:
        """Extract issue metadata (title, subtitle, sections).

        Override this method for HTML-based sources.
        For API-based sources, override scrape_date() instead.

        Args:
            markdown: Converted markdown content
            date: Date string for the issue
            newsletter_type: Type/category within source

        Returns:
            Dictionary with issue metadata, or None if no metadata found
        """
    ...

    def scrape_date(self, date: str, excluded_urls: list[str]) -> dict:
        """Template method - orchestrates fetch + parse + normalize.

        This default implementation follows the HTML scraping workflow:
        1. Fetch HTML for each type configured for this source
        2. Convert HTML to markdown
        3. Parse articles and extract metadata
        4. Filter out excluded URLs
        5. Normalize response with source_id

        Subclasses can override this entire method for different workflows
        (e.g., API-based sources that don't use HTML conversion).

        Args:
            date: Date string to scrape
            excluded_urls: List of canonical URLs to exclude from results

        Returns:
            Normalized response dictionary with source_id, articles, and issues
        """
    ...

    def _html_to_markdown(self, html: str) -> str:
        """Convert HTML to markdown using BeautifulSoup and MarkItDown.

        Args:
            html: Raw HTML content

        Returns:
            Markdown string
        """
    ...

    def _normalize_response(self, articles: list[dict], issues: list[dict]) -> dict:
        """Convert to standardized format with source_id.

        This ensures every article and issue includes the source_id to prevent
        identity collisions when multiple sources are aggregated.

        Args:
            articles: List of parsed articles
            issues: List of parsed issue metadata

        Returns:
            Normalized response with source_id added to all items
        """
    ...
</document>
<document path="newsletter_config.py">
class NewsletterSourceConfig:
    """Configuration for a newsletter source."""
    ...
</document>
<document path="newsletter_merger.py">
def build_markdown_output(
    start_date, end_date, grouped_articles: dict[str, list[dict]], issues_by_key: dict
) -> str:
    """Generate neutral markdown output from grouped articles.

    Args:
        start_date: Start date for the range
        end_date: End date for the range
        grouped_articles: Articles grouped by date
        issues_by_key: Issue metadata indexed by (date, source_id, category)

    Returns:
        Markdown formatted string
    """
    ...

    def build_article_lines(article_list):
    ...

        def get_category_sort_key(category):
    ...
</document>
<document path="newsletter_scraper.py">
def _get_adapter_for_source(config):
    """Factory pattern - returns appropriate adapter for source.

    Args:
        config: NewsletterSourceConfig instance

    Returns:
        NewsletterAdapter instance

    Raises:
        ValueError: If no adapter exists for the source
    """
    ...

def _normalize_article_payload(article: dict) -> dict:
    """Normalize article dict into API payload format.

    >>> article = {"url": "https://example.com", "title": "Test", "date": "2024-01-01", "category": "Tech", "removed": None}
    >>> result = _normalize_article_payload(article)
    >>> result["removed"]
    False
    """
    ...

def _group_articles_by_date(articles: list[dict]) -> dict[str, list[dict]]:
    """Group articles by date string.

    >>> articles = [{"date": "2024-01-01", "title": "Test"}]
    >>> result = _group_articles_by_date(articles)
    >>> "2024-01-01" in result
    True
    """
    ...

def _sort_issues(issues: list[dict]) -> list[dict]:
    """Sort issues by date DESC, source sort_order ASC, category ASC.

    >>> issues = [{"date": "2024-01-01", "source_id": "tldr_tech", "category": "Tech"}]
    >>> result = _sort_issues(issues)
    >>> len(result) == 1
    True
    """
    ...

def _compute_stats(
    articles: list[dict],
    url_set: set[str],
    dates: list,
    grouped_articles: dict[str, list[dict]],
    network_fetches: int,
) -> dict:
    """Compute scrape statistics.

    >>> stats = _compute_stats([], set(), [], {}, 0)
    >>> stats["total_articles"]
    0
    """
    ...

def _build_scrape_response(
    start_date,
    end_date,
    dates,
    all_articles,
    url_set,
    issue_metadata_by_key,
    network_fetches,
):
    """Orchestrate building the complete scrape response."""
    ...

def _collect_newsletters_for_date_from_source(
    source_id,
    config,
    date,
    date_str,
    processed_count,
    total_count,
    url_set,
    all_articles,
    issue_metadata_by_key,
    excluded_urls,
):
    """Collect newsletters for a date using source adapter.

    Args:
        source_id: Source identifier
        config: NewsletterSourceConfig instance
        date: Date object
        date_str: Date string
        processed_count: Current progress counter
        total_count: Total items to process
        url_set: Set of URLs for deduplication
        all_articles: List to append articles to
        issue_metadata_by_key: Dict to store issue metadata
        excluded_urls: List of canonical URLs to exclude

    Returns:
        Tuple of (updated_processed_count, network_articles_count)
    """
    ...

def scrape_date_range(start_date, end_date, source_ids=None, excluded_urls=None):
    """Scrape newsletters in date range using configured adapters.

    Args:
        start_date: Start date
        end_date: End date
        source_ids: Optional list of source IDs to scrape. If None, scrapes all configured sources.
        excluded_urls: List of canonical URLs to exclude from results

    Returns:
        Response dictionary with articles and issues
    """
    ...

    def _issue_sort_key(issue: dict) -> tuple:
    ...
</document>
<document path="serve.py">
def index():
    """Serve the React app"""
    ...

def scrape_newsletters_in_date_range():
    """Backend proxy to scrape newsletters. Expects start_date, end_date, excluded_urls, and optionally sources in the request body."""
    ...

def tldr_url(model: str = DEFAULT_MODEL):
    """Create a TLDR of the content at a URL.

    Requires 'url'. Optional: 'summary_effort' to set the reasoning effort level, 'model' query param to specify OpenAI model.
    """
    ...

def get_storage_setting(key):
    """Get setting value by key."""
    ...

def set_storage_setting(key):
    """Set setting value by key."""
    ...

def get_storage_daily(date):
    """Get cached payload for a specific date."""
    ...

def set_storage_daily(date):
    """Save or update daily payload."""
    ...

def get_storage_daily_range():
    """Get all cached payloads in date range."""
    ...

def check_storage_is_cached(date):
    """Check if a specific date exists in cache."""
    ...
</document>
<document path="storage_service.py">
def get_setting(key):
    """
    Get setting value by key.

    >>> get_setting('cache:enabled')
    True
    """
    ...

def set_setting(key, value):
    """
    Set setting value by key (upsert).

    >>> set_setting('cache:enabled', False)
    {'key': 'cache:enabled', 'value': False, ...}
    """
    ...

def get_daily_payload(date):
    """
    Get cached payload for a specific date.

    >>> get_daily_payload('2025-11-09')
    {'date': '2025-11-09', 'articles': [...], ...}
    """
    ...

def set_daily_payload(date, payload):
    """
    Save or update daily payload (upsert).

    >>> set_daily_payload('2025-11-09', {'date': '2025-11-09', 'articles': [...]})
    {'date': '2025-11-09', 'payload': {...}, ...}
    """
    ...

def get_daily_payloads_range(start_date, end_date):
    """
    Get all cached payloads in date range (inclusive).

    >>> get_daily_payloads_range('2025-11-07', '2025-11-09')
    [{'date': '2025-11-09', ...}, {'date': '2025-11-08', ...}, ...]
    """
    ...

def is_date_cached(date):
    """
    Check if a specific date exists in cache.

    >>> is_date_cached('2025-11-09')
    True
    """
    ...
</document>
<document path="summarizer.py">
def normalize_summary_effort(value: str) -> str:
    """Normalize summary effort value to a supported option."""
    ...

def _is_github_repo_url(url: str) -> bool:
    """Check if URL is a GitHub repository URL."""
    ...

def _build_jina_reader_url(url: str) -> str:
    """Build r.jina.ai reader URL for a target page.

    >>> _build_jina_reader_url('https://openai.com/index/introducing-agentkit')
    'https://r.jina.ai/http://openai.com/index/introducing-agentkit'
    >>> _build_jina_reader_url('https://example.com/path?x=1')
    'https://r.jina.ai/http://example.com/path?x=1'
    """
    ...

def _scrape_with_curl_cffi(
    ...

def _scrape_with_jina_reader(url: str, *, timeout: int) -> requests.Response:
    ...

def _scrape_with_firecrawl(url: str, *, timeout: int) -> requests.Response:
    ...

def scrape_url(url: str, *, timeout: int = 10) -> Response:
    ...

def _fetch_github_readme(url: str) -> str:
    """Fetch README.md content from a GitHub repository URL."""
    ...

def url_to_markdown(url: str) -> str:
    """Fetch URL and convert to markdown. For GitHub repos, fetches README.md."""
    ...

def tldr_url(url: str, summary_effort: str = DEFAULT_TLDR_REASONING_EFFORT, model: str = DEFAULT_MODEL) -> str:
    """Get markdown content from URL and create a TLDR with LLM.

    Args:
        url: The URL to TLDR
        summary_effort: OpenAI reasoning effort level
        model: OpenAI model to use

    Returns:
        The TLDR markdown
    """
    ...

def _fetch_prompt(
    ...

def _fetch_tldr_prompt(
    owner: str = "giladbarnea",
    repo: str = "llm-templates",
    path: str = "text/tldr.md",
    ref: str = "main",
) -> str:
    """Fetch TLDR prompt from GitHub (cached in memory)."""
    ...

def _call_llm(prompt: str, summary_effort: str = DEFAULT_TLDR_REASONING_EFFORT, model: str = DEFAULT_MODEL) -> str:
    """Call OpenAI API with prompt."""
    ...

    def response_iter_content_stub(self, *args, **kwargs):
    ...
</document>
<document path="supabase_client.py">
def _create_unverified_context(*args, **kwargs):
    ...

def get_supabase_client():
    ...
</document>
<document path="tldr_adapter.py">
class NewsletterSection:
    """Represents a section within a newsletter issue."""
    ...

class NewsletterIssue:
    """Represents metadata for a newsletter issue."""
    ...

class ParsedMarkdown:
    """Structured result from parsing markdown once."""
    ...

class TLDRAdapter(NewsletterAdapter):
    """Adapter for TLDR newsletter sources (Tech, AI, etc.)."""
    ...

    def fetch_issue(self, date: str, newsletter_type: str) -> str | None:
        """Fetch TLDR newsletter HTML for a specific date and type.

        Args:
            date: Date string in YYYY-MM-DD format
            newsletter_type: Newsletter type (e.g., "tech", "ai")

        Returns:
            HTML content as string, or None if not found
        """
    ...

    def _parse_markdown_structure(
        self, markdown: str, date: str, newsletter_type: str
    ) -> ParsedMarkdown:
        """Parse markdown once into structured format.

        Extracts all structure (headings, sections, links) in a single pass.
        """
    ...

    def parse_articles(
        self, markdown: str, date: str, newsletter_type: str
    ) -> list[dict]:
        """Parse TLDR articles from markdown content.

        Args:
            markdown: Markdown content converted from HTML
            date: Date string for the issue
            newsletter_type: Newsletter type (e.g., "tech", "ai")

        Returns:
            List of article dictionaries
        """
    ...

    def extract_issue_metadata(
        self, markdown: str, date: str, newsletter_type: str
    ) -> dict | None:
        """Extract TLDR issue metadata (title, subtitle, sections).

        Args:
            markdown: Markdown content converted from HTML
            date: Date string for the issue
            newsletter_type: Newsletter type (e.g., "tech", "ai")

        Returns:
            Dictionary with issue metadata, or None if no metadata found
        """
    ...

    def _is_symbol_only_line(text: str) -> bool:
        """Check if a line contains only symbols/emoji (no alphanumeric chars).

        Args:
            text: Text to check

        Returns:
            True if line contains only symbols
        """
    ...

    def _is_file_url(url: str) -> bool:
        """Check if URL points to a file (image, PDF, etc.) rather than a web page.

        Args:
            url: URL to check

        Returns:
            True if URL appears to be a file
        """
    ...
</document>
<document path="tldr_app.py">
def scrape_newsletters(
    start_date_text: str, end_date_text: str, source_ids: list[str] | None = None, excluded_urls: list[str] | None = None
) -> dict:
    """Scrape newsletters in date range.

    Args:
        start_date_text: Start date in ISO format
        end_date_text: End date in ISO format
        source_ids: Optional list of source IDs to scrape. Defaults to all configured sources.
        excluded_urls: List of canonical URLs to exclude from results

    Returns:
        Response dictionary with articles and issues
    """
    ...

def tldr_url(
    ...
</document>
<document path="tldr_service.py">
def _parse_date_range(
    start_date_text: str, end_date_text: str
) -> tuple[datetime, datetime]:
    """Parse ISO date strings and enforce range limits.

    >>> _parse_date_range("2024-01-01", "2024-01-02")[0].isoformat()
    '2024-01-01T00:00:00'
    """
    ...

def scrape_newsletters_in_date_range(
    start_date_text: str, end_date_text: str, source_ids: list[str] | None = None, excluded_urls: list[str] | None = None
) -> dict:
    """Scrape newsletters in date range.

    Args:
        start_date_text: Start date in ISO format
        end_date_text: End date in ISO format
        source_ids: Optional list of source IDs to scrape. Defaults to all configured sources.
        excluded_urls: List of canonical URLs to exclude from results

    Returns:
        Response dictionary with articles and issues
    """
    ...

def fetch_tldr_prompt_template() -> str:
    ...

def tldr_url_content(
    ...
</document>
<document path="util.py">
def log(msg, *args, **kwargs):
    ...

def resolve_env_var(name: str, default: str = "") -> str:
    """
    Resolve environment variable, trying both direct name and TLDR_SCRAPER_ prefixed version.
    Strips surrounding quotes from the value if present.

    >>> os.environ['TEST_VAR'] = '"value"'
    >>> resolve_env_var('TEST_VAR')
    'value'
    >>> os.environ['TEST_VAR'] = 'value'
    >>> resolve_env_var('TEST_VAR')
    'value'
    """
    ...

def get_date_range(start_date, end_date):
    """Generate list of dates between start and end (inclusive)"""
    ...

def format_date_for_url(date):
    """Format date as YYYY-MM-DD for TLDR URL"""
    ...

def canonicalize_url(url) -> str:
    """Canonicalize URL for better deduplication.

    Normalizes:
    - Removes scheme (http:// or https://)
    - Removes www. prefix
    - Removes query parameters
    - Removes URL fragments
    - Removes trailing slashes (including root)
    - Lowercases domain
    """
    ...

def get_domain_name(url) -> str:
    """Extract a friendly domain name from a URL"""
    ...
</document>
<document path="AGENTS.md">
---
last_updated: 2025-11-18 10:35, af7d9f0
---
# Agents Guide

## Project overview

Newsletter aggregator that scrapes tech newsletters from multiple sources, displays them in a unified interface, and provides AI-powered TLDRs.

- Stack:
   * Python: Flask backend, serverless on Vercel
   * React 19 + Vite (frontend) (in `client/`)
   * Supabase PostgreSQL for all data persistence
   * OpenAI GPT-5 for TLDRs
- Storage: Project uses Supabase Database (PostgreSQL) for all data persistence (newsletters, article states, settings, scrape results). Data is stored server-side with client hooks managing async operations.
- Cache mechanism: Server-side storage with cache-first scraping behavior. Daily payloads stored as JSONB in PostgreSQL. 

See [ARCHITECTURE.md](ARCHITECTURE.md) for detailed flows & user interactions documentation and [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) for a map of the project structure.

## Environment

The single source of truth for what is available locally is the output of:

```bash
env | grep -E -o '^[A-Z_]+' | grep -e TLDR -e TOKEN -e API -e KEY | sort -u  # Should print the names of all environment variables without values on a need-to-know basis.
```

**Run `source ./setup.sh` first thing to install all server and client dependencies and tooling, build the client, verify your environment and provide you with convenience functions and crucial context for the project.**

### Expected Environment Variables for AI Agents **besides Cursor Background Agents** (for Claude, Codex, etc.)

- FIRECRAWL_API_KEY
- GITHUB_API_TOKEN
- OPENAI_API_KEY
- SUPABASE_API_KEY
- SUPABASE_DATABASE_PASSWORD
- SUPABASE_SERVICE_KEY
- SUPABASE_URL

This is true both for local and production environments.

## Development & Setup

### Running the server and logs watchdog
```bash
# Verify the environment and dependencies are set up correctly.
source ./setup.sh

# Start the server and watchdog in the background. Logs output to file.
start_server_and_watchdog

# Verify the server is running.
print_server_and_watchdog_pids

# Exercise the API with curl requests.
curl http://localhost:5001/api/scrape
curl http://localhost:5001/api/tldr-url
curl ...additional endpoints that may be relevant...

# Stop the server and watchdog.
kill_server_and_watchdog
```


## Client setup

Builds client:
```bash
source setup.sh
```

### Frontend development

For frontend development with hot reload:

```bash
cd client
npm run dev
```

This runs Vite dev server on port 3000 with API proxy to localhost:5001.

#### Testing Client With Playwright

1. Use this browser configuration:
```python
launch_options = {
    'headless': True,
    'args': [
        '--no-sandbox',
        '--disable-setuid-sandbox',
        '--disable-dev-shm-usage',
        '--disable-accelerated-2d-canvas',
        '--no-first-run',
        '--no-zygote',
        '--disable-gpu',
        '--disable-software-rasterizer',
        '--disable-web-security',
        '--disable-features=IsolateOrigins,site-per-process',
        '--disable-blink-features=AutomationControlled',
    ]
}
browser = p.chromium.launch(**launch_options)
context = browser.new_context(
    viewport={"width": 1920, "height": 1080},
    ignore_https_errors=True,
    bypass_csp=True,
)
page = context.new_page()
```

2. Take, download and view screenshots yourself to assess visuals
3. Utilize event monitoring (on "console", "request", "pageerror", ...)
4. Lean on testing real user flows
5. Wait intelligently
    - `wait_until="domcontentloaded"`, not "networkidle"
    - `page.wait_for_selector('body', state="visible")`
    - time.sleep(2~3) for React hydration
6. Leverage CSS classes as distinguishers


### `uv` installation and usage

- Install `uv`:
```bash
source setup.sh
```

Never run Python directly. Always use `uv` to run Python.
Do: `uv run python3 ...`. Do not: `python3 ...`.
Do: `uv run --with=dep1 python3 ...`. Do not: `pip install ...`.

- Use Python via `uv` for quick testing:
```bash
uv run python3 - <<'PY'
import json, sys
print("hello from uv python")
PY
```
- `uv` can transiently install dependencies if you need or consider integrating any:
```bash
uv run --with=dep1,dep2,dep3 python3 - <<'PY'
import dep1, dep2, dep3, os
dep1.do(os.environ["MY_API_KEY"])
PY
```

## Practical guidance

- Trust and Verify: Lean heavily on curling and running transient Python programs in a check-verify-trial-and-error process to make sure you know what you're doing, that you are expecting the right behavior, and to verify assumptions that any particular way of doing something is indeed the right way. This is doubly true when it comes to third-party integrations, third-party libraries, network requests, APIs, the existence and values of environment variables. 
- Run `source ./setup.sh` to verify the environment and dependencies are set up correctly. Use `source setup.sh && start_server_and_watchdog` and `source setup.sh && print_server_and_watchdog_pids` to confirm the local server is running. Generously exercise the API with `curl` requests (e.g., `/api/scrape`, `/api/tldr-url`) throughout the development process to catch regressions early. Use `source setup.sh && kill_server_and_watchdog` for cleanup.
- Verify every new behavior, fix or modification you make by utilizing your shell and Playwright. If possible, execute the modified flow to ensure nothing is broken.


## Development Conventions

1. Do not abbreviate variable, function or class names. Use complete words. Write clean code.
2. Write code that fails early and clearly rather than writing fallbacks to "maybe broken" inputs. Zero "Just in case my inputs are corrupted" code. Fallback-rich code is to be avoided because it explodes complexity and often just silently propagates bugs downstream. Good code assumes that its inputs are valid and complete. It trusts upstream code to have completed its job. This ties closely to separation of concerns. And if something important fails, or an assumption is broken, fail early and clearly. Broken code should be discovered early and loudly and fixed quickly; It should not be tolerated, nor worked around.
3. Write highly cohesive, decoupled logic.
4. Early return from functions when possible.
5. Utilize existing logic when possible. Do not re-implement anything.
6. Write flat, optimized logical branches. Avoid nested, duplicate-y code. Write DRY and elegant logic.
7. Prefer `import modulename` and call `modulename.function()` rather than `from modulename import function`. Namespacing is an easy clarity win. `import os.path; os.path.join(...)` is better than `from os.path import join(...)`.
8. Always use `util.resolve_env_var` to get environment variables.
9. Add a doctest example to pure-ish functions (data in, data out).
10. `util.log` when something is going wrong, even if it is recoverable. Be consistent with existing logging style.

<Bad: fallback-rich, squirmy code>
```py
@app.route("/api/tldr-url", methods=["POST"])
def tldr_url():
    """Requires 'url' in request body"""
    # Unnecessarily defends against broken upstream guarantees.
    data = request.get_json() or {}
    url = data.get("url", "")
    result = tldr_service.tldr_url_content(url) or ""
```
</Bad: fallback-rich, squirmy code>

<Good: straightforward, upstream-trusting code>
```py
@app.route("/api/tldr-url", methods=["POST"])
def tldr_url():
    """Requires 'url' in request body"""
    # Assumes upstream guarantees are upheld (inputs are valid and complete) — thus keeps the state machine simpler.
    # If upstream guarantees are broken (e.g., missing 'url'), we WANT to fail as early as possible (in this case, `data['url']` will throw a KeyError)
    data = request.get_json()
    url = data['url']
    result = tldr_service.tldr_url_content(url)
```
</Good: straightforward, upstream-trusting code>

<Bad: unnecessarily defensive, therefore nested code>
```py
# `MyResponse.words` is an optional list, defaulting to None (`words: list | None = None`).
response: MyResponse = requests.post(...)

# Both checks are redundant:
#  1. `response.words` is guaranteed to exist by the MyResponse model
#  2. `response.words` can be coerced to an empty iterable if it is None instead of checked.
if hasattr(response, 'words') and response.words:
    for word in response.words:
        ...  # Nested indentation level
```
</Bad: unnecessarily defensive, therefore nested code>

<Good: straightforward, confident, flatter code with fewer logical branches>
```py
response: MyResponse = requests.post(...)

# The `or []` is a safe coercion to an empty iterable if `response.words` is None. In the empty case, the loop will not run, which is the desired behavior.
for word in response.words or []:
    ...  # Single indentation level; as safe if not safer than the bad, defensive example above.
```
</Good: straightforward, confident, flatter code with fewer logical branches>

## The Right Engineering Mindset

1. Avoid increasing complexity without a truly justified reason. Each new line of code or logical branch increases complexity. Complexity is the enemy of the project. In your decision-making, ask yourself how might you **REDUCE complexity** in your solution, rather than just solve the immediate problem ad-hoc. Oftentimes, reducing complexity means **removing code**, which is OK. If done right, removing code is beneficial similarly to how clearing Tetris blocks is beneficial — it simplifies and creates more space.
2. Prefer declarative code design over imperative approaches. From a variable to an entire system, if it can be declaratively expressed upfront, do so. People understand things better when they can see the full picture instead of having to dive in. Difficulty arises when flow and logic are embedded implicitly in a sprawling implementation.
3. Avoid over-engineering and excessive abstraction. Abstractions have to be clearly justified. Simplicity and clarity are key.
4. If you're unsure whether your response is correct, that's completely fine—just let me know of your uncertainty and continue responding. We're a team.
5. Do not write comments in code, unless they are critical for understanding. Especially, do not write "journaling" comments saying "modified: foo", "added: bar" or "new implementation", as if to leave a modification trail behind.
6. For simple tasks that could be performed straight away, do not think much. Just do it. For more complex tasks that would benefit from thinking, think deeper, proportionally to the task's complexity. Regardless, always present your final response in a direct and concise manner. No fluff.
7. Do NOT fix linter errors unless instructed by the user to do so.
8. Docstrings should be few and far between. When you do write one, keep it to 1-2 sentences max.

## Crucial Important Rules: How To Approach a Task.

The following points are close to my heart:
1. Before starting your task, you must understand how big the affected scope is. Will the change affect the entire stack & flow, from the db architecture to the client logic? Map out the moving parts and coupling instances before thinking and planning.
2. If you are fixing a bug, hypothesize of the root cause before planning your changes.
3. Plan step-by-step. Account for the moving parts and coupling you found in step (1).
4. When making changes, be absolutely SURGICAL. Every line of code you add incurs a small debt; this debt compounds over time through maintenance costs, potential bugs, and cognitive load for everyone who must understand it later. Therefore, make only laser-focused changes.
4. No band-aid fixes. When encountering a problem, first brainstorm what possible root causes may explain it. band-aid fixes are bad because they increase complexity significantly. Root-cause solutions are good because they reduce complexity.


## Being an Effective AI Agent

1. Know your weaknesses: your eagerness to solve a problem can cause tunnel vision. You may fix the issue but unintentionally create code duplication, deviate from the existing design, or introduce a regression in other coupled parts of the project you didn't consider. The solution is to literally look around beyond the immediate fix, be aware of (and account for) coupling around the codebase, integrate with the existing design, and periodically refactor.
2. You do your best work when you can verify yourself. With self-verification, you can and should practice continuous trial and error instead of a single shot in the dark.

## Documentation

1. YAML frontmatter is automatically updated in CI. Do not manually update it.
2. CLAUDE.md is a read-only exact copy of AGENTS.md. It is generated automatically in CI. It is read-only for you. Any updates should be made in AGENTS.md and not CLAUDE.md.

</document>
<document path="ARCHITECTURE.md">
---
last-updated: 2025-11-14 14:33, e0594d7
last_updated: 2025-11-18 10:35, af7d9f0
---
# TLDRScraper Architecture Documentation

## Overview

TLDRScraper is a newsletter aggregator that scrapes tech newsletters from multiple sources, displays them in a unified interface, and provides AI-powered TLDRs. The architecture follows a React 19 + Vite frontend communicating with a Flask backend via REST API, with all state and cache data persisted server-side in Supabase PostgreSQL.

## Technology Stack

**Frontend:**
- React 19
- Vite (build tool)
- Marked.js (markdown parsing)
- DOMPurify (XSS sanitization)

**Backend:**
- Flask (Python web framework)
- Supabase PostgreSQL (database for all state/cache persistence)
- curl_cffi (web scraping)
- Jina Reader API (web scraping fallback)
- Firecrawl API (web scraping fallback, optional)
- MarkItDown (HTML → Markdown conversion)
- OpenAI GPT-5 (AI TLDRs)

## Architecture Diagram

```plaintext
┌─────────────────────────────────────────────────────────────────────────┐
│                             User Browser                                 │
│  ┌───────────────────────────────────────────────────────────────────┐  │
│  │                       React 19 Application                        │  │
│  │  ┌────────────┐  ┌──────────────┐  ┌──────────────────────────┐  │  │
│  │  │  App.jsx   │  │ Components   │  │    Hooks                 │  │  │
│  │  │            │  │              │  │                          │  │  │
│  │  │  - Root    │  │ - ScrapeForm │  │ - useArticleState        │  │  │
│  │  │  - Hydrate │  │ - CacheToggle│  │ - useSummary             │  │  │
│  │  │  - Results │  │ - Results    │  │ - useSupabaseStorage     │  │  │
│  │  │    Display │  │   Display    │  │                          │  │  │
│  │  │            │  │ - ArticleList│  │ Lib                      │  │  │
│  │  │            │  │ - ArticleCard│  │ - scraper.js             │  │  │
│  │  │            │  │              │  │ - storageApi.js          │  │  │
│  │  └────────────┘  └──────────────┘  └──────────────────────────┘  │  │
│  └───────────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    │ HTTP REST API
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                          Flask Backend (Python)                          │
│  ┌───────────────────────────────────────────────────────────────────┐  │
│  │                         serve.py (Routes)                         │  │
│  │  POST /api/scrape             POST /api/tldr-url                 │  │
│  │  GET/POST /api/storage/setting/<key>                             │  │
│  │  GET/POST /api/storage/daily/<date>                              │  │
│  │  POST /api/storage/daily-range                                   │  │
│  │  GET /api/storage/is-cached/<date>                               │  │
│  └───────────────────────────────────────────────────────────────────┘  │
│                                    │                                     │
│                                    ▼                                     │
│  ┌───────────────────────────────────────────────────────────────────┐  │
│  │                       tldr_app.py (App Logic)                     │  │
│  │  - scrape_newsletters()    - tldr_url()                           │  │
│  │  - get_tldr_prompt_template()                                    │  │
│  └───────────────────────────────────────────────────────────────────┘  │
│                                    │                                     │
│                                    ▼                                     │
│  ┌───────────────────────────────────────────────────────────────────┐  │
│  │                    tldr_service.py (Service Layer)                │  │
│  │  - scrape_newsletters_in_date_range()                             │  │
│  │  - tldr_url_content()                                             │  │
│  └───────────────────────────────────────────────────────────────────┘  │
│  ┌───────────────────────────────────────────────────────────────────┐  │
│  │                 storage_service.py (Storage Layer)                │  │
│  │  - get_setting() / set_setting()                                  │  │
│  │  - get_daily_payload() / set_daily_payload()                      │  │
│  │  - get_daily_payloads_range() / is_date_cached()                  │  │
│  └───────────────────────────────────────────────────────────────────┘  │
│              │                            │                              │
│              ▼                            ▼                              │
│  ┌────────────────────────┐   ┌──────────────────────────────────────┐ │
│  │  newsletter_scraper.py │   │       summarizer.py                  │ │
│  │                        │   │                                      │ │
│  │  - scrape_date_range() │   │  - tldr_url()                       │ │
│  │  - Adapter Factory     │   │  - url_to_markdown()                │ │
│  │                        │   │  - scrape_url()                     │ │
│  │  Uses:                 │   │  - _call_llm()                      │ │
│  │  - TLDRAdapter         │   │                                      │ │
│  │  - HackerNewsAdapter   │   │                                      │ │
│  └────────────────────────┘   └──────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                   Database & External Services                           │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │  Supabase PostgreSQL Database                                    │  │
│  │  - settings table (key-value for cache:enabled, etc.)            │  │
│  │  - daily_cache table (JSONB payloads by date)                    │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│  ┌──────────────┐  ┌──────────────┐  ┌────────────────────────────┐   │
│  │  TLDR News   │  │ HackerNews   │  │  OpenAI GPT-5 API          │   │
│  │  Newsletter  │  │  API         │  │  (Summaries & TLDRs)       │   │
│  │  Archives    │  │              │  │                            │   │
│  └──────────────┘  └──────────────┘  └────────────────────────────┘   │
│  ┌──────────────┐  ┌──────────────┐  ┌────────────────────────────┐   │
│  │  Jina Reader │  │  curl_cffi   │  │  Firecrawl API             │   │
│  │  r.jina.ai   │  │  (Chrome)    │  │  api.firecrawl.dev         │   │
│  └──────────────┘  └──────────────┘  └────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## Features & User Interactions

### 1. Newsletter Scraping
**User Action:** Enter start/end dates → Click "Scrape Newsletters"

**Available Interactions:**
- Select date range (max 31 days)
- Submit scrape request
- View progress bar
- View results grouped by date/issue

### 2. Cache Management
**User Action:** Toggle cache checkbox

**Available Interactions:**
- Enable/disable cache
- State persists in Supabase settings table

### 3. Article State Management
**User Action:** Click article link / Remove button / Restore button

**Available Interactions:**
- Click article title → Mark as read
- Click "Remove" → Mark as removed (visual strikethrough)
- Click "Restore" → Restore removed article
- Article states persist in Supabase daily_cache table

### 4. TLDR Generation
**User Action:** Click "TLDR" button on article

**Available Interactions:**
- Click "TLDR" → Fetch TLDR from API
- TLDR displayed inline below article
- Click again → Collapse TLDR (marks as tldrHidden; deprioritized)
- Cached TLDRs show "Available" (green)

### 5. Results Display
**User Action:** View scraped results

**Available Interactions:**
- Articles grouped by: Date → Issue/Category → Section
- Articles sorted by state: Unread → Read → TLDR-hidden → Removed
- Visual state indicators (bold = unread, muted = read, strikethrough = removed)
- Stats display (article count, unique URLs, dates processed)
- Collapsible debug logs

---

## State Machines

### Feature 1: Newsletter Scraping

#### States
1. **idle** - No scraping in progress
2. **validating** - Validating date range input
3. **checking_cache** - Checking if range is fully cached
4. **fetching_api** - Calling backend API
5. **merging_cache** - Merging API results with Supabase cache
6. **complete** - Results displayed
7. **error** - Error occurred

#### State Transitions

```
idle
  │
  ├─ User enters dates
  │    ↓
  │  validating
  │    │
  │    ├─ Valid dates
  │    │    ↓
  │    │  checking_cache
  │    │    │
  │    │    ├─ Fully cached & cache enabled
  │    │    │    ↓
  │    │    │  loading_cache (GET /api/storage/daily-range)
  │    │    │    ↓
  │    │    │  complete (load from Supabase)
  │    │    │
  │    │    └─ Not fully cached OR cache disabled
  │    │         ↓
  │    │       fetching_api
  │    │         │
  │    │         ├─ Success
  │    │         │    ↓
  │    │         │  merging_cache (if cache enabled)
  │    │         │    ↓ POST /api/storage/daily/{date}
  │    │         │  complete
  │    │         │
  │    │         └─ Failure
  │    │              ↓
  │    │            error
  │    │
  │    └─ Invalid dates
  │         ↓
  │       error (validation error)
  │
  └─ (loop back to idle on next interaction)
```

#### Key State Data
- **startDate**: string (ISO date)
- **endDate**: string (ISO date)
- **loading**: boolean
- **progress**: number (0-100)
- **error**: string | null
- **results**: ResultsPayload | null

---

### Feature 2: Cache Management

#### States
1. **enabled** - Cache is active
2. **disabled** - Cache is inactive

#### State Transitions

```
enabled
  │
  ├─ User toggles OFF
  │    ↓
  │  disabled
  │    │
  │    └─ POST /api/storage/setting/cache:enabled {value: false}
  │         ↓ Supabase upsert to settings table
  │
  └─ User toggles ON
       ↓
     enabled
       │
       └─ POST /api/storage/setting/cache:enabled {value: true}
            ↓ Supabase upsert to settings table
```

#### Key State Data
- **enabled**: boolean (reactive, synced to Supabase settings table)
- **loading**: boolean (during database read/write)
- **statusText**: computed string ("(enabled)" | "(disabled)")

---

### Feature 3: Article State Management

#### States (per article)
1. **unread** - Default state, bold text
2. **read** - User clicked/viewed, muted text
3. **removed** - User removed, strikethrough + dashed border

#### State Transitions

```
unread
  │
  ├─ User clicks article link
  │    ↓
  │  read
  │    │
  │    ├─ article.read = { isRead: true, markedAt: timestamp }
  │    │
  │    └─ POST /api/storage/daily/{date} → Supabase upsert
  │
  ├─ User clicks "Remove"
  │    ↓
  │  removed
  │    │
  │    ├─ article.removed = true
  │    │
  │    └─ POST /api/storage/daily/{date} → Supabase upsert
  │
read
  │
  └─ User clicks "Remove"
       ↓
     removed
       │
       ├─ article.removed = true
       │
       └─ POST /api/storage/daily/{date} → Supabase upsert

removed
  │
  └─ User clicks "Restore"
       ↓
     unread (or previous state)
       │
       ├─ article.removed = false
       │
       └─ POST /api/storage/daily/{date} → Supabase upsert
```

#### Key State Data (per article)
- **url**: string (unique identifier)
- **issueDate**: string (storage key component)
- **read**: { isRead: boolean, markedAt: string | null }
- **removed**: boolean

---

### Feature 4: TLDR Generation

#### States (per article TLDR)
1. **unknown** - TLDR not yet requested
2. **creating** - API request in progress
3. **available** - TLDR cached and ready
4. **error** - API request failed

#### State Transitions

```
unknown
  │
  └─ User clicks "TLDR"
       ↓
     creating
       │
       ├─ POST /api/tldr-url { url, summary_effort }
       │
       ├─ Success
       │    ↓
       │  available
       │    │
       │    ├─ tldr.status = 'available'
       │    ├─ tldr.markdown = response.tldr_markdown
       │    ├─ tldr.expanded = true
       │    ├─ Mark article as read
       │    │
       │    └─ POST /api/storage/daily/{date} → Supabase upsert
       │
       └─ Failure
            ↓
          error
            │
            ├─ tldr.status = 'error'
            ├─ tldr.errorMessage = error text
            │
            └─ POST /api/storage/daily/{date} → Supabase upsert

available
  │
  └─ User clicks "Available"
       ↓
     (toggle expanded state, no API call)
```

#### Key State Data (per article)
- **tldr.status**: 'unknown' | 'creating' | 'available' | 'error'
- **tldr.markdown**: string
- **tldr.html**: computed (marked + DOMPurify)
- **tldr.effort**: 'minimal' | 'low' | 'medium' | 'high'
- **tldr.expanded**: boolean (UI state)
- **tldr.errorMessage**: string | null

---

## Call Graphs

### Feature 1: Newsletter Scraping - Complete Flow

#### Client → Backend → External Services

```
User clicks "Scrape Newsletters"
  │
  ├─ ScrapeForm.jsx handleSubmit()
  │    │
  │    ├─ Check validation
  │    │    │
  │    │    └─ If invalid: return early
  │    │
  │    └─ Call scraper.scrape(startDate, endDate)
  │
  └─ scraper.js scrape(startDate, endDate)
       │
       ├─ Reset state:
       │    - loading.value = true
       │    - progress.value = 0
       │    - error.value = null
       │
       ├─ Step 1: Check cache
       │    │
  │    └─ scraper.js isRangeCached(startDate, endDate)
  │         │
  │         ├─ Compute date range: computeDateRange()
  │         │    │
  │         │    └─ Returns: ['2024-01-03', '2024-01-02', '2024-01-01']
  │         │
  │         └─ Check each date in Supabase:
  │              │
  │              └─ GET /api/storage/is-cached/2024-01-01
  │                   │
  │                   ├─ If ALL dates cached AND cacheEnabled = true
  │                   │    │
  │                   │    └─ scraper.js loadFromCache()
  │                   │         │
  │                   │         ├─ POST /api/storage/daily-range
  │                   │         ├─ Build stats: buildStatsFromPayloads()
  │                   │         ├─ Update progress state
  │                   │         │
  │                   │         └─ Return cached results
       │                   │
       │                   └─ If NOT fully cached OR cache disabled
       │                        │
       │                        └─ Continue to API call...
       │
       ├─ Step 2: API Call
       │    │
       │    ├─ progress.value = 50
       │    │
       │    └─ window.fetch('/api/scrape', {
       │         method: 'POST',
       │         body: JSON.stringify({ start_date, end_date })
       │       })
       │         │
       │         └─ Server receives request...
       │              │
       │              ├─ serve.py:32 scrape_newsletters_in_date_range()
       │              │    │
       │              │    ├─ Extract request.get_json()
       │              │    │    - start_date: "2024-01-01"
       │              │    │    - end_date: "2024-01-03"
       │              │    │    - sources: null (optional)
       │              │    │
       │              │    └─ tldr_app.py:9 scrape_newsletters(start_date, end_date, source_ids, excluded_urls=[])
       │              │         │
       │              │         └─ tldr_service.py:43 scrape_newsletters_in_date_range()
       │              │              │
       │              │              ├─ tldr_service.py:17 _parse_date_range()
       │              │              │    │
       │              │              │    ├─ Parse ISO dates
       │              │              │    ├─ Validate: start <= end
       │              │              │    ├─ Validate: range < 31 days
       │              │              │    │
       │              │              │    └─ Return (datetime, datetime)
       │              │              │
       │              │              └─ newsletter_scraper.py:251 scrape_date_range(start_date, end_date, source_ids, excluded_urls)
       │              │                   │
       │              │                   ├─ util.get_date_range(start, end)
       │              │                   │    │
       │              │                   │    └─ Returns list of dates: [date1, date2, date3]
       │              │                   │
       │              │                   ├─ Default sources: NEWSLETTER_CONFIGS.keys()
       │              │                   │    - ['tldr_tech', 'tldr_ai', 'hackernews', ...]
       │              │                   │
       │              │                   ├─ Initialize tracking:
       │              │                   │    - all_articles = []
       │              │                   │    - url_set = set()
       │              │                   │    - issue_metadata_by_key = {}
       │              │                   │
       │              │                   └─ For each date in dates:
       │              │                        │
       │              │                        └─ For each source_id in source_ids:
       │              │                             │
       │              │                             ├─ newsletter_scraper.py:172 _collect_newsletters_for_date_from_source()
       │              │                             │    │
       │              │                             │    ├─ newsletter_scraper.py:16 _get_adapter_for_source(config)
       │              │                             │    │    │
       │              │                             │    │    ├─ If source_id.startswith('tldr_'):
       │              │                             │    │    │    │
       │              │                             │    │    │    └─ Return TLDRAdapter(config)
       │              │                             │    │    │
       │              │                             │    │    └─ If source_id == 'hackernews':
       │              │                             │    │         │
       │              │                             │    │         └─ Return HackerNewsAdapter(config)
       │              │                             │    │
       │              │                             │    └─ adapter.scrape_date(date, excluded_urls)
       │              │                             │         │
       │              │                             │         ├─ TLDRAdapter: Scrapes tldr.tech archives
       │              │                             │         │    │
       │              │                             │         │    ├─ Build URL: f"https://tldr.tech/{newsletter_type}/archives/{date}"
       │              │                             │         │    ├─ HTTP GET request
       │              │                             │         │    ├─ Parse HTML for articles
       │              │                             │         │    ├─ Extract metadata from titles: "(N minute read)" or "(GitHub Repo)" → article_meta field
       │              │                             │         │    ├─ Filter out excluded URLs
       │              │                             │         │    │
       │              │                             │         │    └─ Return { articles: [...], issues: [...] }
       │              │                             │         │
       │              │                             │         └─ HackerNewsAdapter: Scrapes HN API (Algolia)
       │              │                             │              │
       │              │                             │              ├─ Fetch 50 stories from Algolia (pre-filtered by date/score)
       │              │                             │              ├─ Filter out excluded URLs (canonical matching)
       │              │                             │              ├─ Calculate leading scores: (2 × upvotes) + comments
       │              │                             │              ├─ Sort by leading score descending
       │              │                             │              ├─ Convert top stories to articles
       │              │                             │              ├─ Extract metadata: "N upvotes, K comments" → article_meta field
       │              │                             │              │
       │              │                             │              └─ Return { articles: [...], issues: [] }
       │              │                             │
       │              │                             ├─ For each article in result:
       │              │                             │    │
       │              │                             │    ├─ Canonicalize URL
       │              │                             │    ├─ Deduplicate via url_set
       │              │                             │    │
       │              │                             │    └─ Append to all_articles
       │              │                             │
       │              │                             └─ Sleep 0.2s (rate limiting)
       │              │
       │              ├─ newsletter_scraper.py:139 _build_scrape_response()
       │              │    │
       │              │    ├─ Group articles by date
       │              │    ├─ Build markdown output (newsletter_merger.py)
       │              │    ├─ Build issues list
       │              │    ├─ Compute stats
       │              │    │
       │              │    └─ Return {
       │              │         success: true,
       │              │         articles: [...],
       │              │         issues: [...],
       │              │         stats: { total_articles, unique_urls, ... }
       │              │       }
       │              │
       │              └─ Flask jsonify() → HTTP Response
       │
       ├─ Step 3: Process Response
       │    │
  │    └─ scraper.js buildDailyPayloadsFromScrape(data)
  │         │
  │         ├─ Group articles by date
  │         ├─ Group issues by date
  │         │
  │         └─ Build daily payloads: [{
  │              date: "2024-01-01",
  │              articles: [...],
  │              issues: [...],
  │              cachedAt: timestamp
  │            }]
  │
  ├─ Step 4: Merge with Cache (if enabled)
  │    │
  │    └─ scraper.js mergeWithCache(payloads)
  │         │
  │         └─ For each payload:
  │              │
  │              ├─ GET /api/storage/daily/{date}
  │              │    │
  │              │    ├─ If cached data exists:
  │              │    │    │
  │              │    │    └─ Merge articles (preserve summary, tldr, read, removed)
  │              │    │
  │              │    └─ POST /api/storage/daily/{date} (save to Supabase)
  │              │
  │              └─ Return merged payload
  │
  ├─ Step 5: Update State
  │    │
  │    ├─ Update progress state
  │    ├─ Set results state: { success, payloads, source, stats }
  │    │
  │    └─ Return results
  │
  └─ Step 6: Display Results
       │
       └─ ScrapeForm.jsx passes results via callback
            │
            └─ App.jsx handleResults(data)
                 │
                 ├─ Update results state
                 │
                 └─ ResultsDisplay.jsx renders:
                      │
                      ├─ Stats
                      ├─ Debug logs
                      │
                      └─ ArticleList (grouped by date/issue)
                           │
                           └─ ArticleCard (for each article)
```

---

### Feature 4: TLDR Generation - Complete Flow

```
User clicks "TLDR" button
  │
  ├─ ArticleCard.jsx onClick={handleTldrClick}
  │    │
  │    └─ useSummary hook toggle()
  │         │
  │         ├─ Check if TLDR already available
  │         │
  │         └─ useSummary.js fetch(summaryEffort)
  │                   │
  │                   └─ window.fetch('/api/tldr-url', {
  │                        method: 'POST',
  │                        body: JSON.stringify({ url, summary_effort })
  │                      })
  │                        │
  │                        └─ Server receives request...
  │                             │
  │                             ├─ serve.py:68 tldr_url()
  │                             │    │
  │                             │    └─ tldr_app.py:32 tldr_url(url, summary_effort)
  │                             │         │
  │                             │         └─ tldr_service.py:79 tldr_url_content(url, summary_effort)
  │                             │              │
  │                             │              ├─ util.canonicalize_url(url)
  │                             │              │
  │                             │              └─ summarizer.py:291 tldr_url(url, summary_effort)
  │                             │                   │
  │                             │                   ├─ url_to_markdown(url)
  │                             │                   │    [Same flow as summarize]
  │                             │                   │
  │                             │                   ├─ Fetch TLDR prompt template:
  │                             │                   │    │
  │                             │                   │    └─ _fetch_tldr_prompt()
  │                             │                   │         │
  │                             │                   │         └─ Fetch from GitHub:
  │                             │                   │              "https://api.github.com/repos/giladbarnea/llm-templates/contents/text/tldr.md"
  │                             │                   │
  │                             │                   ├─ Build prompt:
  │                             │                   │    template + "\n\n<tldr this>\n" + markdown + "\n</tldr this>"
  │                             │                   │
  │                             │                   └─ Call LLM:
  │                             │                        │
  │                             │                        └─ _call_llm(prompt, summary_effort)
  │                             │                             [Same flow as summarize]
  │                             │
  │                             └─ Return { success, tldr_markdown, canonical_url, summary_effort }
  │
  └─ Client receives response:
       │
       ├─ Update article state:
       │    {
       │      status: 'available',
       │      markdown: result.tldr_markdown,
       │      effort: summaryEffort,
       │      checkedAt: timestamp,
       │      errorMessage: null
       │    }
       │
       ├─ Set expanded state to true
       ├─ Mark article as read (if not already)
       │
       └─ Display inline TLDR
```

---

## Data Structures

### DailyPayload (Supabase: `daily_cache` table, keyed by date)

```typescript
{
  date: string,              // "2024-01-01"
  cachedAt: string,          // ISO timestamp
  articles: Article[],       // Array of articles for this date
  issues: Issue[]            // Array of newsletter issues for this date
}
```

### Article

```typescript
{
  url: string,               // Canonical URL (unique identifier)
  title: string,
  articleMeta: string,       // Metadata extracted from source (e.g., "158 upvotes, 57 comments" or "5 minute read")
  issueDate: string,         // "2024-01-01"
  category: string,          // "TLDR Tech", "HackerNews", etc.
  sourceId: string,          // "tldr_tech", "hackernews"
  section: string | null,    // Section title within newsletter
  sectionEmoji: string | null,
  sectionOrder: number | null,
  newsletterType: string | null,

  // User state
  removed: boolean,
  tldrHidden: boolean,
  read: {
    isRead: boolean,
    markedAt: string | null  // ISO timestamp
  },

  // AI-generated content
  summary: {
    status: 'unknown' | 'creating' | 'available' | 'error',
    markdown: string,
    effort: 'minimal' | 'low' | 'medium' | 'high',
    checkedAt: string | null,
    errorMessage: string | null
  },

  tldr: {
    status: 'unknown' | 'creating' | 'available' | 'error',
    markdown: string,
    effort: 'minimal' | 'low' | 'medium' | 'high',
    checkedAt: string | null,
    errorMessage: string | null
  }
}
```

### Issue

```typescript
{
  date: string,              // "2024-01-01"
  source_id: string,         // "tldr_tech"
  category: string,          // "TLDR Tech"
  title: string | null,      // Issue title
  subtitle: string | null    // Issue subtitle
}
```

### ScrapeRequest (POST /api/scrape)

```typescript
{
  start_date: string,        // "2024-01-01"
  end_date: string,          // "2024-01-03"
  sources?: string[]         // ["tldr_tech", "hackernews"] (optional)
}
```

### ScrapeResponse (API response)

```typescript
{
  success: boolean,
  articles: Article[],       // All articles (flattened)
  issues: Issue[],           // All issues
  stats: {
    total_articles: number,
    unique_urls: number,
    dates_processed: number,
    dates_with_content: number,
    network_fetches: number,
    cache_mode: string,
    debug_logs: string[]
  },
  output: string             // Markdown formatted output
}
```

---

## Component Dependency Graph

```
App.jsx
  │
  ├── CacheToggle.jsx
  │     └── useSupabaseStorage('cache:enabled')
  │           └── GET/POST /api/storage/setting/cache:enabled
  │
  ├── ScrapeForm.jsx
  │     └── scraper.js functions
  │           └── storageApi.js (GET/POST /api/storage/daily/*)
  │
  └── ResultsDisplay.jsx
        │
        └── DailyResults (per date)
              │
              ├── useSupabaseStorage('newsletters:scrapes:{date}')
              │     └── GET/POST /api/storage/daily/{date}
              │
              └── ArticleList.jsx
                    │
                    └── ArticleCard.jsx
                          ├── useArticleState(date, url)
                          │     └── useSupabaseStorage('newsletters:scrapes:{date}')
                          │           └── GET/POST /api/storage/daily/{date}
                          │
                          └── useSummary(date, url)
                                └── useArticleState(date, url)
```

---

## Sequence Diagram: Full Scraping Flow

```mermaid
sequenceDiagram
    participant User
    participant ScrapeForm
    participant useScraper
    participant Supabase
    participant Flask
    participant NewsletterScraper
    participant TLDRAdapter
    participant ExternalAPI

    User->>ScrapeForm: Enter dates & click "Scrape"
    ScrapeForm->>useScraper: scrape(startDate, endDate)

    alt Cache enabled & fully cached
        useScraper->>Supabase: GET /api/storage/is-cached/{date} (for each date)
        Supabase-->>useScraper: All dates cached
        useScraper->>Supabase: POST /api/storage/daily-range
        Supabase-->>useScraper: Return cached payloads
        useScraper-->>ScrapeForm: Return cached results
    else Not fully cached
        useScraper->>Flask: POST /api/scrape {start_date, end_date}
        Flask->>NewsletterScraper: scrape_date_range()

        loop For each date
            loop For each source
                NewsletterScraper->>TLDRAdapter: scrape_date(date)
                TLDRAdapter->>ExternalAPI: GET tldr.tech/archives/{date}
                ExternalAPI-->>TLDRAdapter: HTML content
                TLDRAdapter-->>NewsletterScraper: {articles, issues}
            end
        end

        NewsletterScraper->>NewsletterScraper: Build response & dedupe
        NewsletterScraper-->>Flask: {articles, issues, stats}
        Flask-->>useScraper: JSON response

        useScraper->>useScraper: buildDailyPayloadsFromScrape()

        alt Cache enabled
            useScraper->>Supabase: GET /api/storage/daily/{date} (merge)
            useScraper->>Supabase: POST /api/storage/daily/{date} (save)
        end

        useScraper-->>ScrapeForm: Return results
    end

    ScrapeForm->>User: Display articles
```

---

## Key Algorithms

### 1. Article Sorting Algorithm (ArticleList.jsx)

```javascript
// Sort articles by state (unread → read → tldrHidden → removed), then by original order
function sortArticles(articles) {
  return articles.sort((a, b) => {
    const stateA = getArticleState(a)  // 0=unread, 1=read, 2=tldrHidden, 3=removed
    const stateB = getArticleState(b)

    // Primary sort: by state
    if (stateA !== stateB) return stateA - stateB

    // Secondary sort: preserve original order within same state
    return (a.originalOrder ?? 0) - (b.originalOrder ?? 0)
  })
}
```

### 2. Date Range Computation (scraper.js)

```javascript
// Compute all dates between start and end (inclusive, descending)
function computeDateRange(startDate, endDate) {
  const dates = []
  const start = new Date(startDate)
  const end = new Date(endDate)

  const current = new Date(end)
  while (current >= start) {
    dates.push(current.toISOString().split('T')[0])
    current.setDate(current.getDate() - 1)
  }

  return dates  // ['2024-01-03', '2024-01-02', '2024-01-01']
}
```

### 3. Cache Merge Algorithm (scraper.js)

```javascript
// Merge new scrape results with existing cached data from Supabase
async function mergeWithCache(payloads) {
  const merged = []

  for (const payload of payloads) {
    const existing = await storageApi.getDailyPayload(payload.date)

    if (existing) {
      // Merge: preserve user state (read, removed, tldrHidden) and AI content (tldr)
      const mergedPayload = {
        ...payload,
        articles: payload.articles.map(article => {
          const existingArticle = existing.articles?.find(a => a.url === article.url)
          return existingArticle
            ? { ...article, tldr: existingArticle.tldr,
                read: existingArticle.read, removed: existingArticle.removed, tldrHidden: existingArticle.tldrHidden }
            : article
        })
      }
      await storageApi.setDailyPayload(payload.date, mergedPayload)
      merged.push(mergedPayload)
    } else {
      await storageApi.setDailyPayload(payload.date, payload)
      merged.push(payload)
    }
  }

  return merged
}
```

### 4. URL Deduplication (newsletter_scraper.py:172)

```python
# Deduplicate articles across sources using canonical URLs
url_set = set()
all_articles = []

for article in scraped_articles:
    canonical_url = util.canonicalize_url(article['url'])
    article['url'] = canonical_url

    if canonical_url not in url_set:
        url_set.add(canonical_url)
        all_articles.append(article)
```

---

## Database Schema (Supabase PostgreSQL)

### Table: settings

```sql
CREATE TABLE settings (
  key TEXT PRIMARY KEY,
  value JSONB NOT NULL,
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Example row:
{ key: 'cache:enabled', value: true, updated_at: '2024-01-01T12:00:00Z' }
```

### Table: daily_cache

```sql
CREATE TABLE daily_cache (
  date DATE PRIMARY KEY,
  payload JSONB NOT NULL,
  cached_at TIMESTAMPTZ DEFAULT NOW()
);

-- Example row:
{
  date: '2024-01-01',
  payload: {
    date: '2024-01-01',
    cachedAt: '2024-01-01T12:00:00Z',
    articles: [{url, title, read, removed, tldr, ...}, ...],
    issues: [{date, source_id, category, ...}, ...]
  },
  cached_at: '2024-01-01T12:00:00Z'
}
```

### Storage Flow

1. **Initial Scrape**: API response → Build payloads → POST /api/storage/daily/{date} → Supabase upsert
2. **Cache Hit**: GET /api/storage/daily-range → Read from Supabase → Skip scrape API call
3. **User Interaction**: Modify article state → POST /api/storage/daily/{date} → Supabase upsert → Dispatches 'supabase-storage-change' event
4. **Summary/TLDR**: Fetch from API → Update article → POST /api/storage/daily/{date} → Supabase upsert

---

## Error Handling

### Frontend Errors

1. **Validation Errors**
   - Date range > 31 days → Show inline error
   - Start date > end date → Show inline error

2. **Network Errors**
   - API unreachable → Show error message
   - Timeout → Show error message

3. **Summary/TLDR Errors**
   - Scraping failed → summary.status = 'error'
   - LLM API failed → summary.errorMessage = "..."
   - Button shows "Retry" instead of "Available"

### Backend Errors

1. **Scraping Errors**
   - Individual source failures → Log warning, continue with other sources
   - All sources fail → Return partial results

2. **Summary/TLDR Errors**
   - Try multiple scraping methods (curl_cffi → Jina Reader → Firecrawl)
   - Return 502 on network errors
   - Return 500 on LLM errors

---

## Performance Considerations

1. **Caching Strategy**
   - Cache at daily granularity (not per-source)
   - Merge strategy preserves user state and AI content
   - Cache check before every API call

2. **Rate Limiting**
   - 0.2s delay between source scrapes
   - Prevents overwhelming external APIs

3. **Lazy Loading**
   - Summaries/TLDRs fetched on-demand
   - Not included in initial scrape
   - Cached after first fetch

4. **Component Optimization**
   - Scoped CSS modules prevent style leakage
   - useMemo caches derived state
   - Conditional rendering optimizes DOM updates

---

## Security Measures

1. **XSS Prevention**
   - DOMPurify sanitizes all markdown → HTML conversions
   - dangerouslySetInnerHTML only used with sanitized content

2. **CSRF Protection**
   - Same-origin policy (frontend served from same domain)

3. **Input Validation**
   - Date range validation (client + server)
   - URL canonicalization (prevents cache poisoning)

4. **API Key Management**
   - OpenAI API key server-side only
   - GitHub token for private repos (optional)
   - Firecrawl API key for hard-to-scrape sites (optional)

---

## Testing Considerations

### Unit Tests (Frontend)

- `scraper.js`: Date range computation, cache hit/miss logic
- `useArticleState.js`: State mutations (read/unread/removed)
- `useSummary.js`: Toggle expansion, fetch logic

### Integration Tests

- Full scraping flow (API → cache → display)
- Summary generation end-to-end
- Cache merge behavior

### E2E Tests

- User scrapes date range → Views results
- User marks article as read → State persists
- User generates summary → Summary displays and caches

---

## Future Enhancements

1. **Reasoning Effort Selector**
   - Dropdown on summary button (minimal/low/medium/high)
   - Currently hardcoded to "low"

2. **Source Filtering**
   - UI to select which newsletters to scrape
   - Backend already supports `sources` parameter

3. **Export Functionality**
   - Export articles as markdown/JSON
   - Bulk copy summaries

4. **Search & Filter**
   - Full-text search across articles
   - Filter by category/source/state

---

## File Structure

```
TLDRScraper/
├── client/                    # React 19 frontend
│   ├── src/
│   │   ├── App.jsx           # Root component
│   │   ├── main.jsx          # Entry point
│   │   ├── components/       # UI components
│   │   │   ├── ArticleCard.jsx
│   │   │   ├── ArticleList.jsx
│   │   │   ├── CacheToggle.jsx
│   │   │   ├── ResultsDisplay.jsx
│   │   │   └── ScrapeForm.jsx
│   │   ├── hooks/            # Custom React hooks
│   │   │   ├── useArticleState.js
│   │   │   ├── useSupabaseStorage.js
│   │   │   └── useSummary.js
│   │   └── lib/              # Utilities & logic
│   │       ├── scraper.js
│   │       ├── storageApi.js
│   │       └── storageKeys.js
│   ├── index.html
│   ├── vite.config.js
│   └── package.json
│
├── api/                       # Backend entry point
│   └── index.py
│
├── serve.py                   # Flask routes
├── tldr_app.py               # Application logic layer
├── tldr_service.py           # Service layer
├── storage_service.py        # Supabase storage operations
├── supabase_client.py        # Supabase client initialization
├── newsletter_scraper.py     # Scraping orchestration
├── summarizer.py             # URL → Summary/TLDR
├── newsletter_adapter.py     # Base adapter
├── tldr_adapter.py           # TLDR newsletter adapter
├── hackernews_adapter.py     # HackerNews adapter
├── newsletter_merger.py      # Markdown formatting
├── newsletter_config.py      # Source configurations
└── util.py                   # Shared utilities
```

---

## Conclusion

TLDRScraper is a full-stack newsletter aggregator with sophisticated client-side state management, intelligent caching, and AI-powered content summarization. The architecture separates concerns clearly:

- **React hooks** handle reactive state and async storage operations
- **Flask routes** provide clean REST endpoints (scraping + storage)
- **Service/adapter layers** abstract data sources and database operations
- **Supabase PostgreSQL** provides server-side persistence with JSONB storage
- **OpenAI integration** enhances content with AI-powered summaries

The system is designed for extensibility (new newsletter sources via adapters), performance (database caching with cache-first scraping), and user experience (reactive UI with async loading states).

</document>
<document path="BUGS.md">
---
last_updated: 2025-11-18 10:35, af7d9f0
---
# Bugs Encountered

## Third Party

- [ ] Supabase error: `SSL: CERTIFICATE_VERIFY_FAILED`. See [this GitHub comment](https://github.com/supabase/supabase/discussions/29935#discussioncomment-12050763) for potential solution.
## Scraping

### Failed fetching content
- [ ] https://olmocr.allen.ai/blog. Content was returned with no error but empty-ish. Needs JS enabled (25-10-26 7:45AM IST)
- [ ] https://www.gatesnotes.com/home/home-page-topic/reader/three-tough-truths-about-climate Empty content
- [ ] https://x.com/satyanadella/status/1989755076353921404: Enable JavaScript or use a supported browser; disable privacy extensions; then try again. (25-11-17)
</document>
<document path="GOTCHAS.md">
---
last_updated: 2025-11-18 10:35, af7d9f0
---
# Gotchas

This document catalogs recurring pitfalls in various topics, including managing client-side state persistence and reactivity, surprising design decisions, and so on.

---

#### 2025-11-17: Child component bypassing state management layer causes infinite API hammering

session-id: 892fa714-0087-4c5a-9930-cffdfc5f5359

**Desired behavior that didn't work**: Just browsing the app should load data once per date, then remain quiet until user interaction.

**What actually happened and falsified original thesis**: Continuous machine-gun API requests to GET /api/storage/daily/{date} for the same dates, hammering the server non-stop. <turned-out-to-be-wrong>We initially assumed it was a React re-render loop from unstable useEffect dependencies (e.g., `defaultValue` object creating new references). Then we thought it was multiple `useSupabaseStorage` hook instances all mounting simultaneously (20+ ArticleCards per date). We added global read deduplication to prevent concurrent requests, which helped but didn't stop the hammering. We had wrongly assumed the hooks were the problem.</turned-out-to-be-wrong>

**Cause & Fix**: `ArticleList.jsx` had a useEffect that directly called `storageApi.getDailyPayload(article.issueDate)` for every article (20+ API calls per date), completely bypassing the `useSupabaseStorage` hook abstraction. This useEffect ran whenever the `articles` prop changed. The parent component recreated the `articles` array on every render (via `.map()`), creating a new reference and triggering the useEffect again. Result: infinite loop of 20+ API calls per render. The entire useEffect was redundant - article states were already being synced via `useSupabaseStorage` in parent components. The fix was to delete the broken useEffect entirely and let ArticleList simply sort the articles it receives from props. **Key lesson**: When you build a proper data management layer (custom hooks), don't bypass it by directly calling storage APIs in child components. Child components should consume data from props, not fetch it themselves. Breaking this rule creates duplicate data fetching, races, and infinite loops.

---

#### 2025-11-15 `750f83e`: Concurrent TLDR updates race to overwrite each other

**Desired behavior that didn't work**: When two articles' TLDR buttons are clicked simultaneously, both TLDRs should be fetched and stored independently.

**What actually happened and falsified original thesis**: One article showed "Available" state but with no content, then clicking "Available" triggered a new TLDR request instead of displaying the cached result. We had wrongly assumed React's state would handle concurrent setValueAsync calls correctly.

**Cause & Fix**: Classic read-modify-write race condition. Both updates captured the same stale `value` from the closure, so the second write overwrote the first, losing one article's TLDR data. The fix was to use a ref (valueRef) to track the latest state, ensuring each concurrent update operates on current data instead of stale closure captures.

---

#### 2025-11-06: useLocalStorage hook instances race to overwrite each other

**Desired behavior that didn't work**: Removed articles should persist their removed state after page refresh.

**What actually happened and falsified original thesis**: Article showed "Restore" button immediately after removal, but after refresh showed "Remove" button. We had wrongly assumed one useLocalStorage instance per key would prevent conflicts.

**Cause & Fix**: Multiple useLocalStorage hook instances (one per ArticleCard) each owned their own copy of the payload. When one instance stored an update, other instances later wrote their stale copy back, erasing the change. Rewrote useLocalStorage to use useSyncExternalStore so every subscriber reads and writes through a single source of truth, dramatically simplifying the flow and eliminating the race.

---

#### 2025-11-04 `102a8dcd`: HackerNews articles not displayed in UI because of surprising server response shape

**Desired behavior that didn't work**: HackerNews articles fetched by backend should appear in the UI.

**What actually happened and falsified original thesis**: HackerNews articles were fetched (183 articles in API response) but invisible in the UI. We had wrongly assumed `articles` field alone was sufficient for display.

**Cause & Fix**: The frontend requires both `articles` and `issues` arrays. It only displays articles that match an issue's category. HackerNews adapter returned empty `issues` array, so all HN articles were filtered out during rendering. The fix was to generate fake issue objects for each HackerNews category.

---

#### 2025-10-31 `3bfceee`: State property lost during cache merge

**Desired behavior that didn't work**: When hiding a TLDR, the article should move to bottom so users can deprioritize completed items.

**What actually happened and falsified original thesis**: The article stayed in place. We had wrongly assumed that saving the state property to storage was sufficient.

**Cause & Fix**: The merge function wasn't transferring the new property from cached data. The fix was to add the missing property to the merge operation.

---

#### 2025-10-31 `16bd653`: Component not reactive to storage changes

**Desired behavior that didn't work**: When state changes in storage, the list should re-sort so visual order reflects current state.

**What actually happened and falsified original thesis**: The list used stale prop values. We had wrongly assumed that components automatically react to storage mutations.

**Cause & Fix**: Computed properties only track their declared dependencies. The fix was to dispatch custom events on storage writes and listen for them in consuming components.

---

</document>
<document path="PROJECT_STRUCTURE.md">
.
├── .claude
│  ├── agents
│  │  ├── codebase-analyzer-narrow.md
│  │  ├── codebase-analyzer.md
│  │  ├── codebase-locator.md
│  │  ├── codebase-pattern-finder.md
│  │  └── web-deep-researcher.md
│  ├── commands
│  │  ├── architecture
│  │  │  ├── create.md
│  │  │  ├── sync_current_changes.md
│  │  │  └── sync_since_last_updated.md
│  │  ├── create_plan_lite.md
│  │  ├── implement_plan.md
│  │  ├── research_codebase.md
│  │  └── research_codebase_nt.md
│  └── settings.json
├── .gitattributes
├── .githooks
│  ├── post-checkout
│  ├── post-merge
│  ├── post-rewrite
│  ├── pre-merge-commit
│  ├── pre-rebase
│  ├── README.md
│  └── sync-upstream-suggestions.md
├── .github
│  └── workflows
│     ├── copy-agents-to-claude.yml
│     ├── update-doc-frontmatter.yml
│     └── update-project-structure.yml
├── .gitignore
├── .vercelignore
├── AGENTS.md
├── api
│  └── index.py
├── ARCHITECTURE.md
├── BUGS.md
├── CLAUDE.md
├── client
│  ├── .gitignore
│  ├── index.html
│  ├── package-lock.json
│  ├── package.json
│  ├── README.md
│  ├── src
│  │  ├── App.css
│  │  ├── App.jsx
│  │  ├── components
│  │  │  ├── ArticleCard.css
│  │  │  ├── ArticleCard.jsx
│  │  │  ├── ArticleList.css
│  │  │  ├── ArticleList.jsx
│  │  │  ├── CacheToggle.css
│  │  │  ├── CacheToggle.jsx
│  │  │  ├── ResultsDisplay.css
│  │  │  ├── ResultsDisplay.jsx
│  │  │  ├── ScrapeForm.css
│  │  │  └── ScrapeForm.jsx
│  │  ├── hooks
│  │  │  ├── useArticleState.js
│  │  │  ├── useSummary.js
│  │  │  └── useSupabaseStorage.js
│  │  ├── lib
│  │  │  ├── scraper.js
│  │  │  ├── storageApi.js
│  │  │  └── storageKeys.js
│  │  └── main.jsx
│  └── vite.config.js
├── GOTCHAS.md
├── hackernews_adapter.py
├── newsletter_adapter.py
├── newsletter_config.py
├── newsletter_merger.py
├── newsletter_scraper.py
├── package-lock.json
├── package.json
├── pyproject.toml
├── README.md
├── requirements.txt
├── SCREENSHOTTING_APP.md
├── scripts
│  ├── markdown_frontmatter.py
│  ├── print_root_markdown_files.sh
│  ├── resolve_quiet_setting.sh
│  └── update_doc_frontmatter.py
├── serve.py
├── setup-hooks.sh
├── setup.sh
├── storage_service.py
├── summarizer.py
├── supabase_client.py
├── tests
│  ├── browser-automation
│  │  ├── test_phase6_supabase.py
│  │  └── test_tldr_loading_state_bug.py
│  ├── test_phase6_e2e.py
│  └── unit
│     └── test_canonicalize_url.py
├── thoughts
│  ├── 2025-11-08-migrate-client-localstorage-to-server-supabase
│  │  ├── implementation
│  │  │  ├── phase-1.md
│  │  │  ├── phase-2.md
│  │  │  ├── phase-3.md
│  │  │  ├── phase-4.md
│  │  │  ├── phase-5.md
│  │  │  ├── phase-6.md
│  │  │  └── phase-7.md
│  │  ├── manual-browser-testing.md
│  │  ├── plans
│  │  │  └── localstorage-to-supabase-migration.md
│  │  └── research
│  │     └── supabase-database.md
│  └── done
│     ├── 25-10-27-hackernews-integration
│     │  ├── plan.md
│     │  └── research.md
│     ├── 25-10-28-fix-cache-ui-state-sync
│     │  └── plan.md
│     ├── 25-10-30-multi-newsletter
│     │  └── plan.md
│     ├── 25-10-31-vue-to-react-19-migration
│     │  └── plan.md
│     ├── 25-11-04-code-duplication
│     │  ├── plan-issue-a-section-parsing.md
│     │  ├── plan-issue-b-localstorage-keys.md
│     │  ├── plan-issue-c-article-normalization.md
│     │  └── plan.md
│     ├── 25-11-04-mixed-concerns-refactor
│     │  ├── plan-issue-b-extract-build-scrape-response.md
│     │  ├── plan-issue-c-eliminate-duplicate-parsing.md
│     │  └── plan.md
│     └── 25-11-04-remove-summarize
│        └── plan.md
├── tldr_adapter.py
├── tldr_app.py
├── tldr_service.py
├── TLDRScraper.code-workspace
├── util.py
├── uv.lock
└── vercel.json

</document>
<document path="README.md">
---
last_updated: 2025-11-14 16:24, 722a1a0
---
# TLDRScraper

Newsletter aggregator that scrapes tech newsletters from multiple sources, displays them in a unified interface, and provides AI-powered TLDRs.

## Architecture

- **Frontend**: React 19 + Vite (in `client/`)
- **Backend**: Flask + Python (serverless on Vercel)
- **AI**: OpenAI GPT-5 for TLDRs

See [ARCHITECTURE.md](ARCHITECTURE.md) for detailed flows & user interactions documentation and [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) for a map of the project structure.

## Development

## Development & Setup

### Running the server and logs watchdog
```bash
# Verify the environment and dependencies are set up correctly.
source ./setup.sh

# Start the server and watchdog in the background. Logs output to file.
start_server_and_watchdog

# Verify the server is running.
print_server_and_watchdog_pids

# Exercise the API with curl requests.
curl http://localhost:5001/api/scrape
curl http://localhost:5001/api/tldr-url
curl ...additional endpoints that may be relevant...

# Stop the server and watchdog.
kill_server_and_watchdog
```


## Client setup

```bash
cd client
npm install
npm run build
npm run dev
```

### Frontend development

For frontend development with hot reload:

```bash
cd client
npm run dev
```

This runs Vite dev server on port 3000 with API proxy to localhost:5000.


### `uv` installation and usage

- Install `uv` and use Python via `uv`:
```bash
source setup.sh
ensure_uv
uv --version
```

## Vercel Deployment

### How It Works

The application is deployed to Vercel as a Python serverless function with a built React frontend:

1. **Build Phase** (`buildCommand` in `vercel.json`):
   - `cd client && npm install && npm run build`
   - Builds React app

2. **Install Phase** (automatic):
   - Vercel auto-detects `requirements.txt`
   - Installs Python dependencies for the serverless function

3. **Runtime**:
   - `/api/index.py` imports the Flask app from `serve.py`
   - All routes (`/`, `/api/*`) are handled by the Python serverless function
   - Flask serves the built React app from `client/static/dist/`
   - API endpoints process requests

### Key Configuration Files

#### `vercel.json`
```json
{
  "buildCommand": "cd client && npm install && npm run build",
  "outputDirectory": "static/dist",
  "rewrites": [
    { "source": "/(.*)", "destination": "/api/index" }
  ]
}
```

- **buildCommand**: Builds the React frontend
- **outputDirectory**: Points to where React builds output (matches `client/vite.config.js` outDir)
- **rewrites**: Routes all requests to the Python serverless function

#### `api/index.py`
```python
import sys
import os

# Add parent directory to path so we can import serve.py and other modules
parent_dir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
if parent_dir not in sys.path:
    sys.path.insert(0, parent_dir)

from serve import app as app
```

This is the Vercel serverless function entry point. The path manipulation is required because Vercel's Python runtime doesn't automatically add the parent directory to `sys.path`.

#### `serve.py`
```python
# Configure Flask to serve React build output
app = Flask(
    __name__,
    static_folder='static/dist/assets',
    static_url_path='/assets'
)

@app.route("/")
def index():
    """Serve the React app"""
    static_dist = os.path.join(os.path.dirname(os.path.abspath(__file__)), 'static', 'dist')
    return send_from_directory(static_dist, 'index.html')
```

Flask is configured to:
- Serve static assets from `static/dist/assets` at `/assets/*`
- Serve the React app's `index.html` at the root `/`
- Handle API routes at `/api/*`

### Deployment Requirements

1. **React build output** must be in `client/static/dist/` (configured in `client/vite.config.js`)
2. **Python dependencies** are managed by `uv` and must manually be added to `requirements.txt` (Vercel auto-installs)
3. **Module imports** in `api/index.py` must handle parent directory path
4. **Flask static configuration** must point to built React assets

### Common Vercel Deployment Issues

**Issue**: `pip: command not found`
- **Cause**: Explicit `installCommand` in vercel.json trying to run pip in Node.js context
- **Solution**: Remove `installCommand` - Vercel auto-installs from requirements.txt

**Issue**: `No Output Directory named "public" found`
- **Cause**: Vercel looking for default output directory
- **Solution**: Add `"outputDirectory": "static/dist"` to vercel.json

**Issue**: `404 for /api/index`
- **Cause**: Python module import failing in serverless function
- **Solution**: Add parent directory to sys.path in api/index.py

## Documentation

- [ARCHITECTURE.md](ARCHITECTURE.md) - Detailed flows & user interactions documentation
- [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) - Map of the project structure
- [GOTCHAS.md](GOTCHAS.md) - Documented solved tricky past bugs
- [BUGS.md](BUGS.md) - Known issues
</document>
<document path="SCREENSHOTTING_APP.md">
---
last_updated: 2025-11-18 10:35, af7d9f0
---
# How to Get Screenshots of the App from Remote

**Setup:** User has ngrok endpoint at `https://josue-ungreedy-unphysically.ngrok-free.dev/`

## Steps

1. **Verify Playwright is installed locally:**
```bash
curl -X POST https://josue-ungreedy-unphysically.ngrok-free.dev/ -d "ls ~/Library/Caches/ms-playwright"
```

2. **Create and run Playwright script via heredoc:**
```bash
curl -X POST https://josue-ungreedy-unphysically.ngrok-free.dev/ -d "cat > /tmp/screenshot.js << 'EOF'
const {chromium} = require('playwright');
(async () => {
  const browser = await chromium.launch({headless: true});
  const page = await browser.newPage();
  await page.setViewport({width: 1920, height: 1080});
  await page.goto('http://localhost:3000', {waitUntil: 'domcontentloaded', timeout: 30000});
  await page.waitForSelector('body');
  await new Promise(r => setTimeout(r, 4000));
  await page.screenshot({path: '/tmp/tldr_local.png', fullPage: true});
  await browser.close();
  console.log('Screenshot saved');
})();
EOF
cd ~/dev/TLDRScraper && node /tmp/screenshot.js && ls -lh /tmp/tldr_local.png" -s
```

3. **Transfer screenshot via Git:**
```bash
# Create temporary branch
curl -X POST https://josue-ungreedy-unphysically.ngrok-free.dev/ -d "cd ~/dev/TLDRScraper && git checkout -b screenshots-$(date +%s)" -s

# Copy, commit, and push
curl -X POST https://josue-ungreedy-unphysically.ngrok-free.dev/ -d "cd ~/dev/TLDRScraper && cp /tmp/tldr_local.png ./screenshot.png && git commit -am 'Add screenshot' && git push --set-upstream origin HEAD 2>&1 | grep -E 'screenshots-|branch'" -s
```

Note the branch name from output (e.g., `screenshots-1763449916`)

4. **Download screenshot via GitHub raw URL:**
```bash
curl -s "https://raw.githubusercontent.com/giladbarnea/TLDRScraper/screenshots-1763449916/screenshot.png" -o /tmp/tldr_screenshot.png
file /tmp/tldr_screenshot.png  # Verify it's a valid PNG
```

5. **Display in conversation:** Use Read tool on `/tmp/tldr_screenshot.png`

## Cleanup

**Remote machine:**
```bash
# Remove temp files
curl -X POST https://josue-ungreedy-unphysically.ngrok-free.dev/ -d "rm /tmp/tldr_local.png /tmp/screenshot.js" -s

# Delete local git branch
curl -X POST https://josue-ungreedy-unphysically.ngrok-free.dev/ -d "cd ~/dev/TLDRScraper && git checkout - && git branch -D screenshots-1763449916" -s
```

**Remote GitHub:**
```bash
# Delete remote branch (requires valid GITHUB_API_TOKEN)
curl -X DELETE "https://api.github.com/repos/giladbarnea/TLDRScraper/git/refs/heads/screenshots-1763449916" \
  -H "Authorization: token ${GITHUB_API_TOKEN}" -s
```

**Local machine:**
```bash
rm /tmp/tldr_screenshot.png /tmp/screenshot_script.js
```

## Notes

* **Heredoc vs inline:** Heredoc approach (`cat > file << 'EOF'`) works better than inline escaped JavaScript - avoids quote escaping hell
* **File upload services:** `file.io` and `transfer.sh` timeout with ngrok (ERR_NGROK_3004) - likely a bug in the remoteshell server handling long-running commands
* **Git method:** Most reliable for this setup despite extra steps

</document>
<document path="client/README.md">
---
last_updated: 2025-11-14 16:24, 722a1a0
---
# Vue 3 + Vite

This template should help get you started developing with Vue 3 in Vite. The template uses Vue 3 `<script setup>` SFCs, check out the [script setup docs](https://v3.vuejs.org/api/sfc-script-setup.html#sfc-script-setup) to learn more.

Learn more about IDE Support for Vue in the [Vue Docs Scaling up Guide](https://vuejs.org/guide/scaling-up/tooling.html#ide-support).

</document>
<document path="client/index.html">
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light" />
    <title>Newsletter Aggregator</title>

    <!-- Vollkorn font for reading surface -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vollkorn:wght@400;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>

</document>
<document path="client/src/App.css">
/* CSS Variables */
:root {
  --bg: #f6f7f9;
  --surface: #ffffff;
  --text: #0f172a;
  --muted: #475569;
  --border: #e5e7eb;
  --link: #1a73e8;
  --radius: 10px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06), 0 1px 3px rgba(0,0,0,0.10);

  /* Whitey reading surface colors */
  --whitey-text: #333;
  --whitey-link: #2484c1;
  --whitey-divider: #2f2f2f;
  --whitey-rule: #ddd;
  --whitey-s-1: 0.5rem;
  --whitey-s-2: 1rem;
  --whitey-s-3: 1.5rem;
  --whitey-s-4: 2.5rem;
}

/* Global resets and base styles */
* {
  box-sizing: border-box;
}

body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, "Helvetica Neue", Arial, sans-serif;
  max-width: 1000px;
  margin: 0 auto;
  padding: 20px;
  background-color: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  -webkit-text-size-adjust: 100%;
  letter-spacing: 0.003em;
  line-height: 1.6;
}

/* Container styles */
.container {
  background: var(--surface);
  padding: 20px;
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
}

h1 {
  color: var(--text);
  text-align: center;
  margin-bottom: 30px;
  font-weight: 700;
  letter-spacing: -0.01em;
  line-height: 1.25;
  text-wrap: balance;
}

/* Focus styles */
a:focus-visible,
button:focus-visible,
input:focus-visible {
  outline: 3px solid rgba(26,115,232,0.45);
  outline-offset: 2px;
}

/* Whitey reading surface styles (for #write) */
#write {
  font-size: 19px;
  max-width: 960px;
  margin: 0 auto 2em;
  padding-top: 40px;
  padding-left: 1rem;
  padding-right: 1rem;
  color: var(--whitey-text);
  font-family: "Vollkorn", Palatino, Times, serif;
  line-height: 1.53;
  text-align: left;
  background: transparent;
}

@media only screen and (min-width: 1400px) {
  #write {
    max-width: 1100px;
  }
}

#write h1,
#write h2,
#write h3 {
  text-align: center;
  font-weight: normal;
  color: var(--whitey-text);
}

#write h1 {
  margin-top: 1.6em;
  font-size: 3em;
}

#write h2 {
  margin-top: 2em;
}

#write h3 {
  margin-top: 3em;
  font-style: italic;
}

#write h1 + h2,
#write h2 + h3 {
  margin-top: 0.83em;
}

/* Mobile responsive */
@media (max-width: 42em) {
  #write {
    font-size: clamp(16px, 0.95rem + 0.6vw, 18px);
    line-height: 1.6;
    padding-left: 0;
    padding-right: 0;
  }

  #write h1 {
    font-size: clamp(2rem, 7vw, 2.6rem);
    line-height: 1.15;
    margin: var(--whitey-s-4) 0 var(--whitey-s-2);
  }

  #write h2 {
    font-size: clamp(1.5rem, 5.5vw, 2rem);
    line-height: 1.25;
    margin: var(--whitey-s-4) 0 var(--whitey-s-1);
  }

  #write h3 {
    font-size: clamp(1.25rem, 4.5vw, 1.6rem);
    line-height: 1.3;
    margin: var(--whitey-s-3) 0 var(--whitey-s-1);
  }
}

@media (max-width: 480px) {
  body {
    padding: 8px;
  }
  .container {
    padding: 12px;
  }
}

</document>
<document path="client/src/App.jsx">
import { useState, useEffect } from 'react'
import CacheToggle from './components/CacheToggle'
import ScrapeForm from './components/ScrapeForm'
import ResultsDisplay from './components/ResultsDisplay'
import { loadFromCache } from './lib/scraper'
import './App.css'

function App() {
  const [results, setResults] = useState(null)

  useEffect(() => {
    const today = new Date()
    const threeDaysAgo = new Date(today)
    threeDaysAgo.setDate(today.getDate() - 3)

    const endDate = today.toISOString().split('T')[0]
    const startDate = threeDaysAgo.toISOString().split('T')[0]

    loadFromCache(startDate, endDate)
      .then(cached => {
        if (cached) {
          setResults(cached)
        }
      })
      .catch(err => {
        console.error('Failed to load cached results:', err)
      })
  }, [])

  return (
    <div className="container">
      <h1>Newsletter Aggregator</h1>

      <CacheToggle />

      <ScrapeForm onResults={setResults} />

      {results && <ResultsDisplay results={results} />}
    </div>
  )
}

export default App

</document>
<document path="client/src/components/ArticleCard.css">
.article-card {
  display: flex;
  flex-direction: column;
  background: var(--surface, #ffffff);
  border: 1px solid var(--border, #e5e7eb);
  border-radius: 8px;
  padding: 14px 16px;
  transition: border-color 0.15s ease, box-shadow 0.15s ease, transform 0.15s ease, opacity 0.15s ease;
  position: relative;
  animation: cardFadeIn 0.3s ease backwards;
}

@keyframes cardFadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.article-card:hover {
  border-color: var(--link, #1a73e8);
  box-shadow: 0 2px 8px rgba(26, 115, 232, 0.12);
  transform: translateY(-1px);
}

.article-card.unread .article-link {
  font-weight: 600;
}

.article-card.read .article-link {
  font-weight: normal;
  color: var(--muted, #475569);
}

.article-card.tldr-hidden {
  opacity: 0.6;
  background: rgba(156, 163, 175, 0.04);
}

.article-card.tldr-hidden .article-link {
  font-weight: normal;
  color: var(--muted, #475569);
}

.article-card.removed {
  opacity: 0.75;
  border-style: dashed;
  border-color: #d1d5db;
  background: #f3f4f6;
  cursor: pointer;
}

.article-card.removed .article-link {
  text-decoration: line-through;
  color: var(--muted, #475569);
  pointer-events: none;
}

.article-card.removed .article-actions {
  opacity: 1;
}

.article-card.removed .article-actions .article-btn:not(.remove-article-btn) {
  display: none;
}

.article-header {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
}

.article-number {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg, #f6f7f9);
  border-radius: 6px;
  font-weight: 600;
  font-size: 14px;
  color: var(--muted, #475569);
}

.article-content {
  flex: 1;
  min-width: 0;
}

.article-link {
  font-size: 16px;
  line-height: 1.5;
  color: var(--link, #1a73e8);
  text-decoration: none;
  word-wrap: break-word;
  display: block;
  width: 100%;
  cursor: pointer;
}

.article-link:hover {
  text-decoration: underline;
}

.article-link.loading {
  opacity: 0.6;
  cursor: wait;
}

.article-favicon {
  width: 1em;
  height: 1em;
  display: inline-block;
  vertical-align: -0.125em;
  object-fit: contain;
  margin-right: 1ch;
}

.article-actions {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  gap: 6px;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.article-card:hover .article-actions {
  opacity: 1;
}

.article-btn {
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: 1px solid var(--border, #e5e7eb);
  border-radius: 6px;
  color: var(--muted, #475569);
  cursor: pointer;
  transition: all 0.15s ease;
  font-size: 13px;
  padding: 0;
  margin: 0;
}

.article-btn:hover {
  background: var(--bg, #f6f7f9);
  border-color: var(--muted, #475569);
  color: var(--text, #0f172a);
}

.article-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.tldr-btn {
  width: auto;
  min-width: 5em;
  padding: 0 10px;
  font-weight: 500;
  white-space: nowrap;
}

.tldr-btn.loaded {
  background: #22c55e;
  color: white;
  border-color: #22c55e;
}

.tldr-btn.loaded:hover {
  background: #16a34a;
  border-color: #16a34a;
}

.tldr-btn.loaded.expanded {
  background: var(--bg, #f6f7f9);
  color: var(--text, #0f172a);
  border-color: var(--border, #e5e7eb);
}

.remove-article-btn {
  width: auto;
  min-width: 6.2em;
  padding: 0 10px;
  font-weight: 500;
  white-space: nowrap;
}

.remove-article-btn:hover {
  background: rgba(220, 53, 69, 0.12);
  border-color: rgba(220, 53, 69, 0.4);
  color: #b91c1c;
}

.article-card.removed .remove-article-btn {
  display: none;
}

.inline-tldr {
  margin-top: 9px;
  padding-top: 9px;
  padding-bottom: 0;
  border-top: 1px dashed var(--border, #e5e7eb);
  font-size: 0.96em;
  line-height: 1.675;
  animation: slideDown 0.2s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.inline-tldr > strong {
  display: block;
  margin-bottom: 0.5em;
  color: var(--text, #0f172a);
}

.inline-tldr ul {
  padding-left: 1.2em;  /* Just enough room for bullets */
  margin: 0.5em 0;
}

@media (max-width: 768px) {
  .article-actions {
    opacity: 1;
    width: 100%;
    margin-left: 0;
    margin-top: 8px;
    justify-content: flex-start;
  }

  .article-header {
    flex-wrap: wrap;
  }

}

</document>
<document path="client/src/components/ArticleCard.jsx">
import { useMemo } from 'react'
import { useArticleState } from '../hooks/useArticleState'
import { useSummary } from '../hooks/useSummary'
import './ArticleCard.css'

function ArticleCard({ article, index }) {
  const { isRead, isRemoved, isTldrHidden, toggleRead, toggleRemove, markTldrHidden, unmarkTldrHidden, loading: stateLoading } = useArticleState(
    article.issueDate,
    article.url
  )

  const tldr = useSummary(article.issueDate, article.url, 'tldr')

  const cardClasses = [
    'article-card',
    !isRead && 'unread',
    isRead && 'read',
    isRemoved && 'removed',
    isTldrHidden && 'tldr-hidden'
  ].filter(Boolean).join(' ')

  const fullUrl = useMemo(() => {
    const url = article.url
    if (url.startsWith('http://') || url.startsWith('https://')) {
      return url
    }
    return `https://${url}`
  }, [article.url])

  const faviconUrl = useMemo(() => {
    try {
      const url = new URL(fullUrl)
      return `${url.origin}/favicon.ico`
    } catch {
      return null
    }
  }, [fullUrl])

  const handleLinkClick = (e) => {
    if (isRemoved) return
    if (e.ctrlKey || e.metaKey) return

    if (!isRead) {
      toggleRead()
    }
  }

  const handleTldrClick = () => {
    if (isRemoved) return

    const wasExpanded = tldr.expanded
    tldr.toggle()

    if (!isRead && tldr.expanded) {
      toggleRead()
    }

    if (wasExpanded && !tldr.expanded) {
      markTldrHidden()
    } else if (tldr.expanded) {
      unmarkTldrHidden()
    }
  }

  const handleRemoveClick = () => {
    if (!isRemoved && tldr.expanded) {
      tldr.collapse()
    }
    toggleRemove()
  }

  return (
    <div className={cardClasses} data-original-order={index} onClick={isRemoved ? handleRemoveClick : undefined}>
      <div className="article-header">
        <div className="article-number">{index + 1}</div>

        <div className="article-content">
          <a
            href={fullUrl}
            className={`article-link ${stateLoading ? 'loading' : ''}`}
            target="_blank"
            rel="noopener noreferrer"
            data-url={fullUrl}
            tabIndex={isRemoved ? -1 : 0}
            onClick={handleLinkClick}
          >
            {faviconUrl && (
              <img
                src={faviconUrl}
                className="article-favicon"
                loading="lazy"
                alt=""
                onError={(e) => e.target.style.display = 'none'}
              />
            )}
            <span className="article-link-text">
              {article.title}{!isRemoved && article.articleMeta ? ` (${article.articleMeta})` : ''}
            </span>
          </a>
        </div>

        <div className="article-actions">
          <button
            className={`article-btn tldr-btn ${tldr.isAvailable ? 'loaded' : ''} ${tldr.expanded ? 'expanded' : ''}`}
            disabled={stateLoading || tldr.loading}
            type="button"
            title={tldr.isAvailable ? 'TLDR cached - click to show' : 'Show TLDR'}
            onClick={handleTldrClick}
          >
            {tldr.buttonLabel}
          </button>

          <button
            className="article-btn remove-article-btn"
            type="button"
            title={isRemoved ? 'Restore this article to the list' : 'Remove this article from the list'}
            disabled={stateLoading}
            onClick={handleRemoveClick}
          >
            {isRemoved ? 'Restore' : 'Remove'}
          </button>
        </div>
      </div>

      {tldr.expanded && tldr.html && (
        <div className="inline-tldr">
          <strong>TLDR</strong>
          <div dangerouslySetInnerHTML={{ __html: tldr.html }} />
        </div>
      )}
    </div>
  )
}

export default ArticleCard

</document>
<document path="client/src/components/ArticleList.css">
.article-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin: 20px 0;
  padding: 0;
  list-style: none;
}

.section-title {
  margin: 18px 0 6px;
  text-align: center;
  font-style: italic;
  color: #9ca3af;
  font-size: 0.92em;
  letter-spacing: 0.01em;
}

.article-card.category-first {
  border-top: 3px solid var(--link, #1a73e8);
  padding-top: 16px;
  margin-top: 12px;
}

</document>
<document path="client/src/components/ArticleList.jsx">
import { useMemo } from 'react'
import ArticleCard from './ArticleCard'
import './ArticleList.css'

function ArticleList({ articles }) {
  const sortedArticles = useMemo(() => {
    return [...articles].sort((a, b) => {
      const stateA = a.removed ? 3
        : a.tldrHidden ? 2
        : a.read?.isRead ? 1
        : 0
      const stateB = b.removed ? 3
        : b.tldrHidden ? 2
        : b.read?.isRead ? 1
        : 0

      if (stateA !== stateB) return stateA - stateB

      return (a.originalOrder ?? 0) - (b.originalOrder ?? 0)
    })
  }, [articles])

  const sectionsWithArticles = useMemo(() => {
    const sections = []
    let currentSection = null

    sortedArticles.forEach((article, index) => {
      const sectionTitle = article.section
      const sectionEmoji = article.sectionEmoji
      const sectionKey = sectionTitle ? `${sectionEmoji || ''} ${sectionTitle}`.trim() : null

      if (sectionKey && sectionKey !== currentSection) {
        sections.push({
          type: 'section',
          key: sectionKey,
          label: sectionKey
        })
        currentSection = sectionKey
      } else if (!sectionTitle && currentSection !== null) {
        currentSection = null
      }

      sections.push({
        type: 'article',
        key: article.url,
        article,
        index
      })
    })

    return sections
  }, [sortedArticles])

  return (
    <div className="article-list">
      {sectionsWithArticles.map((item) => (
        item.type === 'section' ? (
          <div key={item.key} className="section-title">
            {item.label}
          </div>
        ) : (
          <ArticleCard
            key={item.key}
            article={item.article}
            index={item.index}
          />
        )
      ))}
    </div>
  )
}

export default ArticleList

</document>
<document path="client/src/components/CacheToggle.css">
.cache-toggle-container {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px;
  margin-bottom: 20px;
  background: var(--bg);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.cache-toggle-label {
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  font-size: 15px;
  color: var(--text);
  user-select: none;
}

.cache-toggle-checkbox {
  position: relative;
  width: 48px;
  height: 26px;
  background: #cbd5e1;
  border-radius: 13px;
  transition: background-color 0.2s ease;
  cursor: pointer;
  border: 2px solid transparent;
}

.cache-toggle-checkbox::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 18px;
  height: 18px;
  background: white;
  border-radius: 50%;
  transition: transform 0.2s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.cache-toggle-input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
}

.cache-toggle-input:checked + .cache-toggle-checkbox {
  background: #22c55e;
}

.cache-toggle-input:checked + .cache-toggle-checkbox::after {
  transform: translateX(22px);
}

.cache-toggle-input:focus-visible + .cache-toggle-checkbox {
  outline: 3px solid rgba(26,115,232,0.45);
  outline-offset: 2px;
}

.cache-toggle-text {
  font-weight: 500;
}

.cache-toggle-status {
  font-size: 13px;
  color: var(--muted);
  margin-left: 4px;
}

</document>
<document path="client/src/components/CacheToggle.jsx">
import { useSupabaseStorage } from '../hooks/useSupabaseStorage'
import './CacheToggle.css'

function CacheToggle() {
  const [enabled, setEnabled, , { loading }] = useSupabaseStorage('cache:enabled', true)

  return (
    <div className="cache-toggle-container" data-testid="cache-toggle-container">
      <label className="cache-toggle-label" htmlFor="cacheToggle">
        <input
          id="cacheToggle"
          type="checkbox"
          className="cache-toggle-input"
          data-testid="cache-toggle-input"
          aria-label="Enable cache"
          checked={enabled}
          disabled={loading}
          onChange={(e) => setEnabled(e.target.checked)}
        />
        <span className="cache-toggle-checkbox" data-testid="cache-toggle-switch" />
        <span className="cache-toggle-text">Cache</span>
        <span className="cache-toggle-status" data-testid="cache-toggle-status">
          {enabled ? '(enabled)' : '(disabled)'}
        </span>
      </label>
    </div>
  )
}

export default CacheToggle

</document>
<document path="client/src/components/ResultsDisplay.css">
.result {
  margin-top: 20px;
  padding: 0;
  background-color: transparent;
  border-radius: 0;
  display: block;
  border: none;
}

.stats {
  background-color: #fff3cd;
  border: 1px solid #ffeaa7;
  color: #856404;
  margin-bottom: 15px;
  padding: 10px;
  border-radius: 4px;
}

.logs-slot {
  margin-bottom: 15px;
}

.logs-slot details {
  background: #f6f7f9;
  padding: 10px;
  border-radius: 4px;
  border: 1px solid #e5e7eb;
}

.logs-slot summary {
  cursor: pointer;
  font-weight: 600;
  color: #475569;
  user-select: none;
}

.logs-slot pre {
  margin-top: 10px;
  font-size: 13px;
  line-height: 1.5;
  white-space: pre-wrap;
  word-wrap: break-word;
  color: #0f172a;
}

.date-header-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  margin: 0;
}

.date-header-container h2 {
  text-align: center;
  width: 100%;
  font-weight: normal;
  color: var(--text, #0f172a);
  margin-top: 2em;
}

.date-header-container h2::after {
  border-bottom: 1px solid #2f2f2f;
  content: '';
  width: 100px;
  display: block;
  margin: 0.4em auto 0;
  height: 1px;
}

.issue-header-container h4 {
  text-align: left;
  margin: 1.5em 0 0.5em;
  font-style: normal;
  color: var(--text, #0f172a);
}

.issue-title-block {
  margin: 12px 0 18px;
  text-align: center;
  font-style: italic;
  color: #9ca3af;
  font-size: 0.95em;
  line-height: 1.6;
}

.issue-title-block .issue-title-line + .issue-title-line {
  margin-top: 4px;
}

.copy-toast {
  position: fixed;
  left: 50%;
  bottom: 32px;
  transform: translateX(-50%) translateY(20px);
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  color: var(--text, #0f172a);
  padding: 10px 18px;
  border-radius: 999px;
  font-size: 14px;
  font-weight: 500;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s ease, transform 0.25s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.06);
  border: 1px solid rgba(0, 0, 0, 0.06);
  z-index: 999;
}

.copy-toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

</document>
<document path="client/src/components/ResultsDisplay.jsx">
import { useSupabaseStorage } from '../hooks/useSupabaseStorage'
import { getNewsletterScrapeKey } from '../lib/storageKeys'
import ArticleList from './ArticleList'
import './ResultsDisplay.css'

function ResultsDisplay({ results }) {
  const statsLines = [
    `📊 Stats: ${results.stats.total_articles} articles, ${results.stats.unique_urls} unique URLs`,
    `📅 Dates: ${results.stats.dates_with_content}/${results.stats.dates_processed} with content`,
    results.source && `Source: ${results.source}`
  ].filter(Boolean)

  const debugLogs = results.debugLogs || []

  return (
    <div id="result" className="result success">
      <div className="stats">
        {statsLines.map((line, index) => (
          <div key={index}>{line}</div>
        ))}
      </div>

      {debugLogs.length > 0 && (
        <div id="logs-slot" className="logs-slot">
          <details>
            <summary>Debug logs</summary>
            <pre>{debugLogs.join('\n')}</pre>
          </details>
        </div>
      )}

      <main id="write">
        {(results.payloads || []).map((payload) => (
          <DailyResults
            key={payload.date}
            payload={payload}
          />
        ))}
      </main>
    </div>
  )
}

function DailyResults({ payload }) {
  const [livePayload, , , { loading }] = useSupabaseStorage(
    getNewsletterScrapeKey(payload.date),
    payload
  )

  const date = livePayload?.date ?? payload.date
  const articles = (livePayload?.articles ?? payload.articles).map((article, index) => ({
    ...article,
    originalOrder: index
  }))
  const issues = livePayload?.issues ?? payload.issues ?? []

  return (
    <div className="date-group">
      <div className="date-header-container" data-date={date}>
        <h2>{date}</h2>
        {loading && <span className="loading-indicator"> (loading...)</span>}
      </div>

      {issues.map((issue) => (
        <div
          key={`${date}-${issue.category}`}
          className="issue-section"
        >
          <div className="issue-header-container">
            <h4>{issue.category}</h4>
          </div>

          {(issue.title || issue.subtitle) && (
            <div className="issue-title-block">
              {issue.title && (
                <div className="issue-title-line">{issue.title}</div>
              )}
              {issue.subtitle && issue.subtitle !== issue.title && (
                <div className="issue-title-line">{issue.subtitle}</div>
              )}
            </div>
          )}

          <ArticleList
            articles={articles.filter((article) => article.category === issue.category)}
          />
        </div>
      ))}

      {articles.some((article) => !article.category) && (
        <ArticleList
          articles={articles.filter((article) => !article.category)}
        />
      )}
    </div>
  )
}

export default ResultsDisplay

</document>
<document path="client/src/components/ScrapeForm.css">
.form-group {
  margin-bottom: 20px;
  display: inline-block;
  width: 45%;
  margin-right: 5%;
}

.form-group:last-child {
  margin-right: 0;
}

label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
  color: var(--muted);
}

input[type="date"] {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid var(--border);
  border-radius: 8px;
  font-size: 16px;
  box-sizing: border-box;
  background: var(--surface);
  color: var(--text);
  min-height: 44px;
}

button {
  background-color: #007bff;
  color: white;
  padding: 12px 24px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
  width: 100%;
  margin-top: 20px;
  min-height: 44px;
}

button:hover {
  background-color: #0056b3;
}

button:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}

.progress {
  display: block;
  margin: 20px 0;
  padding: 15px;
  background-color: #e3f2fd;
  border-radius: 4px;
  border-left: 4px solid #2196f3;
}

.progress-bar {
  width: 100%;
  height: 20px;
  background-color: #ddd;
  border-radius: 10px;
  overflow: hidden;
  margin-top: 10px;
}

.progress-fill {
  height: 100%;
  background-color: #2196f3;
  transition: width 0.3s ease;
}

.error {
  background-color: #f8d7da;
  border: 1px solid #f5c6cb;
  color: #721c24;
  padding: 10px 12px;
  border-radius: 6px;
  margin-top: 10px;
}

@media (max-width: 480px) {
  .form-group {
    width: 100%;
    margin-right: 0;
  }
}

</document>
<document path="client/src/components/ScrapeForm.jsx">
import { useActionState, useState, useEffect } from 'react'
import { scrapeNewsletters } from '../lib/scraper'
import { useSupabaseStorage } from '../hooks/useSupabaseStorage'
import './ScrapeForm.css'

function ScrapeForm({ onResults }) {
  const [startDate, setStartDate] = useState('')
  const [endDate, setEndDate] = useState('')
  const [cacheEnabled] = useSupabaseStorage('cache:enabled', true)
  const [progress, setProgress] = useState(0)

  useEffect(() => {
    const today = new Date()
    const threeDaysAgo = new Date(today)
    threeDaysAgo.setDate(today.getDate() - 3)
    setEndDate(today.toISOString().split('T')[0])
    setStartDate(threeDaysAgo.toISOString().split('T')[0])
  }, [])

  const [state, formAction, isPending] = useActionState(
    async (previousState, formData) => {
      const start = formData.get('start_date')
      const end = formData.get('end_date')

      const startDateObj = new Date(start)
      const endDateObj = new Date(end)
      const daysDiff = Math.ceil((endDateObj - startDateObj) / (1000 * 60 * 60 * 24))

      if (startDateObj > endDateObj) {
        return { error: 'Start date must be before or equal to end date.' }
      }
      if (daysDiff >= 31) {
        return { error: 'Date range cannot exceed 31 days. Please select a smaller range.' }
      }

      setProgress(50)

      try {
        const results = await scrapeNewsletters(start, end, cacheEnabled)
        setProgress(100)
        onResults(results)
        return { success: true }
      } catch (err) {
        setProgress(0)
        return { error: err.message || 'Network error' }
      }
    },
    { success: false }
  )

  const validationError = (() => {
    if (!startDate || !endDate) return null

    const start = new Date(startDate)
    const end = new Date(endDate)
    const daysDiff = Math.ceil((end - start) / (1000 * 60 * 60 * 24))

    if (start > end) {
      return 'Start date must be before or equal to end date.'
    }
    if (daysDiff >= 31) {
      return 'Date range cannot exceed 31 days. Please select a smaller range.'
    }
    return null
  })()

  return (
    <div>
      <form id="scrapeForm" action={formAction}>
        <div className="form-group">
          <label htmlFor="start_date">Start Date:</label>
          <input
            id="start_date"
            name="start_date"
            type="date"
            value={startDate}
            onChange={(e) => setStartDate(e.target.value)}
            required
          />
        </div>

        <div className="form-group">
          <label htmlFor="end_date">End Date:</label>
          <input
            id="end_date"
            name="end_date"
            type="date"
            value={endDate}
            onChange={(e) => setEndDate(e.target.value)}
            required
          />
        </div>

        <button
          id="scrapeBtn"
          type="submit"
          disabled={isPending || !!validationError}
          data-testid="scrape-btn"
        >
          {isPending ? 'Scraping...' : 'Scrape Newsletters'}
        </button>
      </form>

      {isPending && (
        <div className="progress">
          <div id="progress-text">
            Scraping newsletters... This may take several minutes.
          </div>
          <div className="progress-bar">
            <div
              className="progress-fill"
              style={{ width: `${progress}%` }}
            />
          </div>
        </div>
      )}

      {validationError && (
        <div className="error" role="alert">
          {validationError}
        </div>
      )}

      {state.error && (
        <div className="error" role="alert">
          Error: {state.error}
        </div>
      )}
    </div>
  )
}

export default ScrapeForm

</document>
<document path="client/src/hooks/useArticleState.js">
import { useCallback, useMemo } from 'react'
import { useSupabaseStorage } from './useSupabaseStorage'
import { getNewsletterScrapeKey } from '../lib/storageKeys'

export function useArticleState(date, url) {
  const storageKey = getNewsletterScrapeKey(date)
  const [payload, setPayload, , { loading, error }] = useSupabaseStorage(storageKey, null)

  const article = useMemo(() => {
    return payload?.articles?.find(a => a.url === url) || null
  }, [payload, url])

  const isRead = article?.read?.isRead ?? false
  const isRemoved = Boolean(article?.removed)
  const isTldrHidden = Boolean(article?.tldrHidden)

  const state = !article ? 0
    : article.removed ? 3
    : article.tldrHidden ? 2
    : article.read?.isRead ? 1
    : 0

  const updateArticle = useCallback((updater) => {
    if (!article) return

    setPayload(current => {
      if (!current) return current

      return {
        ...current,
        articles: current.articles.map(a =>
          a.url === url ? { ...a, ...updater(a) } : a
        )
      }
    })
  }, [article, url, setPayload])

  const markAsRead = useCallback(() => {
    updateArticle(() => ({
      read: { isRead: true, markedAt: new Date().toISOString() }
    }))
  }, [updateArticle])

  const markAsUnread = useCallback(() => {
    updateArticle(() => ({
      read: { isRead: false, markedAt: null }
    }))
  }, [updateArticle])

  const toggleRead = useCallback(() => {
    if (isRead) markAsUnread()
    else markAsRead()
  }, [isRead, markAsRead, markAsUnread])

  const setRemoved = useCallback((removed) => {
    updateArticle(() => ({ removed: Boolean(removed) }))
  }, [updateArticle])

  const toggleRemove = useCallback(() => {
    setRemoved(!isRemoved)
  }, [isRemoved, setRemoved])

  const setTldrHidden = useCallback((hidden) => {
    updateArticle(() => ({ tldrHidden: Boolean(hidden) }))
  }, [updateArticle])

  const markTldrHidden = useCallback(() => {
    setTldrHidden(true)
  }, [setTldrHidden])

  const unmarkTldrHidden = useCallback(() => {
    setTldrHidden(false)
  }, [setTldrHidden])

  return {
    article,
    isRead,
    isRemoved,
    isTldrHidden,
    state,
    loading,
    error,
    markAsRead,
    markAsUnread,
    toggleRead,
    setRemoved,
    toggleRemove,
    setTldrHidden,
    markTldrHidden,
    unmarkTldrHidden,
    updateArticle
  }
}

</document>
<document path="client/src/hooks/useSummary.js">
import { useState, useMemo, useCallback } from 'react'
import { useArticleState } from './useArticleState'
import { marked } from 'marked'
import DOMPurify from 'dompurify'

export function useSummary(date, url, type = 'tldr') {
  if (type === 'summary') {
    throw new Error('Summary feature has been removed. Use type="tldr" instead.')
  }

  const { article, updateArticle } = useArticleState(date, url)
  const [loading, setLoading] = useState(false)
  const [expanded, setExpanded] = useState(false)
  const [effort, setEffort] = useState('low')

  const data = article?.[type]
  const status = data?.status || 'unknown'
  const markdown = data?.markdown || ''

  const html = useMemo(() => {
    if (!markdown) return ''
    try {
      const rawHtml = marked.parse(markdown)
      return DOMPurify.sanitize(rawHtml)
    } catch (error) {
      console.error('Failed to parse markdown:', error)
      return ''
    }
  }, [markdown])

  const errorMessage = data?.errorMessage || null
  const isAvailable = status === 'available' && markdown
  const isLoading = status === 'creating' || loading
  const isError = status === 'error'

  const buttonLabel = useMemo(() => {
    if (isLoading) return 'Loading...'
    if (expanded) return 'Hide'
    if (isAvailable) return 'Available'
    if (isError) return 'Retry'
    return 'TLDR'
  }, [isLoading, expanded, isAvailable, isError, type])

  const fetch = useCallback(async (summaryEffort = effort) => {
    if (!article) return

    setLoading(true)
    setEffort(summaryEffort)

    const endpoint = '/api/tldr-url'

    try {
      const response = await window.fetch(endpoint, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          url,
          summary_effort: summaryEffort
        })
      })

      const result = await response.json()

      if (result.success) {
        updateArticle(() => ({
          [type]: {
            status: 'available',
            markdown: result[`${type}_markdown`] || '',
            effort: summaryEffort,
            checkedAt: new Date().toISOString(),
            errorMessage: null
          }
        }))
        setExpanded(true)
      } else {
        updateArticle((current) => ({
          [type]: {
            ...(current[type] || {}),
            status: 'error',
            errorMessage: result.error || `Failed to fetch ${type}`
          }
        }))
      }
    } catch (error) {
      updateArticle((current) => ({
        [type]: {
          ...(current[type] || {}),
          status: 'error',
          errorMessage: error.message || 'Network error'
        }
      }))
      console.error(`Failed to fetch ${type}:`, error)
    } finally {
      setLoading(false)
    }
  }, [article, url, type, effort, updateArticle])

  const toggle = useCallback((summaryEffort) => {
    if (isAvailable) {
      setExpanded(!expanded)
    } else {
      fetch(summaryEffort)
    }
  }, [isAvailable, expanded, fetch])

  const collapse = useCallback(() => {
    setExpanded(false)
  }, [])

  const expand = useCallback(() => {
    setExpanded(true)
  }, [])

  return {
    data,
    status,
    markdown,
    html,
    errorMessage,
    loading: isLoading,
    expanded,
    effort,
    isAvailable,
    isError,
    buttonLabel,
    fetch,
    toggle,
    collapse,
    expand
  }
}

</document>
<document path="client/src/hooks/useSupabaseStorage.js">
import { useState, useCallback, useEffect, useRef } from 'react'

const changeListenersByKey = new Map()
const readCache = new Map()
const inflightReads = new Map()

function emitChange(key) {
  const listeners = changeListenersByKey.get(key)
  if (listeners) {
    listeners.forEach(listener => {
      try {
        listener()
      } catch (error) {
        console.error(`Storage listener failed: ${error.message}`)
      }
    })
  }

  if (typeof window !== 'undefined') {
    window.dispatchEvent(new CustomEvent('supabase-storage-change', { detail: { key } }))
  }
}

function subscribe(key, listener) {
  if (!changeListenersByKey.has(key)) {
    changeListenersByKey.set(key, new Set())
  }
  changeListenersByKey.get(key).add(listener)

  return () => {
    const listeners = changeListenersByKey.get(key)
    if (listeners) {
      listeners.delete(listener)
      if (listeners.size === 0) {
        changeListenersByKey.delete(key)
      }
    }
  }
}

async function readValue(key, defaultValue) {
  if (typeof window === 'undefined') return defaultValue

  if (readCache.has(key)) {
    return readCache.get(key)
  }

  if (inflightReads.has(key)) {
    return inflightReads.get(key)
  }

  const readPromise = (async () => {
    try {
      let value = defaultValue

      if (key.startsWith('cache:')) {
        const response = await window.fetch(`/api/storage/setting/${key}`)
        const data = await response.json()
        if (data.success) {
          value = data.value
        }
      } else if (key.startsWith('newsletters:scrapes:')) {
        const date = key.split(':')[2]
        const response = await window.fetch(`/api/storage/daily/${date}`)
        const data = await response.json()
        if (data.success) {
          value = data.payload
        }
      } else {
        console.warn(`Unknown storage key pattern: ${key}`)
      }

      readCache.set(key, value)
      return value

    } catch (error) {
      console.error(`Failed to read from storage: ${error.message}`)
      return defaultValue
    } finally {
      inflightReads.delete(key)
    }
  })()

  inflightReads.set(key, readPromise)
  return readPromise
}

async function writeValue(key, value) {
  if (typeof window === 'undefined') return

  try {
    if (key.startsWith('cache:')) {
      const response = await window.fetch(`/api/storage/setting/${key}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ value })
      })

      const data = await response.json()
      if (!data.success) {
        throw new Error(data.error || 'Failed to write setting')
      }

      readCache.set(key, value)
      emitChange(key)
      return
    }

    if (key.startsWith('newsletters:scrapes:')) {
      const date = key.split(':')[2]
      const response = await window.fetch(`/api/storage/daily/${date}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ payload: value })
      })

      const data = await response.json()
      if (!data.success) {
        throw new Error(data.error || 'Failed to write daily cache')
      }

      readCache.set(key, value)
      emitChange(key)
      return
    }

    throw new Error(`Unknown storage key pattern: ${key}`)

  } catch (error) {
    console.error(`Failed to persist to storage: ${error.message}`)
    throw error
  }
}

export function useSupabaseStorage(key, defaultValue) {
  const [value, setValue] = useState(defaultValue)
  const [loading, setLoading] = useState(true)
  const [error, setError] = useState(null)
  const valueRef = useRef(defaultValue)

  useEffect(() => {
    let cancelled = false

    readValue(key, defaultValue).then(loadedValue => {
      if (!cancelled) {
        setValue(loadedValue)
        valueRef.current = loadedValue
        setLoading(false)
      }
    }).catch(err => {
      if (!cancelled) {
        console.error(`Failed to load storage value for ${key}:`, err)
        setError(err)
        setValue(defaultValue)
        valueRef.current = defaultValue
        setLoading(false)
      }
    })

    return () => {
      cancelled = true
    }
  }, [key])

  useEffect(() => {
    const handleChange = () => {
      readValue(key, defaultValue).then(newValue => {
        setValue(newValue)
        valueRef.current = newValue
      }).catch(err => {
        console.error(`Failed to reload storage value for ${key}:`, err)
      })
    }

    return subscribe(key, handleChange)
  }, [key])

  const setValueAsync = useCallback(async (nextValue) => {
    if (typeof window === 'undefined') return

    setLoading(true)
    setError(null)

    try {
      const previous = valueRef.current
      const resolved = typeof nextValue === 'function' ? nextValue(previous) : nextValue

      if (resolved === previous) {
        setLoading(false)
        return
      }

      valueRef.current = resolved
      await writeValue(key, resolved)
      setValue(resolved)
      setLoading(false)

    } catch (err) {
      console.error(`Failed to set storage value for ${key}:`, err)
      setError(err)
      setLoading(false)
      throw err
    }
  }, [key])

  const remove = useCallback(async () => {
    await setValueAsync(undefined)
  }, [setValueAsync])

  return [value, setValueAsync, remove, { loading, error }]
}

</document>
<document path="client/src/lib/scraper.js">
/**
 * Plain JS scraper utilities for React components
 * Extracted from composables/useScraper.js
 */

import { getNewsletterScrapeKey } from './storageKeys'
import * as storageApi from './storageApi'

function computeDateRange(startDate, endDate) {
  const dates = []
  const start = new Date(startDate)
  const end = new Date(endDate)

  if (isNaN(start.getTime()) || isNaN(end.getTime())) {
    return []
  }

  if (start > end) return []

  const current = new Date(end)
  while (current >= start) {
    dates.push(current.toISOString().split('T')[0])
    current.setDate(current.getDate() - 1)
  }

  return dates
}

function buildStatsFromPayloads(payloads) {
  const uniqueUrls = new Set()
  let totalArticles = 0

  payloads.forEach(payload => {
    if (payload.articles) {
      payload.articles.forEach(article => {
        uniqueUrls.add(article.url)
        totalArticles++
      })
    }
  })

  return {
    total_articles: totalArticles,
    unique_urls: uniqueUrls.size,
    dates_processed: payloads.length,
    dates_with_content: payloads.filter(p => p.articles?.length > 0).length
  }
}

async function isRangeCached(startDate, endDate, cacheEnabled) {
  if (!cacheEnabled) return false

  const dates = computeDateRange(startDate, endDate)

  for (const date of dates) {
    const isCached = await storageApi.isDateCached(date)
    if (!isCached) {
      return false
    }
  }

  return true
}

function normalizeIsoDate(value) {
  if (typeof value !== 'string') return null
  const trimmed = value.trim()
  if (!trimmed) return null
  const date = new Date(trimmed)
  if (isNaN(date.getTime())) return null
  return date.toISOString().split('T')[0]
}

function buildDailyPayloadsFromScrape(data) {
  const payloadByDate = new Map()
  const issuesByDate = new Map()

  if (Array.isArray(data.issues)) {
    data.issues.forEach(issue => {
      const date = normalizeIsoDate(issue.date)
      if (!date) return

      if (!issuesByDate.has(date)) {
        issuesByDate.set(date, [])
      }
      issuesByDate.get(date).push(issue)
    })
  }

  if (Array.isArray(data.articles)) {
    data.articles.forEach(article => {
      const date = normalizeIsoDate(article.date)
      if (!date) return

      const articleData = {
        url: article.url,
        title: article.title || article.url,
        articleMeta: article.article_meta || "",
        issueDate: date,
        category: article.category || 'Newsletter',
        sourceId: article.source_id || null,
        section: article.section_title || null,
        sectionEmoji: article.section_emoji || null,
        sectionOrder: article.section_order ?? null,
        newsletterType: article.newsletter_type || null,
        removed: Boolean(article.removed),
        tldrHidden: false,
        tldr: { status: 'unknown', markdown: '', effort: 'low', checkedAt: null, errorMessage: null },
        read: { isRead: false, markedAt: null }
      }

      if (!payloadByDate.has(date)) {
        payloadByDate.set(date, [])
      }
      payloadByDate.get(date).push(articleData)
    })
  }

  const payloads = []
  payloadByDate.forEach((articles, date) => {
    const issues = issuesByDate.get(date) || []
    payloads.push({
      date,
      cachedAt: new Date().toISOString(),
      articles,
      issues
    })
  })

  return payloads.sort((a, b) => (a.date < b.date ? 1 : a.date > b.date ? -1 : 0))
}

async function mergeWithCache(payloads) {
  const merged = []

  for (const payload of payloads) {
    const existing = await storageApi.getDailyPayload(payload.date)

    if (existing) {
      const mergedPayload = {
        ...payload,
        articles: payload.articles.map(article => {
          const existingArticle = existing.articles?.find(a => a.url === article.url)
          if (existingArticle) {
            return {
              ...article,
              tldr: existingArticle.tldr || article.tldr,
              read: existingArticle.read || article.read,
              removed: existingArticle.removed ?? article.removed,
              tldrHidden: existingArticle.tldrHidden ?? article.tldrHidden
            }
          }
          return article
        })
      }

      await storageApi.setDailyPayload(payload.date, mergedPayload)
      merged.push(mergedPayload)
    } else {
      await storageApi.setDailyPayload(payload.date, payload)
      merged.push(payload)
    }
  }

  return merged
}

export async function loadFromCache(startDate, endDate) {
  const payloads = await storageApi.getDailyPayloadsRange(startDate, endDate)

  if (!payloads || payloads.length === 0) {
    return null
  }

  return {
    success: true,
    payloads,
    source: 'local cache',
    stats: buildStatsFromPayloads(payloads)
  }
}

export async function scrapeNewsletters(startDate, endDate, cacheEnabled = true) {
  if (await isRangeCached(startDate, endDate, cacheEnabled)) {
    const cached = await loadFromCache(startDate, endDate)
    if (cached) {
      return cached
    }
  }

  const response = await window.fetch('/api/scrape', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      start_date: startDate,
      end_date: endDate
    })
  })

  const data = await response.json()

  if (data.success) {
    const payloads = buildDailyPayloadsFromScrape(data)
    const mergedPayloads = cacheEnabled ? await mergeWithCache(payloads) : payloads

    return {
      success: true,
      payloads: mergedPayloads,
      source: 'Live scrape',
      stats: data.stats,
      debugLogs: data.stats?.debug_logs || []
    }
  } else {
    throw new Error(data.error || 'Scraping failed')
  }
}

</document>
<document path="client/src/lib/storageApi.js">
export async function isDateCached(date) {
  const response = await window.fetch(`/api/storage/is-cached/${date}`)
  const data = await response.json()

  if (data.success) {
    return data.is_cached
  }

  throw new Error(data.error || 'Failed to check cache')
}

export async function getDailyPayload(date) {
  const response = await window.fetch(`/api/storage/daily/${date}`)
  const data = await response.json()

  if (data.success) {
    return data.payload
  }

  return null
}

export async function setDailyPayload(date, payload) {
  const response = await window.fetch(`/api/storage/daily/${date}`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ payload })
  })

  const data = await response.json()

  if (!data.success) {
    throw new Error(data.error || 'Failed to save payload')
  }

  return data.data
}

export async function getDailyPayloadsRange(startDate, endDate) {
  const response = await window.fetch('/api/storage/daily-range', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ start_date: startDate, end_date: endDate })
  })

  const data = await response.json()

  if (data.success) {
    return data.payloads
  }

  throw new Error(data.error || 'Failed to load payloads')
}

</document>
<document path="client/src/lib/storageKeys.js">
export const STORAGE_KEYS = {
  CACHE_ENABLED: 'cache:enabled'
}

/**
 * Get the storage key for newsletter scrape data for a specific date.
 * @param {string} date - ISO date string (YYYY-MM-DD)
 * @returns {string} The storage key used for Supabase API endpoints
 */
export function getNewsletterScrapeKey(date) {
  return `newsletters:scrapes:${date}`
}

</document>
<document path="client/src/main.jsx">
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App'

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
)

</document>
<document path="static/dist/assets/index-CS1vvAxL.js">
import{r as Do,g as Mo,a as Im,k as Pm,p as lv}from"./vendor-Bvyvzkef.js";(function(){const E=document.createElement("link").relList;if(E&&E.supports&&E.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))s(A);new MutationObserver(A=>{for(const D of A)if(D.type==="childList")for(const U of D.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&s(U)}).observe(document,{childList:!0,subtree:!0});function T(A){const D={};return A.integrity&&(D.integrity=A.integrity),A.referrerPolicy&&(D.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?D.credentials="include":A.crossOrigin==="anonymous"?D.credentials="omit":D.credentials="same-origin",D}function s(A){if(A.ep)return;A.ep=!0;const D=T(A);fetch(A.href,D)}})();var cf={exports:{}},ve={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo;function tv(){if(mo)return ve;mo=1;var h=Symbol.for("react.transitional.element"),E=Symbol.for("react.fragment");function T(s,A,D){var U=null;if(D!==void 0&&(U=""+D),A.key!==void 0&&(U=""+A.key),"key"in A){D={};for(var C in A)C!=="key"&&(D[C]=A[C])}else D=A;return A=D.ref,{$$typeof:h,type:s,key:U,ref:A!==void 0?A:null,props:D}}return ve.Fragment=E,ve.jsx=T,ve.jsxs=T,ve}var vo;function av(){return vo||(vo=1,cf.exports=tv()),cf.exports}var _=av(),x=Do();const uv=Mo(x);var ff={exports:{}},ye={},sf={exports:{}},df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo;function ev(){return yo||(yo=1,(function(h){function E(b,M){var B=b.length;b.push(M);l:for(;0<B;){var nl=B-1>>>1,cl=b[nl];if(0<A(cl,M))b[nl]=M,b[B]=cl,B=nl;else break l}}function T(b){return b.length===0?null:b[0]}function s(b){if(b.length===0)return null;var M=b[0],B=b.pop();if(B!==M){b[0]=B;l:for(var nl=0,cl=b.length,Yl=cl>>>1;nl<Yl;){var ol=2*(nl+1)-1,k=b[ol],Ml=ol+1,rt=b[Ml];if(0>A(k,B))Ml<cl&&0>A(rt,k)?(b[nl]=rt,b[Ml]=B,nl=Ml):(b[nl]=k,b[ol]=B,nl=ol);else if(Ml<cl&&0>A(rt,B))b[nl]=rt,b[Ml]=B,nl=Ml;else break l}}return M}function A(b,M){var B=b.sortIndex-M.sortIndex;return B!==0?B:b.id-M.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var D=performance;h.unstable_now=function(){return D.now()}}else{var U=Date,C=U.now();h.unstable_now=function(){return U.now()-C}}var K=[],J=[],F=1,H=null,O=3,V=!1,sl=!1,yl=!1,hl=!1,ll=typeof setTimeout=="function"?setTimeout:null,pl=typeof clearTimeout=="function"?clearTimeout:null,bl=typeof setImmediate<"u"?setImmediate:null;function Ql(b){for(var M=T(J);M!==null;){if(M.callback===null)s(J);else if(M.startTime<=b)s(J),M.sortIndex=M.expirationTime,E(K,M);else break;M=T(J)}}function _l(b){if(yl=!1,Ql(b),!sl)if(T(K)!==null)sl=!0,Nl||(Nl=!0,Gl());else{var M=T(J);M!==null&&Et(_l,M.startTime-b)}}var Nl=!1,Rl=-1,gl=5,Zt=-1;function Vt(){return hl?!0:!(h.unstable_now()-Zt<gl)}function et(){if(hl=!1,Nl){var b=h.unstable_now();Zt=b;var M=!0;try{l:{sl=!1,yl&&(yl=!1,pl(Rl),Rl=-1),V=!0;var B=O;try{t:{for(Ql(b),H=T(K);H!==null&&!(H.expirationTime>b&&Vt());){var nl=H.callback;if(typeof nl=="function"){H.callback=null,O=H.priorityLevel;var cl=nl(H.expirationTime<=b);if(b=h.unstable_now(),typeof cl=="function"){H.callback=cl,Ql(b),M=!0;break t}H===T(K)&&s(K),Ql(b)}else s(K);H=T(K)}if(H!==null)M=!0;else{var Yl=T(J);Yl!==null&&Et(_l,Yl.startTime-b),M=!1}}break l}finally{H=null,O=B,V=!1}M=void 0}}finally{M?Gl():Nl=!1}}}var Gl;if(typeof bl=="function")Gl=function(){bl(et)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Tu=Se.port2;Se.port1.onmessage=et,Gl=function(){Tu.postMessage(null)}}else Gl=function(){ll(et,0)};function Et(b,M){Rl=ll(function(){b(h.unstable_now())},M)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(b){b.callback=null},h.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):gl=0<b?Math.floor(1e3/b):5},h.unstable_getCurrentPriorityLevel=function(){return O},h.unstable_next=function(b){switch(O){case 1:case 2:case 3:var M=3;break;default:M=O}var B=O;O=M;try{return b()}finally{O=B}},h.unstable_requestPaint=function(){hl=!0},h.unstable_runWithPriority=function(b,M){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var B=O;O=b;try{return M()}finally{O=B}},h.unstable_scheduleCallback=function(b,M,B){var nl=h.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?nl+B:nl):B=nl,b){case 1:var cl=-1;break;case 2:cl=250;break;case 5:cl=1073741823;break;case 4:cl=1e4;break;default:cl=5e3}return cl=B+cl,b={id:F++,callback:M,priorityLevel:b,startTime:B,expirationTime:cl,sortIndex:-1},B>nl?(b.sortIndex=B,E(J,b),T(K)===null&&b===T(J)&&(yl?(pl(Rl),Rl=-1):yl=!0,Et(_l,B-nl))):(b.sortIndex=cl,E(K,b),sl||V||(sl=!0,Nl||(Nl=!0,Gl()))),b},h.unstable_shouldYield=Vt,h.unstable_wrapCallback=function(b){var M=O;return function(){var B=O;O=M;try{return b.apply(this,arguments)}finally{O=B}}}})(df)),df}var go;function nv(){return go||(go=1,sf.exports=ev()),sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So;function cv(){if(So)return ye;So=1;var h=nv(),E=Do(),T=Im();function s(l){var t="https://react.dev/errors/"+l;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+l+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function D(l){var t=l,a=l;if(l.alternate)for(;t.return;)t=t.return;else{l=t;do t=l,(t.flags&4098)!==0&&(a=t.return),l=t.return;while(l)}return t.tag===3?a:null}function U(l){if(l.tag===13){var t=l.memoizedState;if(t===null&&(l=l.alternate,l!==null&&(t=l.memoizedState)),t!==null)return t.dehydrated}return null}function C(l){if(l.tag===31){var t=l.memoizedState;if(t===null&&(l=l.alternate,l!==null&&(t=l.memoizedState)),t!==null)return t.dehydrated}return null}function K(l){if(D(l)!==l)throw Error(s(188))}function J(l){var t=l.alternate;if(!t){if(t=D(l),t===null)throw Error(s(188));return t!==l?null:l}for(var a=l,u=t;;){var e=a.return;if(e===null)break;var n=e.alternate;if(n===null){if(u=e.return,u!==null){a=u;continue}break}if(e.child===n.child){for(n=e.child;n;){if(n===a)return K(e),l;if(n===u)return K(e),t;n=n.sibling}throw Error(s(188))}if(a.return!==u.return)a=e,u=n;else{for(var c=!1,i=e.child;i;){if(i===a){c=!0,a=e,u=n;break}if(i===u){c=!0,u=e,a=n;break}i=i.sibling}if(!c){for(i=n.child;i;){if(i===a){c=!0,a=n,u=e;break}if(i===u){c=!0,u=n,a=e;break}i=i.sibling}if(!c)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?l:t}function F(l){var t=l.tag;if(t===5||t===26||t===27||t===6)return l;for(l=l.child;l!==null;){if(t=F(l),t!==null)return t;l=l.sibling}return null}var H=Object.assign,O=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),sl=Symbol.for("react.portal"),yl=Symbol.for("react.fragment"),hl=Symbol.for("react.strict_mode"),ll=Symbol.for("react.profiler"),pl=Symbol.for("react.consumer"),bl=Symbol.for("react.context"),Ql=Symbol.for("react.forward_ref"),_l=Symbol.for("react.suspense"),Nl=Symbol.for("react.suspense_list"),Rl=Symbol.for("react.memo"),gl=Symbol.for("react.lazy"),Zt=Symbol.for("react.activity"),Vt=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function Gl(l){return l===null||typeof l!="object"?null:(l=et&&l[et]||l["@@iterator"],typeof l=="function"?l:null)}var Se=Symbol.for("react.client.reference");function Tu(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Se?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case yl:return"Fragment";case ll:return"Profiler";case hl:return"StrictMode";case _l:return"Suspense";case Nl:return"SuspenseList";case Zt:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case sl:return"Portal";case bl:return l.displayName||"Context";case pl:return(l._context.displayName||"Context")+".Consumer";case Ql:var t=l.render;return l=l.displayName,l||(l=t.displayName||t.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Rl:return t=l.displayName||null,t!==null?t:Tu(l.type)||"Memo";case gl:t=l._payload,l=l._init;try{return Tu(l(t))}catch{}}return null}var Et=Array.isArray,b=E.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=T.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},nl=[],cl=-1;function Yl(l){return{current:l}}function ol(l){0>cl||(l.current=nl[cl],nl[cl]=null,cl--)}function k(l,t){cl++,nl[cl]=l.current,l.current=t}var Ml=Yl(null),rt=Yl(null),Lt=Yl(null),re=Yl(null);function be(l,t){switch(k(Lt,t),k(rt,l),k(Ml,null),t.nodeType){case 9:case 11:l=(l=t.documentElement)&&(l=l.namespaceURI)?C0(l):0;break;default:if(l=t.tagName,t=t.namespaceURI)t=C0(t),l=R0(t,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ol(Ml),k(Ml,l)}function Ca(){ol(Ml),ol(rt),ol(Lt)}function Xn(l){l.memoizedState!==null&&k(re,l);var t=Ml.current,a=R0(t,l.type);t!==a&&(k(rt,l),k(Ml,a))}function ze(l){rt.current===l&&(ol(Ml),ol(rt)),re.current===l&&(ol(re),de._currentValue=B)}var Zn,of;function ga(l){if(Zn===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Zn=t&&t[1]||"",of=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zn+l+of}var Vn=!1;function Ln(l,t){if(!l||Vn)return"";Vn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(g){var y=g}Reflect.construct(l,[],z)}else{try{z.call()}catch(g){y=g}l.call(z.prototype)}}else{try{throw Error()}catch(g){y=g}(z=l())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(g){if(g&&y&&typeof g.stack=="string")return[g.stack,y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var e=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");e&&e.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var n=u.DetermineComponentFrameRoot(),c=n[0],i=n[1];if(c&&i){var f=c.split(`
`),v=i.split(`
`);for(e=u=0;u<f.length&&!f[u].includes("DetermineComponentFrameRoot");)u++;for(;e<v.length&&!v[e].includes("DetermineComponentFrameRoot");)e++;if(u===f.length||e===v.length)for(u=f.length-1,e=v.length-1;1<=u&&0<=e&&f[u]!==v[e];)e--;for(;1<=u&&0<=e;u--,e--)if(f[u]!==v[e]){if(u!==1||e!==1)do if(u--,e--,0>e||f[u]!==v[e]){var S=`
`+f[u].replace(" at new "," at ");return l.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",l.displayName)),S}while(1<=u&&0<=e);break}}}finally{Vn=!1,Error.prepareStackTrace=a}return(a=l?l.displayName||l.name:"")?ga(a):""}function _o(l,t){switch(l.tag){case 26:case 27:case 5:return ga(l.type);case 16:return ga("Lazy");case 13:return l.child!==t&&t!==null?ga("Suspense Fallback"):ga("Suspense");case 19:return ga("SuspenseList");case 0:case 15:return Ln(l.type,!1);case 11:return Ln(l.type.render,!1);case 1:return Ln(l.type,!0);case 31:return ga("Activity");default:return""}}function hf(l){try{var t="",a=null;do t+=_o(l,a),a=l,l=l.return;while(l);return t}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Kn=Object.prototype.hasOwnProperty,Jn=h.unstable_scheduleCallback,wn=h.unstable_cancelCallback,No=h.unstable_shouldYield,Ho=h.unstable_requestPaint,Wl=h.unstable_now,jo=h.unstable_getCurrentPriorityLevel,mf=h.unstable_ImmediatePriority,vf=h.unstable_UserBlockingPriority,Te=h.unstable_NormalPriority,qo=h.unstable_LowPriority,yf=h.unstable_IdlePriority,Bo=h.log,Co=h.unstable_setDisableYieldValue,Au=null,$l=null;function Kt(l){if(typeof Bo=="function"&&Co(l),$l&&typeof $l.setStrictMode=="function")try{$l.setStrictMode(Au,l)}catch{}}var Fl=Math.clz32?Math.clz32:xo,Ro=Math.log,Yo=Math.LN2;function xo(l){return l>>>=0,l===0?32:31-(Ro(l)/Yo|0)|0}var Ae=256,Ee=262144,De=4194304;function Sa(l){var t=l&42;if(t!==0)return t;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Me(l,t,a){var u=l.pendingLanes;if(u===0)return 0;var e=0,n=l.suspendedLanes,c=l.pingedLanes;l=l.warmLanes;var i=u&134217727;return i!==0?(u=i&~n,u!==0?e=Sa(u):(c&=i,c!==0?e=Sa(c):a||(a=i&~l,a!==0&&(e=Sa(a))))):(i=u&~n,i!==0?e=Sa(i):c!==0?e=Sa(c):a||(a=u&~l,a!==0&&(e=Sa(a)))),e===0?0:t!==0&&t!==e&&(t&n)===0&&(n=e&-e,a=t&-t,n>=a||n===32&&(a&4194048)!==0)?t:e}function Eu(l,t){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&t)===0}function Qo(l,t){switch(l){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gf(){var l=De;return De<<=1,(De&62914560)===0&&(De=4194304),l}function Wn(l){for(var t=[],a=0;31>a;a++)t.push(l);return t}function Du(l,t){l.pendingLanes|=t,t!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Go(l,t,a,u,e,n){var c=l.pendingLanes;l.pendingLanes=a,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=a,l.entangledLanes&=a,l.errorRecoveryDisabledLanes&=a,l.shellSuspendCounter=0;var i=l.entanglements,f=l.expirationTimes,v=l.hiddenUpdates;for(a=c&~a;0<a;){var S=31-Fl(a),z=1<<S;i[S]=0,f[S]=-1;var y=v[S];if(y!==null)for(v[S]=null,S=0;S<y.length;S++){var g=y[S];g!==null&&(g.lane&=-536870913)}a&=~z}u!==0&&Sf(l,u,0),n!==0&&e===0&&l.tag!==0&&(l.suspendedLanes|=n&~(c&~t))}function Sf(l,t,a){l.pendingLanes|=t,l.suspendedLanes&=~t;var u=31-Fl(t);l.entangledLanes|=t,l.entanglements[u]=l.entanglements[u]|1073741824|a&261930}function rf(l,t){var a=l.entangledLanes|=t;for(l=l.entanglements;a;){var u=31-Fl(a),e=1<<u;e&t|l[u]&t&&(l[u]|=t),a&=~e}}function bf(l,t){var a=t&-t;return a=(a&42)!==0?1:$n(a),(a&(l.suspendedLanes|t))!==0?0:a}function $n(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Fn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function zf(){var l=M.p;return l!==0?l:(l=window.event,l===void 0?32:no(l.type))}function Tf(l,t){var a=M.p;try{return M.p=l,t()}finally{M.p=a}}var Jt=Math.random().toString(36).slice(2),Hl="__reactFiber$"+Jt,Xl="__reactProps$"+Jt,Ra="__reactContainer$"+Jt,kn="__reactEvents$"+Jt,Xo="__reactListeners$"+Jt,Zo="__reactHandles$"+Jt,Af="__reactResources$"+Jt,Mu="__reactMarker$"+Jt;function In(l){delete l[Hl],delete l[Xl],delete l[kn],delete l[Xo],delete l[Zo]}function Ya(l){var t=l[Hl];if(t)return t;for(var a=l.parentNode;a;){if(t=a[Ra]||a[Hl]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(l=V0(l);l!==null;){if(a=l[Hl])return a;l=V0(l)}return t}l=a,a=l.parentNode}return null}function xa(l){if(l=l[Hl]||l[Ra]){var t=l.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return l}return null}function Ou(l){var t=l.tag;if(t===5||t===26||t===27||t===6)return l.stateNode;throw Error(s(33))}function Qa(l){var t=l[Af];return t||(t=l[Af]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ol(l){l[Mu]=!0}var Ef=new Set,Df={};function ra(l,t){Ga(l,t),Ga(l+"Capture",t)}function Ga(l,t){for(Df[l]=t,l=0;l<t.length;l++)Ef.add(t[l])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mf={},Of={};function Lo(l){return Kn.call(Of,l)?!0:Kn.call(Mf,l)?!1:Vo.test(l)?Of[l]=!0:(Mf[l]=!0,!1)}function Oe(l,t,a){if(Lo(t))if(a===null)l.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":l.removeAttribute(t);return;case"boolean":var u=t.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){l.removeAttribute(t);return}}l.setAttribute(t,""+a)}}function Ue(l,t,a){if(a===null)l.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(t);return}l.setAttribute(t,""+a)}}function Dt(l,t,a,u){if(u===null)l.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(a);return}l.setAttributeNS(t,a,""+u)}}function nt(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Uf(l){var t=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ko(l,t,a){var u=Object.getOwnPropertyDescriptor(l.constructor.prototype,t);if(!l.hasOwnProperty(t)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var e=u.get,n=u.set;return Object.defineProperty(l,t,{configurable:!0,get:function(){return e.call(this)},set:function(c){a=""+c,n.call(this,c)}}),Object.defineProperty(l,t,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){l._valueTracker=null,delete l[t]}}}}function Pn(l){if(!l._valueTracker){var t=Uf(l)?"checked":"value";l._valueTracker=Ko(l,t,""+l[t])}}function pf(l){if(!l)return!1;var t=l._valueTracker;if(!t)return!0;var a=t.getValue(),u="";return l&&(u=Uf(l)?l.checked?"true":"false":l.value),l=u,l!==a?(t.setValue(l),!0):!1}function pe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Jo=/[\n"\\]/g;function ct(l){return l.replace(Jo,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function lc(l,t,a,u,e,n,c,i){l.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?l.type=c:l.removeAttribute("type"),t!=null?c==="number"?(t===0&&l.value===""||l.value!=t)&&(l.value=""+nt(t)):l.value!==""+nt(t)&&(l.value=""+nt(t)):c!=="submit"&&c!=="reset"||l.removeAttribute("value"),t!=null?tc(l,c,nt(t)):a!=null?tc(l,c,nt(a)):u!=null&&l.removeAttribute("value"),e==null&&n!=null&&(l.defaultChecked=!!n),e!=null&&(l.checked=e&&typeof e!="function"&&typeof e!="symbol"),i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?l.name=""+nt(i):l.removeAttribute("name")}function _f(l,t,a,u,e,n,c,i){if(n!=null&&typeof n!="function"&&typeof n!="symbol"&&typeof n!="boolean"&&(l.type=n),t!=null||a!=null){if(!(n!=="submit"&&n!=="reset"||t!=null)){Pn(l);return}a=a!=null?""+nt(a):"",t=t!=null?""+nt(t):a,i||t===l.value||(l.value=t),l.defaultValue=t}u=u??e,u=typeof u!="function"&&typeof u!="symbol"&&!!u,l.checked=i?l.checked:!!u,l.defaultChecked=!!u,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(l.name=c),Pn(l)}function tc(l,t,a){t==="number"&&pe(l.ownerDocument)===l||l.defaultValue===""+a||(l.defaultValue=""+a)}function Xa(l,t,a,u){if(l=l.options,t){t={};for(var e=0;e<a.length;e++)t["$"+a[e]]=!0;for(a=0;a<l.length;a++)e=t.hasOwnProperty("$"+l[a].value),l[a].selected!==e&&(l[a].selected=e),e&&u&&(l[a].defaultSelected=!0)}else{for(a=""+nt(a),t=null,e=0;e<l.length;e++){if(l[e].value===a){l[e].selected=!0,u&&(l[e].defaultSelected=!0);return}t!==null||l[e].disabled||(t=l[e])}t!==null&&(t.selected=!0)}}function Nf(l,t,a){if(t!=null&&(t=""+nt(t),t!==l.value&&(l.value=t),a==null)){l.defaultValue!==t&&(l.defaultValue=t);return}l.defaultValue=a!=null?""+nt(a):""}function Hf(l,t,a,u){if(t==null){if(u!=null){if(a!=null)throw Error(s(92));if(Et(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),t=a}a=nt(t),l.defaultValue=a,u=l.textContent,u===a&&u!==""&&u!==null&&(l.value=u),Pn(l)}function Za(l,t){if(t){var a=l.firstChild;if(a&&a===l.lastChild&&a.nodeType===3){a.nodeValue=t;return}}l.textContent=t}var wo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jf(l,t,a){var u=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?l.setProperty(t,""):t==="float"?l.cssFloat="":l[t]="":u?l.setProperty(t,a):typeof a!="number"||a===0||wo.has(t)?t==="float"?l.cssFloat=a:l[t]=(""+a).trim():l[t]=a+"px"}function qf(l,t,a){if(t!=null&&typeof t!="object")throw Error(s(62));if(l=l.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||t!=null&&t.hasOwnProperty(u)||(u.indexOf("--")===0?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="");for(var e in t)u=t[e],t.hasOwnProperty(e)&&a[e]!==u&&jf(l,e,u)}else for(var n in t)t.hasOwnProperty(n)&&jf(l,n,t[n])}function ac(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$o=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _e(l){return $o.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Mt(){}var uc=null;function ec(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Va=null,La=null;function Bf(l){var t=xa(l);if(t&&(l=t.stateNode)){var a=l[Xl]||null;l:switch(l=t.stateNode,t.type){case"input":if(lc(l,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=l;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ct(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var u=a[t];if(u!==l&&u.form===l.form){var e=u[Xl]||null;if(!e)throw Error(s(90));lc(u,e.value,e.defaultValue,e.defaultValue,e.checked,e.defaultChecked,e.type,e.name)}}for(t=0;t<a.length;t++)u=a[t],u.form===l.form&&pf(u)}break l;case"textarea":Nf(l,a.value,a.defaultValue);break l;case"select":t=a.value,t!=null&&Xa(l,!!a.multiple,t,!1)}}}var nc=!1;function Cf(l,t,a){if(nc)return l(t,a);nc=!0;try{var u=l(t);return u}finally{if(nc=!1,(Va!==null||La!==null)&&(Sn(),Va&&(t=Va,l=La,La=Va=null,Bf(t),l)))for(t=0;t<l.length;t++)Bf(l[t])}}function Uu(l,t){var a=l.stateNode;if(a===null)return null;var u=a[Xl]||null;if(u===null)return null;a=u[t];l:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(l=l.type,u=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!u;break l;default:l=!1}if(l)return null;if(a&&typeof a!="function")throw Error(s(231,t,typeof a));return a}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=!1;if(Ot)try{var pu={};Object.defineProperty(pu,"passive",{get:function(){cc=!0}}),window.addEventListener("test",pu,pu),window.removeEventListener("test",pu,pu)}catch{cc=!1}var wt=null,ic=null,Ne=null;function Rf(){if(Ne)return Ne;var l,t=ic,a=t.length,u,e="value"in wt?wt.value:wt.textContent,n=e.length;for(l=0;l<a&&t[l]===e[l];l++);var c=a-l;for(u=1;u<=c&&t[a-u]===e[n-u];u++);return Ne=e.slice(l,1<u?1-u:void 0)}function He(l){var t=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&t===13&&(l=13)):l=t,l===10&&(l=13),32<=l||l===13?l:0}function je(){return!0}function Yf(){return!1}function Zl(l){function t(a,u,e,n,c){this._reactName=a,this._targetInst=e,this.type=u,this.nativeEvent=n,this.target=c,this.currentTarget=null;for(var i in l)l.hasOwnProperty(i)&&(a=l[i],this[i]=a?a(n):n[i]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?je:Yf,this.isPropagationStopped=Yf,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=je)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=je)},persist:function(){},isPersistent:je}),t}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qe=Zl(ba),_u=H({},ba,{view:0,detail:0}),Fo=Zl(_u),fc,sc,Nu,Be=H({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Nu&&(Nu&&l.type==="mousemove"?(fc=l.screenX-Nu.screenX,sc=l.screenY-Nu.screenY):sc=fc=0,Nu=l),fc)},movementY:function(l){return"movementY"in l?l.movementY:sc}}),xf=Zl(Be),ko=H({},Be,{dataTransfer:0}),Io=Zl(ko),Po=H({},_u,{relatedTarget:0}),dc=Zl(Po),lh=H({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),th=Zl(lh),ah=H({},ba,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),uh=Zl(ah),eh=H({},ba,{data:0}),Qf=Zl(eh),nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(l){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(l):(l=ih[l])?!!t[l]:!1}function oc(){return fh}var sh=H({},_u,{key:function(l){if(l.key){var t=nh[l.key]||l.key;if(t!=="Unidentified")return t}return l.type==="keypress"?(l=He(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ch[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(l){return l.type==="keypress"?He(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?He(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),dh=Zl(sh),oh=H({},Be,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=Zl(oh),hh=H({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),mh=Zl(hh),vh=H({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),yh=Zl(vh),gh=H({},Be,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Sh=Zl(gh),rh=H({},ba,{newState:0,oldState:0}),bh=Zl(rh),zh=[9,13,27,32],hc=Ot&&"CompositionEvent"in window,Hu=null;Ot&&"documentMode"in document&&(Hu=document.documentMode);var Th=Ot&&"TextEvent"in window&&!Hu,Xf=Ot&&(!hc||Hu&&8<Hu&&11>=Hu),Zf=" ",Vf=!1;function Lf(l,t){switch(l){case"keyup":return zh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ka=!1;function Ah(l,t){switch(l){case"compositionend":return Kf(t);case"keypress":return t.which!==32?null:(Vf=!0,Zf);case"textInput":return l=t.data,l===Zf&&Vf?null:l;default:return null}}function Eh(l,t){if(Ka)return l==="compositionend"||!hc&&Lf(l,t)?(l=Rf(),Ne=ic=wt=null,Ka=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xf&&t.locale!=="ko"?null:t.data;default:return null}}var Dh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(l){var t=l&&l.nodeName&&l.nodeName.toLowerCase();return t==="input"?!!Dh[l.type]:t==="textarea"}function wf(l,t,a,u){Va?La?La.push(u):La=[u]:Va=u,t=Dn(t,"onChange"),0<t.length&&(a=new qe("onChange","change",null,a,u),l.push({event:a,listeners:t}))}var ju=null,qu=null;function Mh(l){_0(l,0)}function Ce(l){var t=Ou(l);if(pf(t))return l}function Wf(l,t){if(l==="change")return t}var $f=!1;if(Ot){var mc;if(Ot){var vc="oninput"in document;if(!vc){var Ff=document.createElement("div");Ff.setAttribute("oninput","return;"),vc=typeof Ff.oninput=="function"}mc=vc}else mc=!1;$f=mc&&(!document.documentMode||9<document.documentMode)}function kf(){ju&&(ju.detachEvent("onpropertychange",If),qu=ju=null)}function If(l){if(l.propertyName==="value"&&Ce(qu)){var t=[];wf(t,qu,l,ec(l)),Cf(Mh,t)}}function Oh(l,t,a){l==="focusin"?(kf(),ju=t,qu=a,ju.attachEvent("onpropertychange",If)):l==="focusout"&&kf()}function Uh(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ce(qu)}function ph(l,t){if(l==="click")return Ce(t)}function _h(l,t){if(l==="input"||l==="change")return Ce(t)}function Nh(l,t){return l===t&&(l!==0||1/l===1/t)||l!==l&&t!==t}var kl=typeof Object.is=="function"?Object.is:Nh;function Bu(l,t){if(kl(l,t))return!0;if(typeof l!="object"||l===null||typeof t!="object"||t===null)return!1;var a=Object.keys(l),u=Object.keys(t);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var e=a[u];if(!Kn.call(t,e)||!kl(l[e],t[e]))return!1}return!0}function Pf(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ls(l,t){var a=Pf(l);l=0;for(var u;a;){if(a.nodeType===3){if(u=l+a.textContent.length,l<=t&&u>=t)return{node:a,offset:t-l};l=u}l:{for(;a;){if(a.nextSibling){a=a.nextSibling;break l}a=a.parentNode}a=void 0}a=Pf(a)}}function ts(l,t){return l&&t?l===t?!0:l&&l.nodeType===3?!1:t&&t.nodeType===3?ts(l,t.parentNode):"contains"in l?l.contains(t):l.compareDocumentPosition?!!(l.compareDocumentPosition(t)&16):!1:!1}function as(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var t=pe(l.document);t instanceof l.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)l=t.contentWindow;else break;t=pe(l.document)}return t}function yc(l){var t=l&&l.nodeName&&l.nodeName.toLowerCase();return t&&(t==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||t==="textarea"||l.contentEditable==="true")}var Hh=Ot&&"documentMode"in document&&11>=document.documentMode,Ja=null,gc=null,Cu=null,Sc=!1;function us(l,t,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sc||Ja==null||Ja!==pe(u)||(u=Ja,"selectionStart"in u&&yc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Cu&&Bu(Cu,u)||(Cu=u,u=Dn(gc,"onSelect"),0<u.length&&(t=new qe("onSelect","select",null,t,a),l.push({event:t,listeners:u}),t.target=Ja)))}function za(l,t){var a={};return a[l.toLowerCase()]=t.toLowerCase(),a["Webkit"+l]="webkit"+t,a["Moz"+l]="moz"+t,a}var wa={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},rc={},es={};Ot&&(es=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Ta(l){if(rc[l])return rc[l];if(!wa[l])return l;var t=wa[l],a;for(a in t)if(t.hasOwnProperty(a)&&a in es)return rc[l]=t[a];return l}var ns=Ta("animationend"),cs=Ta("animationiteration"),is=Ta("animationstart"),jh=Ta("transitionrun"),qh=Ta("transitionstart"),Bh=Ta("transitioncancel"),fs=Ta("transitionend"),ss=new Map,bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bc.push("scrollEnd");function yt(l,t){ss.set(l,t),ra(t,[l])}var Re=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},it=[],Wa=0,zc=0;function Ye(){for(var l=Wa,t=zc=Wa=0;t<l;){var a=it[t];it[t++]=null;var u=it[t];it[t++]=null;var e=it[t];it[t++]=null;var n=it[t];if(it[t++]=null,u!==null&&e!==null){var c=u.pending;c===null?e.next=e:(e.next=c.next,c.next=e),u.pending=e}n!==0&&ds(a,e,n)}}function xe(l,t,a,u){it[Wa++]=l,it[Wa++]=t,it[Wa++]=a,it[Wa++]=u,zc|=u,l.lanes|=u,l=l.alternate,l!==null&&(l.lanes|=u)}function Tc(l,t,a,u){return xe(l,t,a,u),Qe(l)}function Aa(l,t){return xe(l,null,null,t),Qe(l)}function ds(l,t,a){l.lanes|=a;var u=l.alternate;u!==null&&(u.lanes|=a);for(var e=!1,n=l.return;n!==null;)n.childLanes|=a,u=n.alternate,u!==null&&(u.childLanes|=a),n.tag===22&&(l=n.stateNode,l===null||l._visibility&1||(e=!0)),l=n,n=n.return;return l.tag===3?(n=l.stateNode,e&&t!==null&&(e=31-Fl(a),l=n.hiddenUpdates,u=l[e],u===null?l[e]=[t]:u.push(t),t.lane=a|536870912),n):null}function Qe(l){if(50<ue)throw ue=0,Ni=null,Error(s(185));for(var t=l.return;t!==null;)l=t,t=l.return;return l.tag===3?l.stateNode:null}var $a={};function Ch(l,t,a,u){this.tag=l,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Il(l,t,a,u){return new Ch(l,t,a,u)}function Ac(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ut(l,t){var a=l.alternate;return a===null?(a=Il(l.tag,t,l.key,l.mode),a.elementType=l.elementType,a.type=l.type,a.stateNode=l.stateNode,a.alternate=l,l.alternate=a):(a.pendingProps=t,a.type=l.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=l.flags&65011712,a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=l.sibling,a.index=l.index,a.ref=l.ref,a.refCleanup=l.refCleanup,a}function os(l,t){l.flags&=65011714;var a=l.alternate;return a===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,t=a.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l}function Ge(l,t,a,u,e,n){var c=0;if(u=l,typeof l=="function")Ac(l)&&(c=1);else if(typeof l=="string")c=Gm(l,a,Ml.current)?26:l==="html"||l==="head"||l==="body"?27:5;else l:switch(l){case Zt:return l=Il(31,a,t,e),l.elementType=Zt,l.lanes=n,l;case yl:return Ea(a.children,e,n,t);case hl:c=8,e|=24;break;case ll:return l=Il(12,a,t,e|2),l.elementType=ll,l.lanes=n,l;case _l:return l=Il(13,a,t,e),l.elementType=_l,l.lanes=n,l;case Nl:return l=Il(19,a,t,e),l.elementType=Nl,l.lanes=n,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case bl:c=10;break l;case pl:c=9;break l;case Ql:c=11;break l;case Rl:c=14;break l;case gl:c=16,u=null;break l}c=29,a=Error(s(130,l===null?"null":typeof l,"")),u=null}return t=Il(c,a,t,e),t.elementType=l,t.type=u,t.lanes=n,t}function Ea(l,t,a,u){return l=Il(7,l,u,t),l.lanes=a,l}function Ec(l,t,a){return l=Il(6,l,null,t),l.lanes=a,l}function hs(l){var t=Il(18,null,null,0);return t.stateNode=l,t}function Dc(l,t,a){return t=Il(4,l.children!==null?l.children:[],l.key,t),t.lanes=a,t.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},t}var ms=new WeakMap;function ft(l,t){if(typeof l=="object"&&l!==null){var a=ms.get(l);return a!==void 0?a:(t={value:l,source:t,stack:hf(t)},ms.set(l,t),t)}return{value:l,source:t,stack:hf(t)}}var Fa=[],ka=0,Xe=null,Ru=0,st=[],dt=0,Wt=null,bt=1,zt="";function pt(l,t){Fa[ka++]=Ru,Fa[ka++]=Xe,Xe=l,Ru=t}function vs(l,t,a){st[dt++]=bt,st[dt++]=zt,st[dt++]=Wt,Wt=l;var u=bt;l=zt;var e=32-Fl(u)-1;u&=~(1<<e),a+=1;var n=32-Fl(t)+e;if(30<n){var c=e-e%5;n=(u&(1<<c)-1).toString(32),u>>=c,e-=c,bt=1<<32-Fl(t)+e|a<<e|u,zt=n+l}else bt=1<<n|a<<e|u,zt=l}function Mc(l){l.return!==null&&(pt(l,1),vs(l,1,0))}function Oc(l){for(;l===Xe;)Xe=Fa[--ka],Fa[ka]=null,Ru=Fa[--ka],Fa[ka]=null;for(;l===Wt;)Wt=st[--dt],st[dt]=null,zt=st[--dt],st[dt]=null,bt=st[--dt],st[dt]=null}function ys(l,t){st[dt++]=bt,st[dt++]=zt,st[dt++]=Wt,bt=t.id,zt=t.overflow,Wt=l}var jl=null,il=null,L=!1,$t=null,ot=!1,Uc=Error(s(519));function Ft(l){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yu(ft(t,l)),Uc}function gs(l){var t=l.stateNode,a=l.type,u=l.memoizedProps;switch(t[Hl]=l,t[Xl]=u,a){case"dialog":G("cancel",t),G("close",t);break;case"iframe":case"object":case"embed":G("load",t);break;case"video":case"audio":for(a=0;a<ne.length;a++)G(ne[a],t);break;case"source":G("error",t);break;case"img":case"image":case"link":G("error",t),G("load",t);break;case"details":G("toggle",t);break;case"input":G("invalid",t),_f(t,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":G("invalid",t);break;case"textarea":G("invalid",t),Hf(t,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||u.suppressHydrationWarning===!0||q0(t.textContent,a)?(u.popover!=null&&(G("beforetoggle",t),G("toggle",t)),u.onScroll!=null&&G("scroll",t),u.onScrollEnd!=null&&G("scrollend",t),u.onClick!=null&&(t.onclick=Mt),t=!0):t=!1,t||Ft(l,!0)}function Ss(l){for(jl=l.return;jl;)switch(jl.tag){case 5:case 31:case 13:ot=!1;return;case 27:case 3:ot=!0;return;default:jl=jl.return}}function Ia(l){if(l!==jl)return!1;if(!L)return Ss(l),L=!0,!1;var t=l.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=l.type,a=!(a!=="form"&&a!=="button")||Ki(l.type,l.memoizedProps)),a=!a),a&&il&&Ft(l),Ss(l),t===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));il=Z0(l)}else if(t===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));il=Z0(l)}else t===27?(t=il,da(l.type)?(l=Fi,Fi=null,il=l):il=t):il=jl?mt(l.stateNode.nextSibling):null;return!0}function Da(){il=jl=null,L=!1}function pc(){var l=$t;return l!==null&&(Jl===null?Jl=l:Jl.push.apply(Jl,l),$t=null),l}function Yu(l){$t===null?$t=[l]:$t.push(l)}var _c=Yl(null),Ma=null,_t=null;function kt(l,t,a){k(_c,t._currentValue),t._currentValue=a}function Nt(l){l._currentValue=_c.current,ol(_c)}function Nc(l,t,a){for(;l!==null;){var u=l.alternate;if((l.childLanes&t)!==t?(l.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),l===a)break;l=l.return}}function Hc(l,t,a,u){var e=l.child;for(e!==null&&(e.return=l);e!==null;){var n=e.dependencies;if(n!==null){var c=e.child;n=n.firstContext;l:for(;n!==null;){var i=n;n=e;for(var f=0;f<t.length;f++)if(i.context===t[f]){n.lanes|=a,i=n.alternate,i!==null&&(i.lanes|=a),Nc(n.return,a,l),u||(c=null);break l}n=i.next}}else if(e.tag===18){if(c=e.return,c===null)throw Error(s(341));c.lanes|=a,n=c.alternate,n!==null&&(n.lanes|=a),Nc(c,a,l),c=null}else c=e.child;if(c!==null)c.return=e;else for(c=e;c!==null;){if(c===l){c=null;break}if(e=c.sibling,e!==null){e.return=c.return,c=e;break}c=c.return}e=c}}function Pa(l,t,a,u){l=null;for(var e=t,n=!1;e!==null;){if(!n){if((e.flags&524288)!==0)n=!0;else if((e.flags&262144)!==0)break}if(e.tag===10){var c=e.alternate;if(c===null)throw Error(s(387));if(c=c.memoizedProps,c!==null){var i=e.type;kl(e.pendingProps.value,c.value)||(l!==null?l.push(i):l=[i])}}else if(e===re.current){if(c=e.alternate,c===null)throw Error(s(387));c.memoizedState.memoizedState!==e.memoizedState.memoizedState&&(l!==null?l.push(de):l=[de])}e=e.return}l!==null&&Hc(t,l,a,u),t.flags|=262144}function Ze(l){for(l=l.firstContext;l!==null;){if(!kl(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Oa(l){Ma=l,_t=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ql(l){return rs(Ma,l)}function Ve(l,t){return Ma===null&&Oa(l),rs(l,t)}function rs(l,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},_t===null){if(l===null)throw Error(s(308));_t=t,l.dependencies={lanes:0,firstContext:t},l.flags|=524288}else _t=_t.next=t;return a}var Rh=typeof AbortController<"u"?AbortController:function(){var l=[],t=this.signal={aborted:!1,addEventListener:function(a,u){l.push(u)}};this.abort=function(){t.aborted=!0,l.forEach(function(a){return a()})}},Yh=h.unstable_scheduleCallback,xh=h.unstable_NormalPriority,zl={$$typeof:bl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new Rh,data:new Map,refCount:0}}function xu(l){l.refCount--,l.refCount===0&&Yh(xh,function(){l.controller.abort()})}var Qu=null,qc=0,lu=0,tu=null;function Qh(l,t){if(Qu===null){var a=Qu=[];qc=0,lu=Ri(),tu={status:"pending",value:void 0,then:function(u){a.push(u)}}}return qc++,t.then(bs,bs),t}function bs(){if(--qc===0&&Qu!==null){tu!==null&&(tu.status="fulfilled");var l=Qu;Qu=null,lu=0,tu=null;for(var t=0;t<l.length;t++)(0,l[t])()}}function Gh(l,t){var a=[],u={status:"pending",value:null,reason:null,then:function(e){a.push(e)}};return l.then(function(){u.status="fulfilled",u.value=t;for(var e=0;e<a.length;e++)(0,a[e])(t)},function(e){for(u.status="rejected",u.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),u}var zs=b.S;b.S=function(l,t){u0=Wl(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Qh(l,t),zs!==null&&zs(l,t)};var Ua=Yl(null);function Bc(){var l=Ua.current;return l!==null?l:el.pooledCache}function Le(l,t){t===null?k(Ua,Ua.current):k(Ua,t.pool)}function Ts(){var l=Bc();return l===null?null:{parent:zl._currentValue,pool:l}}var au=Error(s(460)),Cc=Error(s(474)),Ke=Error(s(542)),Je={then:function(){}};function As(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Es(l,t,a){switch(a=l[a],a===void 0?l.push(t):a!==t&&(t.then(Mt,Mt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw l=t.reason,Ms(l),l;default:if(typeof t.status=="string")t.then(Mt,Mt);else{if(l=el,l!==null&&100<l.shellSuspendCounter)throw Error(s(482));l=t,l.status="pending",l.then(function(u){if(t.status==="pending"){var e=t;e.status="fulfilled",e.value=u}},function(u){if(t.status==="pending"){var e=t;e.status="rejected",e.reason=u}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw l=t.reason,Ms(l),l}throw _a=t,au}}function pa(l){try{var t=l._init;return t(l._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(_a=a,au):a}}var _a=null;function Ds(){if(_a===null)throw Error(s(459));var l=_a;return _a=null,l}function Ms(l){if(l===au||l===Ke)throw Error(s(483))}var uu=null,Gu=0;function we(l){var t=Gu;return Gu+=1,uu===null&&(uu=[]),Es(uu,l,t)}function Xu(l,t){t=t.props.ref,l.ref=t!==void 0?t:null}function We(l,t){throw t.$$typeof===O?Error(s(525)):(l=Object.prototype.toString.call(t),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":l)))}function Os(l){function t(o,d){if(l){var m=o.deletions;m===null?(o.deletions=[d],o.flags|=16):m.push(d)}}function a(o,d){if(!l)return null;for(;d!==null;)t(o,d),d=d.sibling;return null}function u(o){for(var d=new Map;o!==null;)o.key!==null?d.set(o.key,o):d.set(o.index,o),o=o.sibling;return d}function e(o,d){return o=Ut(o,d),o.index=0,o.sibling=null,o}function n(o,d,m){return o.index=m,l?(m=o.alternate,m!==null?(m=m.index,m<d?(o.flags|=67108866,d):m):(o.flags|=67108866,d)):(o.flags|=1048576,d)}function c(o){return l&&o.alternate===null&&(o.flags|=67108866),o}function i(o,d,m,r){return d===null||d.tag!==6?(d=Ec(m,o.mode,r),d.return=o,d):(d=e(d,m),d.return=o,d)}function f(o,d,m,r){var j=m.type;return j===yl?S(o,d,m.props.children,r,m.key):d!==null&&(d.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===gl&&pa(j)===d.type)?(d=e(d,m.props),Xu(d,m),d.return=o,d):(d=Ge(m.type,m.key,m.props,null,o.mode,r),Xu(d,m),d.return=o,d)}function v(o,d,m,r){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=Dc(m,o.mode,r),d.return=o,d):(d=e(d,m.children||[]),d.return=o,d)}function S(o,d,m,r,j){return d===null||d.tag!==7?(d=Ea(m,o.mode,r,j),d.return=o,d):(d=e(d,m),d.return=o,d)}function z(o,d,m){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=Ec(""+d,o.mode,m),d.return=o,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case V:return m=Ge(d.type,d.key,d.props,null,o.mode,m),Xu(m,d),m.return=o,m;case sl:return d=Dc(d,o.mode,m),d.return=o,d;case gl:return d=pa(d),z(o,d,m)}if(Et(d)||Gl(d))return d=Ea(d,o.mode,m,null),d.return=o,d;if(typeof d.then=="function")return z(o,we(d),m);if(d.$$typeof===bl)return z(o,Ve(o,d),m);We(o,d)}return null}function y(o,d,m,r){var j=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return j!==null?null:i(o,d,""+m,r);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case V:return m.key===j?f(o,d,m,r):null;case sl:return m.key===j?v(o,d,m,r):null;case gl:return m=pa(m),y(o,d,m,r)}if(Et(m)||Gl(m))return j!==null?null:S(o,d,m,r,null);if(typeof m.then=="function")return y(o,d,we(m),r);if(m.$$typeof===bl)return y(o,d,Ve(o,m),r);We(o,m)}return null}function g(o,d,m,r,j){if(typeof r=="string"&&r!==""||typeof r=="number"||typeof r=="bigint")return o=o.get(m)||null,i(d,o,""+r,j);if(typeof r=="object"&&r!==null){switch(r.$$typeof){case V:return o=o.get(r.key===null?m:r.key)||null,f(d,o,r,j);case sl:return o=o.get(r.key===null?m:r.key)||null,v(d,o,r,j);case gl:return r=pa(r),g(o,d,m,r,j)}if(Et(r)||Gl(r))return o=o.get(m)||null,S(d,o,r,j,null);if(typeof r.then=="function")return g(o,d,m,we(r),j);if(r.$$typeof===bl)return g(o,d,m,Ve(d,r),j);We(d,r)}return null}function p(o,d,m,r){for(var j=null,w=null,N=d,Y=d=0,Z=null;N!==null&&Y<m.length;Y++){N.index>Y?(Z=N,N=null):Z=N.sibling;var W=y(o,N,m[Y],r);if(W===null){N===null&&(N=Z);break}l&&N&&W.alternate===null&&t(o,N),d=n(W,d,Y),w===null?j=W:w.sibling=W,w=W,N=Z}if(Y===m.length)return a(o,N),L&&pt(o,Y),j;if(N===null){for(;Y<m.length;Y++)N=z(o,m[Y],r),N!==null&&(d=n(N,d,Y),w===null?j=N:w.sibling=N,w=N);return L&&pt(o,Y),j}for(N=u(N);Y<m.length;Y++)Z=g(N,o,Y,m[Y],r),Z!==null&&(l&&Z.alternate!==null&&N.delete(Z.key===null?Y:Z.key),d=n(Z,d,Y),w===null?j=Z:w.sibling=Z,w=Z);return l&&N.forEach(function(ya){return t(o,ya)}),L&&pt(o,Y),j}function q(o,d,m,r){if(m==null)throw Error(s(151));for(var j=null,w=null,N=d,Y=d=0,Z=null,W=m.next();N!==null&&!W.done;Y++,W=m.next()){N.index>Y?(Z=N,N=null):Z=N.sibling;var ya=y(o,N,W.value,r);if(ya===null){N===null&&(N=Z);break}l&&N&&ya.alternate===null&&t(o,N),d=n(ya,d,Y),w===null?j=ya:w.sibling=ya,w=ya,N=Z}if(W.done)return a(o,N),L&&pt(o,Y),j;if(N===null){for(;!W.done;Y++,W=m.next())W=z(o,W.value,r),W!==null&&(d=n(W,d,Y),w===null?j=W:w.sibling=W,w=W);return L&&pt(o,Y),j}for(N=u(N);!W.done;Y++,W=m.next())W=g(N,o,Y,W.value,r),W!==null&&(l&&W.alternate!==null&&N.delete(W.key===null?Y:W.key),d=n(W,d,Y),w===null?j=W:w.sibling=W,w=W);return l&&N.forEach(function(km){return t(o,km)}),L&&pt(o,Y),j}function ul(o,d,m,r){if(typeof m=="object"&&m!==null&&m.type===yl&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case V:l:{for(var j=m.key;d!==null;){if(d.key===j){if(j=m.type,j===yl){if(d.tag===7){a(o,d.sibling),r=e(d,m.props.children),r.return=o,o=r;break l}}else if(d.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===gl&&pa(j)===d.type){a(o,d.sibling),r=e(d,m.props),Xu(r,m),r.return=o,o=r;break l}a(o,d);break}else t(o,d);d=d.sibling}m.type===yl?(r=Ea(m.props.children,o.mode,r,m.key),r.return=o,o=r):(r=Ge(m.type,m.key,m.props,null,o.mode,r),Xu(r,m),r.return=o,o=r)}return c(o);case sl:l:{for(j=m.key;d!==null;){if(d.key===j)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){a(o,d.sibling),r=e(d,m.children||[]),r.return=o,o=r;break l}else{a(o,d);break}else t(o,d);d=d.sibling}r=Dc(m,o.mode,r),r.return=o,o=r}return c(o);case gl:return m=pa(m),ul(o,d,m,r)}if(Et(m))return p(o,d,m,r);if(Gl(m)){if(j=Gl(m),typeof j!="function")throw Error(s(150));return m=j.call(m),q(o,d,m,r)}if(typeof m.then=="function")return ul(o,d,we(m),r);if(m.$$typeof===bl)return ul(o,d,Ve(o,m),r);We(o,m)}return typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint"?(m=""+m,d!==null&&d.tag===6?(a(o,d.sibling),r=e(d,m),r.return=o,o=r):(a(o,d),r=Ec(m,o.mode,r),r.return=o,o=r),c(o)):a(o,d)}return function(o,d,m,r){try{Gu=0;var j=ul(o,d,m,r);return uu=null,j}catch(N){if(N===au||N===Ke)throw N;var w=Il(29,N,null,o.mode);return w.lanes=r,w.return=o,w}finally{}}}var Na=Os(!0),Us=Os(!1),It=!1;function Rc(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yc(l,t){l=l.updateQueue,t.updateQueue===l&&(t.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Pt(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function la(l,t,a){var u=l.updateQueue;if(u===null)return null;if(u=u.shared,($&2)!==0){var e=u.pending;return e===null?t.next=t:(t.next=e.next,e.next=t),u.pending=t,t=Qe(l),ds(l,null,a),t}return xe(l,u,t,a),Qe(l)}function Zu(l,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var u=t.lanes;u&=l.pendingLanes,a|=u,t.lanes=a,rf(l,a)}}function xc(l,t){var a=l.updateQueue,u=l.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var e=null,n=null;if(a=a.firstBaseUpdate,a!==null){do{var c={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};n===null?e=n=c:n=n.next=c,a=a.next}while(a!==null);n===null?e=n=t:n=n.next=t}else e=n=t;a={baseState:u.baseState,firstBaseUpdate:e,lastBaseUpdate:n,shared:u.shared,callbacks:u.callbacks},l.updateQueue=a;return}l=a.lastBaseUpdate,l===null?a.firstBaseUpdate=t:l.next=t,a.lastBaseUpdate=t}var Qc=!1;function Vu(){if(Qc){var l=tu;if(l!==null)throw l}}function Lu(l,t,a,u){Qc=!1;var e=l.updateQueue;It=!1;var n=e.firstBaseUpdate,c=e.lastBaseUpdate,i=e.shared.pending;if(i!==null){e.shared.pending=null;var f=i,v=f.next;f.next=null,c===null?n=v:c.next=v,c=f;var S=l.alternate;S!==null&&(S=S.updateQueue,i=S.lastBaseUpdate,i!==c&&(i===null?S.firstBaseUpdate=v:i.next=v,S.lastBaseUpdate=f))}if(n!==null){var z=e.baseState;c=0,S=v=f=null,i=n;do{var y=i.lane&-536870913,g=y!==i.lane;if(g?(X&y)===y:(u&y)===y){y!==0&&y===lu&&(Qc=!0),S!==null&&(S=S.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});l:{var p=l,q=i;y=t;var ul=a;switch(q.tag){case 1:if(p=q.payload,typeof p=="function"){z=p.call(ul,z,y);break l}z=p;break l;case 3:p.flags=p.flags&-65537|128;case 0:if(p=q.payload,y=typeof p=="function"?p.call(ul,z,y):p,y==null)break l;z=H({},z,y);break l;case 2:It=!0}}y=i.callback,y!==null&&(l.flags|=64,g&&(l.flags|=8192),g=e.callbacks,g===null?e.callbacks=[y]:g.push(y))}else g={lane:y,tag:i.tag,payload:i.payload,callback:i.callback,next:null},S===null?(v=S=g,f=z):S=S.next=g,c|=y;if(i=i.next,i===null){if(i=e.shared.pending,i===null)break;g=i,i=g.next,g.next=null,e.lastBaseUpdate=g,e.shared.pending=null}}while(!0);S===null&&(f=z),e.baseState=f,e.firstBaseUpdate=v,e.lastBaseUpdate=S,n===null&&(e.shared.lanes=0),na|=c,l.lanes=c,l.memoizedState=z}}function ps(l,t){if(typeof l!="function")throw Error(s(191,l));l.call(t)}function _s(l,t){var a=l.callbacks;if(a!==null)for(l.callbacks=null,l=0;l<a.length;l++)ps(a[l],t)}var eu=Yl(null),$e=Yl(0);function Ns(l,t){l=Qt,k($e,l),k(eu,t),Qt=l|t.baseLanes}function Gc(){k($e,Qt),k(eu,eu.current)}function Xc(){Qt=$e.current,ol(eu),ol($e)}var Pl=Yl(null),ht=null;function ta(l){var t=l.alternate;k(Sl,Sl.current&1),k(Pl,l),ht===null&&(t===null||eu.current!==null||t.memoizedState!==null)&&(ht=l)}function Zc(l){k(Sl,Sl.current),k(Pl,l),ht===null&&(ht=l)}function Hs(l){l.tag===22?(k(Sl,Sl.current),k(Pl,l),ht===null&&(ht=l)):aa()}function aa(){k(Sl,Sl.current),k(Pl,Pl.current)}function lt(l){ol(Pl),ht===l&&(ht=null),ol(Sl)}var Sl=Yl(0);function Fe(l){for(var t=l;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wi(a)||$i(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===l)break;for(;t.sibling===null;){if(t.return===null||t.return===l)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ht=0,R=null,tl=null,Tl=null,ke=!1,nu=!1,Ha=!1,Ie=0,Ku=0,cu=null,Xh=0;function ml(){throw Error(s(321))}function Vc(l,t){if(t===null)return!1;for(var a=0;a<t.length&&a<l.length;a++)if(!kl(l[a],t[a]))return!1;return!0}function Lc(l,t,a,u,e,n){return Ht=n,R=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,b.H=l===null||l.memoizedState===null?vd:ni,Ha=!1,n=a(u,e),Ha=!1,nu&&(n=qs(t,a,u,e)),js(l),n}function js(l){b.H=Wu;var t=tl!==null&&tl.next!==null;if(Ht=0,Tl=tl=R=null,ke=!1,Ku=0,cu=null,t)throw Error(s(300));l===null||Al||(l=l.dependencies,l!==null&&Ze(l)&&(Al=!0))}function qs(l,t,a,u){R=l;var e=0;do{if(nu&&(cu=null),Ku=0,nu=!1,25<=e)throw Error(s(301));if(e+=1,Tl=tl=null,l.updateQueue!=null){var n=l.updateQueue;n.lastEffect=null,n.events=null,n.stores=null,n.memoCache!=null&&(n.memoCache.index=0)}b.H=yd,n=t(a,u)}while(nu);return n}function Zh(){var l=b.H,t=l.useState()[0];return t=typeof t.then=="function"?Ju(t):t,l=l.useState()[0],(tl!==null?tl.memoizedState:null)!==l&&(R.flags|=1024),t}function Kc(){var l=Ie!==0;return Ie=0,l}function Jc(l,t,a){t.updateQueue=l.updateQueue,t.flags&=-2053,l.lanes&=~a}function wc(l){if(ke){for(l=l.memoizedState;l!==null;){var t=l.queue;t!==null&&(t.pending=null),l=l.next}ke=!1}Ht=0,Tl=tl=R=null,nu=!1,Ku=Ie=0,cu=null}function xl(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tl===null?R.memoizedState=Tl=l:Tl=Tl.next=l,Tl}function rl(){if(tl===null){var l=R.alternate;l=l!==null?l.memoizedState:null}else l=tl.next;var t=Tl===null?R.memoizedState:Tl.next;if(t!==null)Tl=t,tl=l;else{if(l===null)throw R.alternate===null?Error(s(467)):Error(s(310));tl=l,l={memoizedState:tl.memoizedState,baseState:tl.baseState,baseQueue:tl.baseQueue,queue:tl.queue,next:null},Tl===null?R.memoizedState=Tl=l:Tl=Tl.next=l}return Tl}function Pe(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ju(l){var t=Ku;return Ku+=1,cu===null&&(cu=[]),l=Es(cu,l,t),t=R,(Tl===null?t.memoizedState:Tl.next)===null&&(t=t.alternate,b.H=t===null||t.memoizedState===null?vd:ni),l}function ln(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Ju(l);if(l.$$typeof===bl)return ql(l)}throw Error(s(438,String(l)))}function Wc(l){var t=null,a=R.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var u=R.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(t={data:u.data.map(function(e){return e.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Pe(),R.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(l),u=0;u<l;u++)a[u]=Vt;return t.index++,a}function jt(l,t){return typeof t=="function"?t(l):t}function tn(l){var t=rl();return $c(t,tl,l)}function $c(l,t,a){var u=l.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var e=l.baseQueue,n=u.pending;if(n!==null){if(e!==null){var c=e.next;e.next=n.next,n.next=c}t.baseQueue=e=n,u.pending=null}if(n=l.baseState,e===null)l.memoizedState=n;else{t=e.next;var i=c=null,f=null,v=t,S=!1;do{var z=v.lane&-536870913;if(z!==v.lane?(X&z)===z:(Ht&z)===z){var y=v.revertLane;if(y===0)f!==null&&(f=f.next={lane:0,revertLane:0,gesture:null,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),z===lu&&(S=!0);else if((Ht&y)===y){v=v.next,y===lu&&(S=!0);continue}else z={lane:0,revertLane:v.revertLane,gesture:null,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null},f===null?(i=f=z,c=n):f=f.next=z,R.lanes|=y,na|=y;z=v.action,Ha&&a(n,z),n=v.hasEagerState?v.eagerState:a(n,z)}else y={lane:z,revertLane:v.revertLane,gesture:v.gesture,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null},f===null?(i=f=y,c=n):f=f.next=y,R.lanes|=z,na|=z;v=v.next}while(v!==null&&v!==t);if(f===null?c=n:f.next=i,!kl(n,l.memoizedState)&&(Al=!0,S&&(a=tu,a!==null)))throw a;l.memoizedState=n,l.baseState=c,l.baseQueue=f,u.lastRenderedState=n}return e===null&&(u.lanes=0),[l.memoizedState,u.dispatch]}function Fc(l){var t=rl(),a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var u=a.dispatch,e=a.pending,n=t.memoizedState;if(e!==null){a.pending=null;var c=e=e.next;do n=l(n,c.action),c=c.next;while(c!==e);kl(n,t.memoizedState)||(Al=!0),t.memoizedState=n,t.baseQueue===null&&(t.baseState=n),a.lastRenderedState=n}return[n,u]}function Bs(l,t,a){var u=R,e=rl(),n=L;if(n){if(a===void 0)throw Error(s(407));a=a()}else a=t();var c=!kl((tl||e).memoizedState,a);if(c&&(e.memoizedState=a,Al=!0),e=e.queue,Pc(Ys.bind(null,u,e,l),[l]),e.getSnapshot!==t||c||Tl!==null&&Tl.memoizedState.tag&1){if(u.flags|=2048,iu(9,{destroy:void 0},Rs.bind(null,u,e,a,t),null),el===null)throw Error(s(349));n||(Ht&127)!==0||Cs(u,t,a)}return a}function Cs(l,t,a){l.flags|=16384,l={getSnapshot:t,value:a},t=R.updateQueue,t===null?(t=Pe(),R.updateQueue=t,t.stores=[l]):(a=t.stores,a===null?t.stores=[l]:a.push(l))}function Rs(l,t,a,u){t.value=a,t.getSnapshot=u,xs(t)&&Qs(l)}function Ys(l,t,a){return a(function(){xs(t)&&Qs(l)})}function xs(l){var t=l.getSnapshot;l=l.value;try{var a=t();return!kl(l,a)}catch{return!0}}function Qs(l){var t=Aa(l,2);t!==null&&wl(t,l,2)}function kc(l){var t=xl();if(typeof l=="function"){var a=l;if(l=a(),Ha){Kt(!0);try{a()}finally{Kt(!1)}}}return t.memoizedState=t.baseState=l,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jt,lastRenderedState:l},t}function Gs(l,t,a,u){return l.baseState=a,$c(l,tl,typeof u=="function"?u:jt)}function Vh(l,t,a,u,e){if(en(l))throw Error(s(485));if(l=t.action,l!==null){var n={payload:e,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){n.listeners.push(c)}};b.T!==null?a(!0):n.isTransition=!1,u(n),a=t.pending,a===null?(n.next=t.pending=n,Xs(t,n)):(n.next=a.next,t.pending=a.next=n)}}function Xs(l,t){var a=t.action,u=t.payload,e=l.state;if(t.isTransition){var n=b.T,c={};b.T=c;try{var i=a(e,u),f=b.S;f!==null&&f(c,i),Zs(l,t,i)}catch(v){Ic(l,t,v)}finally{n!==null&&c.types!==null&&(n.types=c.types),b.T=n}}else try{n=a(e,u),Zs(l,t,n)}catch(v){Ic(l,t,v)}}function Zs(l,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Vs(l,t,u)},function(u){return Ic(l,t,u)}):Vs(l,t,a)}function Vs(l,t,a){t.status="fulfilled",t.value=a,Ls(t),l.state=a,t=l.pending,t!==null&&(a=t.next,a===t?l.pending=null:(a=a.next,t.next=a,Xs(l,a)))}function Ic(l,t,a){var u=l.pending;if(l.pending=null,u!==null){u=u.next;do t.status="rejected",t.reason=a,Ls(t),t=t.next;while(t!==u)}l.action=null}function Ls(l){l=l.listeners;for(var t=0;t<l.length;t++)(0,l[t])()}function Ks(l,t){return t}function Js(l,t){if(L){var a=el.formState;if(a!==null){l:{var u=R;if(L){if(il){t:{for(var e=il,n=ot;e.nodeType!==8;){if(!n){e=null;break t}if(e=mt(e.nextSibling),e===null){e=null;break t}}n=e.data,e=n==="F!"||n==="F"?e:null}if(e){il=mt(e.nextSibling),u=e.data==="F!";break l}}Ft(u)}u=!1}u&&(t=a[0])}}return a=xl(),a.memoizedState=a.baseState=t,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:t},a.queue=u,a=od.bind(null,R,u),u.dispatch=a,u=kc(!1),n=ei.bind(null,R,!1,u.queue),u=xl(),e={state:t,dispatch:null,action:l,pending:null},u.queue=e,a=Vh.bind(null,R,e,n,a),e.dispatch=a,u.memoizedState=l,[t,a,!1]}function ws(l){var t=rl();return Ws(t,tl,l)}function Ws(l,t,a){if(t=$c(l,t,Ks)[0],l=tn(jt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var u=Ju(t)}catch(c){throw c===au?Ke:c}else u=t;t=rl();var e=t.queue,n=e.dispatch;return a!==t.memoizedState&&(R.flags|=2048,iu(9,{destroy:void 0},Lh.bind(null,e,a),null)),[u,n,l]}function Lh(l,t){l.action=t}function $s(l){var t=rl(),a=tl;if(a!==null)return Ws(t,a,l);rl(),t=t.memoizedState,a=rl();var u=a.queue.dispatch;return a.memoizedState=l,[t,u,!1]}function iu(l,t,a,u){return l={tag:l,create:a,deps:u,inst:t,next:null},t=R.updateQueue,t===null&&(t=Pe(),R.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=l.next=l:(u=a.next,a.next=l,l.next=u,t.lastEffect=l),l}function Fs(){return rl().memoizedState}function an(l,t,a,u){var e=xl();R.flags|=l,e.memoizedState=iu(1|t,{destroy:void 0},a,u===void 0?null:u)}function un(l,t,a,u){var e=rl();u=u===void 0?null:u;var n=e.memoizedState.inst;tl!==null&&u!==null&&Vc(u,tl.memoizedState.deps)?e.memoizedState=iu(t,n,a,u):(R.flags|=l,e.memoizedState=iu(1|t,n,a,u))}function ks(l,t){an(8390656,8,l,t)}function Pc(l,t){un(2048,8,l,t)}function Kh(l){R.flags|=4;var t=R.updateQueue;if(t===null)t=Pe(),R.updateQueue=t,t.events=[l];else{var a=t.events;a===null?t.events=[l]:a.push(l)}}function Is(l){var t=rl().memoizedState;return Kh({ref:t,nextImpl:l}),function(){if(($&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Ps(l,t){return un(4,2,l,t)}function ld(l,t){return un(4,4,l,t)}function td(l,t){if(typeof t=="function"){l=l();var a=t(l);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return l=l(),t.current=l,function(){t.current=null}}function ad(l,t,a){a=a!=null?a.concat([l]):null,un(4,4,td.bind(null,t,l),a)}function li(){}function ud(l,t){var a=rl();t=t===void 0?null:t;var u=a.memoizedState;return t!==null&&Vc(t,u[1])?u[0]:(a.memoizedState=[l,t],l)}function ed(l,t){var a=rl();t=t===void 0?null:t;var u=a.memoizedState;if(t!==null&&Vc(t,u[1]))return u[0];if(u=l(),Ha){Kt(!0);try{l()}finally{Kt(!1)}}return a.memoizedState=[u,t],u}function ti(l,t,a){return a===void 0||(Ht&1073741824)!==0&&(X&261930)===0?l.memoizedState=t:(l.memoizedState=a,l=n0(),R.lanes|=l,na|=l,a)}function nd(l,t,a,u){return kl(a,t)?a:eu.current!==null?(l=ti(l,a,u),kl(l,t)||(Al=!0),l):(Ht&42)===0||(Ht&1073741824)!==0&&(X&261930)===0?(Al=!0,l.memoizedState=a):(l=n0(),R.lanes|=l,na|=l,t)}function cd(l,t,a,u,e){var n=M.p;M.p=n!==0&&8>n?n:8;var c=b.T,i={};b.T=i,ei(l,!1,t,a);try{var f=e(),v=b.S;if(v!==null&&v(i,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var S=Gh(f,u);wu(l,t,S,ut(l))}else wu(l,t,u,ut(l))}catch(z){wu(l,t,{then:function(){},status:"rejected",reason:z},ut())}finally{M.p=n,c!==null&&i.types!==null&&(c.types=i.types),b.T=c}}function Jh(){}function ai(l,t,a,u){if(l.tag!==5)throw Error(s(476));var e=id(l).queue;cd(l,e,t,B,a===null?Jh:function(){return fd(l),a(u)})}function id(l){var t=l.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jt,lastRenderedState:B},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jt,lastRenderedState:a},next:null},l.memoizedState=t,l=l.alternate,l!==null&&(l.memoizedState=t),t}function fd(l){var t=id(l);t.next===null&&(t=l.alternate.memoizedState),wu(l,t.next.queue,{},ut())}function ui(){return ql(de)}function sd(){return rl().memoizedState}function dd(){return rl().memoizedState}function wh(l){for(var t=l.return;t!==null;){switch(t.tag){case 24:case 3:var a=ut();l=Pt(a);var u=la(t,l,a);u!==null&&(wl(u,t,a),Zu(u,t,a)),t={cache:jc()},l.payload=t;return}t=t.return}}function Wh(l,t,a){var u=ut();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},en(l)?hd(t,a):(a=Tc(l,t,a,u),a!==null&&(wl(a,l,u),md(a,t,u)))}function od(l,t,a){var u=ut();wu(l,t,a,u)}function wu(l,t,a,u){var e={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(en(l))hd(t,e);else{var n=l.alternate;if(l.lanes===0&&(n===null||n.lanes===0)&&(n=t.lastRenderedReducer,n!==null))try{var c=t.lastRenderedState,i=n(c,a);if(e.hasEagerState=!0,e.eagerState=i,kl(i,c))return xe(l,t,e,0),el===null&&Ye(),!1}catch{}finally{}if(a=Tc(l,t,e,u),a!==null)return wl(a,l,u),md(a,t,u),!0}return!1}function ei(l,t,a,u){if(u={lane:2,revertLane:Ri(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},en(l)){if(t)throw Error(s(479))}else t=Tc(l,a,u,2),t!==null&&wl(t,l,2)}function en(l){var t=l.alternate;return l===R||t!==null&&t===R}function hd(l,t){nu=ke=!0;var a=l.pending;a===null?t.next=t:(t.next=a.next,a.next=t),l.pending=t}function md(l,t,a){if((a&4194048)!==0){var u=t.lanes;u&=l.pendingLanes,a|=u,t.lanes=a,rf(l,a)}}var Wu={readContext:ql,use:ln,useCallback:ml,useContext:ml,useEffect:ml,useImperativeHandle:ml,useLayoutEffect:ml,useInsertionEffect:ml,useMemo:ml,useReducer:ml,useRef:ml,useState:ml,useDebugValue:ml,useDeferredValue:ml,useTransition:ml,useSyncExternalStore:ml,useId:ml,useHostTransitionStatus:ml,useFormState:ml,useActionState:ml,useOptimistic:ml,useMemoCache:ml,useCacheRefresh:ml};Wu.useEffectEvent=ml;var vd={readContext:ql,use:ln,useCallback:function(l,t){return xl().memoizedState=[l,t===void 0?null:t],l},useContext:ql,useEffect:ks,useImperativeHandle:function(l,t,a){a=a!=null?a.concat([l]):null,an(4194308,4,td.bind(null,t,l),a)},useLayoutEffect:function(l,t){return an(4194308,4,l,t)},useInsertionEffect:function(l,t){an(4,2,l,t)},useMemo:function(l,t){var a=xl();t=t===void 0?null:t;var u=l();if(Ha){Kt(!0);try{l()}finally{Kt(!1)}}return a.memoizedState=[u,t],u},useReducer:function(l,t,a){var u=xl();if(a!==void 0){var e=a(t);if(Ha){Kt(!0);try{a(t)}finally{Kt(!1)}}}else e=t;return u.memoizedState=u.baseState=e,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:e},u.queue=l,l=l.dispatch=Wh.bind(null,R,l),[u.memoizedState,l]},useRef:function(l){var t=xl();return l={current:l},t.memoizedState=l},useState:function(l){l=kc(l);var t=l.queue,a=od.bind(null,R,t);return t.dispatch=a,[l.memoizedState,a]},useDebugValue:li,useDeferredValue:function(l,t){var a=xl();return ti(a,l,t)},useTransition:function(){var l=kc(!1);return l=cd.bind(null,R,l.queue,!0,!1),xl().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,t,a){var u=R,e=xl();if(L){if(a===void 0)throw Error(s(407));a=a()}else{if(a=t(),el===null)throw Error(s(349));(X&127)!==0||Cs(u,t,a)}e.memoizedState=a;var n={value:a,getSnapshot:t};return e.queue=n,ks(Ys.bind(null,u,n,l),[l]),u.flags|=2048,iu(9,{destroy:void 0},Rs.bind(null,u,n,a,t),null),a},useId:function(){var l=xl(),t=el.identifierPrefix;if(L){var a=zt,u=bt;a=(u&~(1<<32-Fl(u)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ie++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Xh++,t="_"+t+"r_"+a.toString(32)+"_";return l.memoizedState=t},useHostTransitionStatus:ui,useFormState:Js,useActionState:Js,useOptimistic:function(l){var t=xl();t.memoizedState=t.baseState=l;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ei.bind(null,R,!0,a),a.dispatch=t,[l,t]},useMemoCache:Wc,useCacheRefresh:function(){return xl().memoizedState=wh.bind(null,R)},useEffectEvent:function(l){var t=xl(),a={impl:l};return t.memoizedState=a,function(){if(($&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ni={readContext:ql,use:ln,useCallback:ud,useContext:ql,useEffect:Pc,useImperativeHandle:ad,useInsertionEffect:Ps,useLayoutEffect:ld,useMemo:ed,useReducer:tn,useRef:Fs,useState:function(){return tn(jt)},useDebugValue:li,useDeferredValue:function(l,t){var a=rl();return nd(a,tl.memoizedState,l,t)},useTransition:function(){var l=tn(jt)[0],t=rl().memoizedState;return[typeof l=="boolean"?l:Ju(l),t]},useSyncExternalStore:Bs,useId:sd,useHostTransitionStatus:ui,useFormState:ws,useActionState:ws,useOptimistic:function(l,t){var a=rl();return Gs(a,tl,l,t)},useMemoCache:Wc,useCacheRefresh:dd};ni.useEffectEvent=Is;var yd={readContext:ql,use:ln,useCallback:ud,useContext:ql,useEffect:Pc,useImperativeHandle:ad,useInsertionEffect:Ps,useLayoutEffect:ld,useMemo:ed,useReducer:Fc,useRef:Fs,useState:function(){return Fc(jt)},useDebugValue:li,useDeferredValue:function(l,t){var a=rl();return tl===null?ti(a,l,t):nd(a,tl.memoizedState,l,t)},useTransition:function(){var l=Fc(jt)[0],t=rl().memoizedState;return[typeof l=="boolean"?l:Ju(l),t]},useSyncExternalStore:Bs,useId:sd,useHostTransitionStatus:ui,useFormState:$s,useActionState:$s,useOptimistic:function(l,t){var a=rl();return tl!==null?Gs(a,tl,l,t):(a.baseState=l,[l,a.queue.dispatch])},useMemoCache:Wc,useCacheRefresh:dd};yd.useEffectEvent=Is;function ci(l,t,a,u){t=l.memoizedState,a=a(u,t),a=a==null?t:H({},t,a),l.memoizedState=a,l.lanes===0&&(l.updateQueue.baseState=a)}var ii={enqueueSetState:function(l,t,a){l=l._reactInternals;var u=ut(),e=Pt(u);e.payload=t,a!=null&&(e.callback=a),t=la(l,e,u),t!==null&&(wl(t,l,u),Zu(t,l,u))},enqueueReplaceState:function(l,t,a){l=l._reactInternals;var u=ut(),e=Pt(u);e.tag=1,e.payload=t,a!=null&&(e.callback=a),t=la(l,e,u),t!==null&&(wl(t,l,u),Zu(t,l,u))},enqueueForceUpdate:function(l,t){l=l._reactInternals;var a=ut(),u=Pt(a);u.tag=2,t!=null&&(u.callback=t),t=la(l,u,a),t!==null&&(wl(t,l,a),Zu(t,l,a))}};function gd(l,t,a,u,e,n,c){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(u,n,c):t.prototype&&t.prototype.isPureReactComponent?!Bu(a,u)||!Bu(e,n):!0}function Sd(l,t,a,u){l=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,u),t.state!==l&&ii.enqueueReplaceState(t,t.state,null)}function ja(l,t){var a=t;if("ref"in t){a={};for(var u in t)u!=="ref"&&(a[u]=t[u])}if(l=l.defaultProps){a===t&&(a=H({},a));for(var e in l)a[e]===void 0&&(a[e]=l[e])}return a}function rd(l){Re(l)}function bd(l){console.error(l)}function zd(l){Re(l)}function nn(l,t){try{var a=l.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(u){setTimeout(function(){throw u})}}function Td(l,t,a){try{var u=l.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function fi(l,t,a){return a=Pt(a),a.tag=3,a.payload={element:null},a.callback=function(){nn(l,t)},a}function Ad(l){return l=Pt(l),l.tag=3,l}function Ed(l,t,a,u){var e=a.type.getDerivedStateFromError;if(typeof e=="function"){var n=u.value;l.payload=function(){return e(n)},l.callback=function(){Td(t,a,u)}}var c=a.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(l.callback=function(){Td(t,a,u),typeof e!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var i=u.stack;this.componentDidCatch(u.value,{componentStack:i!==null?i:""})})}function $h(l,t,a,u,e){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(t=a.alternate,t!==null&&Pa(t,a,e,!0),a=Pl.current,a!==null){switch(a.tag){case 31:case 13:return ht===null?rn():a.alternate===null&&vl===0&&(vl=3),a.flags&=-257,a.flags|=65536,a.lanes=e,u===Je?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([u]):t.add(u),qi(l,u,e)),!1;case 22:return a.flags|=65536,u===Je?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([u]):a.add(u)),qi(l,u,e)),!1}throw Error(s(435,a.tag))}return qi(l,u,e),rn(),!1}if(L)return t=Pl.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=e,u!==Uc&&(l=Error(s(422),{cause:u}),Yu(ft(l,a)))):(u!==Uc&&(t=Error(s(423),{cause:u}),Yu(ft(t,a))),l=l.current.alternate,l.flags|=65536,e&=-e,l.lanes|=e,u=ft(u,a),e=fi(l.stateNode,u,e),xc(l,e),vl!==4&&(vl=2)),!1;var n=Error(s(520),{cause:u});if(n=ft(n,a),ae===null?ae=[n]:ae.push(n),vl!==4&&(vl=2),t===null)return!0;u=ft(u,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,l=e&-e,a.lanes|=l,l=fi(a.stateNode,u,l),xc(a,l),!1;case 1:if(t=a.type,n=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(ca===null||!ca.has(n))))return a.flags|=65536,e&=-e,a.lanes|=e,e=Ad(e),Ed(e,l,a,u),xc(a,e),!1}a=a.return}while(a!==null);return!1}var si=Error(s(461)),Al=!1;function Bl(l,t,a,u){t.child=l===null?Us(t,null,a,u):Na(t,l.child,a,u)}function Dd(l,t,a,u,e){a=a.render;var n=t.ref;if("ref"in u){var c={};for(var i in u)i!=="ref"&&(c[i]=u[i])}else c=u;return Oa(t),u=Lc(l,t,a,c,n,e),i=Kc(),l!==null&&!Al?(Jc(l,t,e),qt(l,t,e)):(L&&i&&Mc(t),t.flags|=1,Bl(l,t,u,e),t.child)}function Md(l,t,a,u,e){if(l===null){var n=a.type;return typeof n=="function"&&!Ac(n)&&n.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=n,Od(l,t,n,u,e)):(l=Ge(a.type,null,u,t,t.mode,e),l.ref=t.ref,l.return=t,t.child=l)}if(n=l.child,!Si(l,e)){var c=n.memoizedProps;if(a=a.compare,a=a!==null?a:Bu,a(c,u)&&l.ref===t.ref)return qt(l,t,e)}return t.flags|=1,l=Ut(n,u),l.ref=t.ref,l.return=t,t.child=l}function Od(l,t,a,u,e){if(l!==null){var n=l.memoizedProps;if(Bu(n,u)&&l.ref===t.ref)if(Al=!1,t.pendingProps=u=n,Si(l,e))(l.flags&131072)!==0&&(Al=!0);else return t.lanes=l.lanes,qt(l,t,e)}return di(l,t,a,u,e)}function Ud(l,t,a,u){var e=u.children,n=l!==null?l.memoizedState:null;if(l===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((t.flags&128)!==0){if(n=n!==null?n.baseLanes|a:a,l!==null){for(u=t.child=l.child,e=0;u!==null;)e=e|u.lanes|u.childLanes,u=u.sibling;u=e&~n}else u=0,t.child=null;return pd(l,t,n,a,u)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},l!==null&&Le(t,n!==null?n.cachePool:null),n!==null?Ns(t,n):Gc(),Hs(t);else return u=t.lanes=536870912,pd(l,t,n!==null?n.baseLanes|a:a,a,u)}else n!==null?(Le(t,n.cachePool),Ns(t,n),aa(),t.memoizedState=null):(l!==null&&Le(t,null),Gc(),aa());return Bl(l,t,e,a),t.child}function $u(l,t){return l!==null&&l.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function pd(l,t,a,u,e){var n=Bc();return n=n===null?null:{parent:zl._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},l!==null&&Le(t,null),Gc(),Hs(t),l!==null&&Pa(l,t,u,!0),t.childLanes=e,null}function cn(l,t){return t=sn({mode:t.mode,children:t.children},l.mode),t.ref=l.ref,l.child=t,t.return=l,t}function _d(l,t,a){return Na(t,l.child,null,a),l=cn(t,t.pendingProps),l.flags|=2,lt(t),t.memoizedState=null,l}function Fh(l,t,a){var u=t.pendingProps,e=(t.flags&128)!==0;if(t.flags&=-129,l===null){if(L){if(u.mode==="hidden")return l=cn(t,u),t.lanes=536870912,$u(null,l);if(Zc(t),(l=il)?(l=X0(l,ot),l=l!==null&&l.data==="&"?l:null,l!==null&&(t.memoizedState={dehydrated:l,treeContext:Wt!==null?{id:bt,overflow:zt}:null,retryLane:536870912,hydrationErrors:null},a=hs(l),a.return=t,t.child=a,jl=t,il=null)):l=null,l===null)throw Ft(t);return t.lanes=536870912,null}return cn(t,u)}var n=l.memoizedState;if(n!==null){var c=n.dehydrated;if(Zc(t),e)if(t.flags&256)t.flags&=-257,t=_d(l,t,a);else if(t.memoizedState!==null)t.child=l.child,t.flags|=128,t=null;else throw Error(s(558));else if(Al||Pa(l,t,a,!1),e=(a&l.childLanes)!==0,Al||e){if(u=el,u!==null&&(c=bf(u,a),c!==0&&c!==n.retryLane))throw n.retryLane=c,Aa(l,c),wl(u,l,c),si;rn(),t=_d(l,t,a)}else l=n.treeContext,il=mt(c.nextSibling),jl=t,L=!0,$t=null,ot=!1,l!==null&&ys(t,l),t=cn(t,u),t.flags|=4096;return t}return l=Ut(l.child,{mode:u.mode,children:u.children}),l.ref=t.ref,t.child=l,l.return=t,l}function fn(l,t){var a=t.ref;if(a===null)l!==null&&l.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(l===null||l.ref!==a)&&(t.flags|=4194816)}}function di(l,t,a,u,e){return Oa(t),a=Lc(l,t,a,u,void 0,e),u=Kc(),l!==null&&!Al?(Jc(l,t,e),qt(l,t,e)):(L&&u&&Mc(t),t.flags|=1,Bl(l,t,a,e),t.child)}function Nd(l,t,a,u,e,n){return Oa(t),t.updateQueue=null,a=qs(t,u,a,e),js(l),u=Kc(),l!==null&&!Al?(Jc(l,t,n),qt(l,t,n)):(L&&u&&Mc(t),t.flags|=1,Bl(l,t,a,n),t.child)}function Hd(l,t,a,u,e){if(Oa(t),t.stateNode===null){var n=$a,c=a.contextType;typeof c=="object"&&c!==null&&(n=ql(c)),n=new a(u,n),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ii,t.stateNode=n,n._reactInternals=t,n=t.stateNode,n.props=u,n.state=t.memoizedState,n.refs={},Rc(t),c=a.contextType,n.context=typeof c=="object"&&c!==null?ql(c):$a,n.state=t.memoizedState,c=a.getDerivedStateFromProps,typeof c=="function"&&(ci(t,a,c,u),n.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(c=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),c!==n.state&&ii.enqueueReplaceState(n,n.state,null),Lu(t,u,n,e),Vu(),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308),u=!0}else if(l===null){n=t.stateNode;var i=t.memoizedProps,f=ja(a,i);n.props=f;var v=n.context,S=a.contextType;c=$a,typeof S=="object"&&S!==null&&(c=ql(S));var z=a.getDerivedStateFromProps;S=typeof z=="function"||typeof n.getSnapshotBeforeUpdate=="function",i=t.pendingProps!==i,S||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(i||v!==c)&&Sd(t,n,u,c),It=!1;var y=t.memoizedState;n.state=y,Lu(t,u,n,e),Vu(),v=t.memoizedState,i||y!==v||It?(typeof z=="function"&&(ci(t,a,z,u),v=t.memoizedState),(f=It||gd(t,a,f,u,y,v,c))?(S||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount()),typeof n.componentDidMount=="function"&&(t.flags|=4194308)):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=v),n.props=u,n.state=v,n.context=c,u=f):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{n=t.stateNode,Yc(l,t),c=t.memoizedProps,S=ja(a,c),n.props=S,z=t.pendingProps,y=n.context,v=a.contextType,f=$a,typeof v=="object"&&v!==null&&(f=ql(v)),i=a.getDerivedStateFromProps,(v=typeof i=="function"||typeof n.getSnapshotBeforeUpdate=="function")||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(c!==z||y!==f)&&Sd(t,n,u,f),It=!1,y=t.memoizedState,n.state=y,Lu(t,u,n,e),Vu();var g=t.memoizedState;c!==z||y!==g||It||l!==null&&l.dependencies!==null&&Ze(l.dependencies)?(typeof i=="function"&&(ci(t,a,i,u),g=t.memoizedState),(S=It||gd(t,a,S,u,y,g,f)||l!==null&&l.dependencies!==null&&Ze(l.dependencies))?(v||typeof n.UNSAFE_componentWillUpdate!="function"&&typeof n.componentWillUpdate!="function"||(typeof n.componentWillUpdate=="function"&&n.componentWillUpdate(u,g,f),typeof n.UNSAFE_componentWillUpdate=="function"&&n.UNSAFE_componentWillUpdate(u,g,f)),typeof n.componentDidUpdate=="function"&&(t.flags|=4),typeof n.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof n.componentDidUpdate!="function"||c===l.memoizedProps&&y===l.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||c===l.memoizedProps&&y===l.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=g),n.props=u,n.state=g,n.context=f,u=S):(typeof n.componentDidUpdate!="function"||c===l.memoizedProps&&y===l.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||c===l.memoizedProps&&y===l.memoizedState||(t.flags|=1024),u=!1)}return n=u,fn(l,t),u=(t.flags&128)!==0,n||u?(n=t.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:n.render(),t.flags|=1,l!==null&&u?(t.child=Na(t,l.child,null,e),t.child=Na(t,null,a,e)):Bl(l,t,a,e),t.memoizedState=n.state,l=t.child):l=qt(l,t,e),l}function jd(l,t,a,u){return Da(),t.flags|=256,Bl(l,t,a,u),t.child}var oi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hi(l){return{baseLanes:l,cachePool:Ts()}}function mi(l,t,a){return l=l!==null?l.childLanes&~a:0,t&&(l|=at),l}function qd(l,t,a){var u=t.pendingProps,e=!1,n=(t.flags&128)!==0,c;if((c=n)||(c=l!==null&&l.memoizedState===null?!1:(Sl.current&2)!==0),c&&(e=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,l===null){if(L){if(e?ta(t):aa(),(l=il)?(l=X0(l,ot),l=l!==null&&l.data!=="&"?l:null,l!==null&&(t.memoizedState={dehydrated:l,treeContext:Wt!==null?{id:bt,overflow:zt}:null,retryLane:536870912,hydrationErrors:null},a=hs(l),a.return=t,t.child=a,jl=t,il=null)):l=null,l===null)throw Ft(t);return $i(l)?t.lanes=32:t.lanes=536870912,null}var i=u.children;return u=u.fallback,e?(aa(),e=t.mode,i=sn({mode:"hidden",children:i},e),u=Ea(u,e,a,null),i.return=t,u.return=t,i.sibling=u,t.child=i,u=t.child,u.memoizedState=hi(a),u.childLanes=mi(l,c,a),t.memoizedState=oi,$u(null,u)):(ta(t),vi(t,i))}var f=l.memoizedState;if(f!==null&&(i=f.dehydrated,i!==null)){if(n)t.flags&256?(ta(t),t.flags&=-257,t=yi(l,t,a)):t.memoizedState!==null?(aa(),t.child=l.child,t.flags|=128,t=null):(aa(),i=u.fallback,e=t.mode,u=sn({mode:"visible",children:u.children},e),i=Ea(i,e,a,null),i.flags|=2,u.return=t,i.return=t,u.sibling=i,t.child=u,Na(t,l.child,null,a),u=t.child,u.memoizedState=hi(a),u.childLanes=mi(l,c,a),t.memoizedState=oi,t=$u(null,u));else if(ta(t),$i(i)){if(c=i.nextSibling&&i.nextSibling.dataset,c)var v=c.dgst;c=v,u=Error(s(419)),u.stack="",u.digest=c,Yu({value:u,source:null,stack:null}),t=yi(l,t,a)}else if(Al||Pa(l,t,a,!1),c=(a&l.childLanes)!==0,Al||c){if(c=el,c!==null&&(u=bf(c,a),u!==0&&u!==f.retryLane))throw f.retryLane=u,Aa(l,u),wl(c,l,u),si;Wi(i)||rn(),t=yi(l,t,a)}else Wi(i)?(t.flags|=192,t.child=l.child,t=null):(l=f.treeContext,il=mt(i.nextSibling),jl=t,L=!0,$t=null,ot=!1,l!==null&&ys(t,l),t=vi(t,u.children),t.flags|=4096);return t}return e?(aa(),i=u.fallback,e=t.mode,f=l.child,v=f.sibling,u=Ut(f,{mode:"hidden",children:u.children}),u.subtreeFlags=f.subtreeFlags&65011712,v!==null?i=Ut(v,i):(i=Ea(i,e,a,null),i.flags|=2),i.return=t,u.return=t,u.sibling=i,t.child=u,$u(null,u),u=t.child,i=l.child.memoizedState,i===null?i=hi(a):(e=i.cachePool,e!==null?(f=zl._currentValue,e=e.parent!==f?{parent:f,pool:f}:e):e=Ts(),i={baseLanes:i.baseLanes|a,cachePool:e}),u.memoizedState=i,u.childLanes=mi(l,c,a),t.memoizedState=oi,$u(l.child,u)):(ta(t),a=l.child,l=a.sibling,a=Ut(a,{mode:"visible",children:u.children}),a.return=t,a.sibling=null,l!==null&&(c=t.deletions,c===null?(t.deletions=[l],t.flags|=16):c.push(l)),t.child=a,t.memoizedState=null,a)}function vi(l,t){return t=sn({mode:"visible",children:t},l.mode),t.return=l,l.child=t}function sn(l,t){return l=Il(22,l,null,t),l.lanes=0,l}function yi(l,t,a){return Na(t,l.child,null,a),l=vi(t,t.pendingProps.children),l.flags|=2,t.memoizedState=null,l}function Bd(l,t,a){l.lanes|=t;var u=l.alternate;u!==null&&(u.lanes|=t),Nc(l.return,t,a)}function gi(l,t,a,u,e,n){var c=l.memoizedState;c===null?l.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:e,treeForkCount:n}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=u,c.tail=a,c.tailMode=e,c.treeForkCount=n)}function Cd(l,t,a){var u=t.pendingProps,e=u.revealOrder,n=u.tail;u=u.children;var c=Sl.current,i=(c&2)!==0;if(i?(c=c&1|2,t.flags|=128):c&=1,k(Sl,c),Bl(l,t,u,a),u=L?Ru:0,!i&&l!==null&&(l.flags&128)!==0)l:for(l=t.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Bd(l,a,t);else if(l.tag===19)Bd(l,a,t);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break l;for(;l.sibling===null;){if(l.return===null||l.return===t)break l;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(e){case"forwards":for(a=t.child,e=null;a!==null;)l=a.alternate,l!==null&&Fe(l)===null&&(e=a),a=a.sibling;a=e,a===null?(e=t.child,t.child=null):(e=a.sibling,a.sibling=null),gi(t,!1,e,a,n,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,e=t.child,t.child=null;e!==null;){if(l=e.alternate,l!==null&&Fe(l)===null){t.child=e;break}l=e.sibling,e.sibling=a,a=e,e=l}gi(t,!0,a,null,n,u);break;case"together":gi(t,!1,null,null,void 0,u);break;default:t.memoizedState=null}return t.child}function qt(l,t,a){if(l!==null&&(t.dependencies=l.dependencies),na|=t.lanes,(a&t.childLanes)===0)if(l!==null){if(Pa(l,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(l!==null&&t.child!==l.child)throw Error(s(153));if(t.child!==null){for(l=t.child,a=Ut(l,l.pendingProps),t.child=a,a.return=t;l.sibling!==null;)l=l.sibling,a=a.sibling=Ut(l,l.pendingProps),a.return=t;a.sibling=null}return t.child}function Si(l,t){return(l.lanes&t)!==0?!0:(l=l.dependencies,!!(l!==null&&Ze(l)))}function kh(l,t,a){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),kt(t,zl,l.memoizedState.cache),Da();break;case 27:case 5:Xn(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:kt(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zc(t),null;break;case 13:var u=t.memoizedState;if(u!==null)return u.dehydrated!==null?(ta(t),t.flags|=128,null):(a&t.child.childLanes)!==0?qd(l,t,a):(ta(t),l=qt(l,t,a),l!==null?l.sibling:null);ta(t);break;case 19:var e=(l.flags&128)!==0;if(u=(a&t.childLanes)!==0,u||(Pa(l,t,a,!1),u=(a&t.childLanes)!==0),e){if(u)return Cd(l,t,a);t.flags|=128}if(e=t.memoizedState,e!==null&&(e.rendering=null,e.tail=null,e.lastEffect=null),k(Sl,Sl.current),u)break;return null;case 22:return t.lanes=0,Ud(l,t,a,t.pendingProps);case 24:kt(t,zl,l.memoizedState.cache)}return qt(l,t,a)}function Rd(l,t,a){if(l!==null)if(l.memoizedProps!==t.pendingProps)Al=!0;else{if(!Si(l,a)&&(t.flags&128)===0)return Al=!1,kh(l,t,a);Al=(l.flags&131072)!==0}else Al=!1,L&&(t.flags&1048576)!==0&&vs(t,Ru,t.index);switch(t.lanes=0,t.tag){case 16:l:{var u=t.pendingProps;if(l=pa(t.elementType),t.type=l,typeof l=="function")Ac(l)?(u=ja(l,u),t.tag=1,t=Hd(null,t,l,u,a)):(t.tag=0,t=di(null,t,l,u,a));else{if(l!=null){var e=l.$$typeof;if(e===Ql){t.tag=11,t=Dd(null,t,l,u,a);break l}else if(e===Rl){t.tag=14,t=Md(null,t,l,u,a);break l}}throw t=Tu(l)||l,Error(s(306,t,""))}}return t;case 0:return di(l,t,t.type,t.pendingProps,a);case 1:return u=t.type,e=ja(u,t.pendingProps),Hd(l,t,u,e,a);case 3:l:{if(be(t,t.stateNode.containerInfo),l===null)throw Error(s(387));u=t.pendingProps;var n=t.memoizedState;e=n.element,Yc(l,t),Lu(t,u,null,a);var c=t.memoizedState;if(u=c.cache,kt(t,zl,u),u!==n.cache&&Hc(t,[zl],a,!0),Vu(),u=c.element,n.isDehydrated)if(n={element:u,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=n,t.memoizedState=n,t.flags&256){t=jd(l,t,u,a);break l}else if(u!==e){e=ft(Error(s(424)),t),Yu(e),t=jd(l,t,u,a);break l}else{switch(l=t.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(il=mt(l.firstChild),jl=t,L=!0,$t=null,ot=!0,a=Us(t,null,u,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Da(),u===e){t=qt(l,t,a);break l}Bl(l,t,u,a)}t=t.child}return t;case 26:return fn(l,t),l===null?(a=w0(t.type,null,t.pendingProps,null))?t.memoizedState=a:L||(a=t.type,l=t.pendingProps,u=Mn(Lt.current).createElement(a),u[Hl]=t,u[Xl]=l,Cl(u,a,l),Ol(u),t.stateNode=u):t.memoizedState=w0(t.type,l.memoizedProps,t.pendingProps,l.memoizedState),null;case 27:return Xn(t),l===null&&L&&(u=t.stateNode=L0(t.type,t.pendingProps,Lt.current),jl=t,ot=!0,e=il,da(t.type)?(Fi=e,il=mt(u.firstChild)):il=e),Bl(l,t,t.pendingProps.children,a),fn(l,t),l===null&&(t.flags|=4194304),t.child;case 5:return l===null&&L&&((e=u=il)&&(u=Um(u,t.type,t.pendingProps,ot),u!==null?(t.stateNode=u,jl=t,il=mt(u.firstChild),ot=!1,e=!0):e=!1),e||Ft(t)),Xn(t),e=t.type,n=t.pendingProps,c=l!==null?l.memoizedProps:null,u=n.children,Ki(e,n)?u=null:c!==null&&Ki(e,c)&&(t.flags|=32),t.memoizedState!==null&&(e=Lc(l,t,Zh,null,null,a),de._currentValue=e),fn(l,t),Bl(l,t,u,a),t.child;case 6:return l===null&&L&&((l=a=il)&&(a=pm(a,t.pendingProps,ot),a!==null?(t.stateNode=a,jl=t,il=null,l=!0):l=!1),l||Ft(t)),null;case 13:return qd(l,t,a);case 4:return be(t,t.stateNode.containerInfo),u=t.pendingProps,l===null?t.child=Na(t,null,u,a):Bl(l,t,u,a),t.child;case 11:return Dd(l,t,t.type,t.pendingProps,a);case 7:return Bl(l,t,t.pendingProps,a),t.child;case 8:return Bl(l,t,t.pendingProps.children,a),t.child;case 12:return Bl(l,t,t.pendingProps.children,a),t.child;case 10:return u=t.pendingProps,kt(t,t.type,u.value),Bl(l,t,u.children,a),t.child;case 9:return e=t.type._context,u=t.pendingProps.children,Oa(t),e=ql(e),u=u(e),t.flags|=1,Bl(l,t,u,a),t.child;case 14:return Md(l,t,t.type,t.pendingProps,a);case 15:return Od(l,t,t.type,t.pendingProps,a);case 19:return Cd(l,t,a);case 31:return Fh(l,t,a);case 22:return Ud(l,t,a,t.pendingProps);case 24:return Oa(t),u=ql(zl),l===null?(e=Bc(),e===null&&(e=el,n=jc(),e.pooledCache=n,n.refCount++,n!==null&&(e.pooledCacheLanes|=a),e=n),t.memoizedState={parent:u,cache:e},Rc(t),kt(t,zl,e)):((l.lanes&a)!==0&&(Yc(l,t),Lu(t,null,null,a),Vu()),e=l.memoizedState,n=t.memoizedState,e.parent!==u?(e={parent:u,cache:u},t.memoizedState=e,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=e),kt(t,zl,u)):(u=n.cache,kt(t,zl,u),u!==e.cache&&Hc(t,[zl],a,!0))),Bl(l,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Bt(l){l.flags|=4}function ri(l,t,a,u,e){if((t=(l.mode&32)!==0)&&(t=!1),t){if(l.flags|=16777216,(e&335544128)===e)if(l.stateNode.complete)l.flags|=8192;else if(s0())l.flags|=8192;else throw _a=Je,Cc}else l.flags&=-16777217}function Yd(l,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!I0(t))if(s0())l.flags|=8192;else throw _a=Je,Cc}function dn(l,t){t!==null&&(l.flags|=4),l.flags&16384&&(t=l.tag!==22?gf():536870912,l.lanes|=t,ou|=t)}function Fu(l,t){if(!L)switch(l.tailMode){case"hidden":t=l.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?l.tail=null:a.sibling=null;break;case"collapsed":a=l.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?t||l.tail===null?l.tail=null:l.tail.sibling=null:u.sibling=null}}function fl(l){var t=l.alternate!==null&&l.alternate.child===l.child,a=0,u=0;if(t)for(var e=l.child;e!==null;)a|=e.lanes|e.childLanes,u|=e.subtreeFlags&65011712,u|=e.flags&65011712,e.return=l,e=e.sibling;else for(e=l.child;e!==null;)a|=e.lanes|e.childLanes,u|=e.subtreeFlags,u|=e.flags,e.return=l,e=e.sibling;return l.subtreeFlags|=u,l.childLanes=a,t}function Ih(l,t,a){var u=t.pendingProps;switch(Oc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fl(t),null;case 1:return fl(t),null;case 3:return a=t.stateNode,u=null,l!==null&&(u=l.memoizedState.cache),t.memoizedState.cache!==u&&(t.flags|=2048),Nt(zl),Ca(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(l===null||l.child===null)&&(Ia(t)?Bt(t):l===null||l.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,pc())),fl(t),null;case 26:var e=t.type,n=t.memoizedState;return l===null?(Bt(t),n!==null?(fl(t),Yd(t,n)):(fl(t),ri(t,e,null,u,a))):n?n!==l.memoizedState?(Bt(t),fl(t),Yd(t,n)):(fl(t),t.flags&=-16777217):(l=l.memoizedProps,l!==u&&Bt(t),fl(t),ri(t,e,l,u,a)),null;case 27:if(ze(t),a=Lt.current,e=t.type,l!==null&&t.stateNode!=null)l.memoizedProps!==u&&Bt(t);else{if(!u){if(t.stateNode===null)throw Error(s(166));return fl(t),null}l=Ml.current,Ia(t)?gs(t):(l=L0(e,u,a),t.stateNode=l,Bt(t))}return fl(t),null;case 5:if(ze(t),e=t.type,l!==null&&t.stateNode!=null)l.memoizedProps!==u&&Bt(t);else{if(!u){if(t.stateNode===null)throw Error(s(166));return fl(t),null}if(n=Ml.current,Ia(t))gs(t);else{var c=Mn(Lt.current);switch(n){case 1:n=c.createElementNS("http://www.w3.org/2000/svg",e);break;case 2:n=c.createElementNS("http://www.w3.org/1998/Math/MathML",e);break;default:switch(e){case"svg":n=c.createElementNS("http://www.w3.org/2000/svg",e);break;case"math":n=c.createElementNS("http://www.w3.org/1998/Math/MathML",e);break;case"script":n=c.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?c.createElement("select",{is:u.is}):c.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?c.createElement(e,{is:u.is}):c.createElement(e)}}n[Hl]=t,n[Xl]=u;l:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break l;for(;c.sibling===null;){if(c.return===null||c.return===t)break l;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=n;l:switch(Cl(n,e,u),e){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break l;case"img":u=!0;break l;default:u=!1}u&&Bt(t)}}return fl(t),ri(t,t.type,l===null?null:l.memoizedProps,t.pendingProps,a),null;case 6:if(l&&t.stateNode!=null)l.memoizedProps!==u&&Bt(t);else{if(typeof u!="string"&&t.stateNode===null)throw Error(s(166));if(l=Lt.current,Ia(t)){if(l=t.stateNode,a=t.memoizedProps,u=null,e=jl,e!==null)switch(e.tag){case 27:case 5:u=e.memoizedProps}l[Hl]=t,l=!!(l.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||q0(l.nodeValue,a)),l||Ft(t,!0)}else l=Mn(l).createTextNode(u),l[Hl]=t,t.stateNode=l}return fl(t),null;case 31:if(a=t.memoizedState,l===null||l.memoizedState!==null){if(u=Ia(t),a!==null){if(l===null){if(!u)throw Error(s(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(557));l[Hl]=t}else Da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;fl(t),l=!1}else a=pc(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=a),l=!0;if(!l)return t.flags&256?(lt(t),t):(lt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return fl(t),null;case 13:if(u=t.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(e=Ia(t),u!==null&&u.dehydrated!==null){if(l===null){if(!e)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e[Hl]=t}else Da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else e=pc(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=e),e=!0;if(!e)return t.flags&256?(lt(t),t):(lt(t),null)}return lt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=u!==null,l=l!==null&&l.memoizedState!==null,a&&(u=t.child,e=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(e=u.alternate.memoizedState.cachePool.pool),n=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(n=u.memoizedState.cachePool.pool),n!==e&&(u.flags|=2048)),a!==l&&a&&(t.child.flags|=8192),dn(t,t.updateQueue),fl(t),null);case 4:return Ca(),l===null&&Gi(t.stateNode.containerInfo),fl(t),null;case 10:return Nt(t.type),fl(t),null;case 19:if(ol(Sl),u=t.memoizedState,u===null)return fl(t),null;if(e=(t.flags&128)!==0,n=u.rendering,n===null)if(e)Fu(u,!1);else{if(vl!==0||l!==null&&(l.flags&128)!==0)for(l=t.child;l!==null;){if(n=Fe(l),n!==null){for(t.flags|=128,Fu(u,!1),l=n.updateQueue,t.updateQueue=l,dn(t,l),t.subtreeFlags=0,l=a,a=t.child;a!==null;)os(a,l),a=a.sibling;return k(Sl,Sl.current&1|2),L&&pt(t,u.treeForkCount),t.child}l=l.sibling}u.tail!==null&&Wl()>yn&&(t.flags|=128,e=!0,Fu(u,!1),t.lanes=4194304)}else{if(!e)if(l=Fe(n),l!==null){if(t.flags|=128,e=!0,l=l.updateQueue,t.updateQueue=l,dn(t,l),Fu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!n.alternate&&!L)return fl(t),null}else 2*Wl()-u.renderingStartTime>yn&&a!==536870912&&(t.flags|=128,e=!0,Fu(u,!1),t.lanes=4194304);u.isBackwards?(n.sibling=t.child,t.child=n):(l=u.last,l!==null?l.sibling=n:t.child=n,u.last=n)}return u.tail!==null?(l=u.tail,u.rendering=l,u.tail=l.sibling,u.renderingStartTime=Wl(),l.sibling=null,a=Sl.current,k(Sl,e?a&1|2:a&1),L&&pt(t,u.treeForkCount),l):(fl(t),null);case 22:case 23:return lt(t),Xc(),u=t.memoizedState!==null,l!==null?l.memoizedState!==null!==u&&(t.flags|=8192):u&&(t.flags|=8192),u?(a&536870912)!==0&&(t.flags&128)===0&&(fl(t),t.subtreeFlags&6&&(t.flags|=8192)):fl(t),a=t.updateQueue,a!==null&&dn(t,a.retryQueue),a=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),u=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(u=t.memoizedState.cachePool.pool),u!==a&&(t.flags|=2048),l!==null&&ol(Ua),null;case 24:return a=null,l!==null&&(a=l.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Nt(zl),fl(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Ph(l,t){switch(Oc(t),t.tag){case 1:return l=t.flags,l&65536?(t.flags=l&-65537|128,t):null;case 3:return Nt(zl),Ca(),l=t.flags,(l&65536)!==0&&(l&128)===0?(t.flags=l&-65537|128,t):null;case 26:case 27:case 5:return ze(t),null;case 31:if(t.memoizedState!==null){if(lt(t),t.alternate===null)throw Error(s(340));Da()}return l=t.flags,l&65536?(t.flags=l&-65537|128,t):null;case 13:if(lt(t),l=t.memoizedState,l!==null&&l.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Da()}return l=t.flags,l&65536?(t.flags=l&-65537|128,t):null;case 19:return ol(Sl),null;case 4:return Ca(),null;case 10:return Nt(t.type),null;case 22:case 23:return lt(t),Xc(),l!==null&&ol(Ua),l=t.flags,l&65536?(t.flags=l&-65537|128,t):null;case 24:return Nt(zl),null;case 25:return null;default:return null}}function xd(l,t){switch(Oc(t),t.tag){case 3:Nt(zl),Ca();break;case 26:case 27:case 5:ze(t);break;case 4:Ca();break;case 31:t.memoizedState!==null&&lt(t);break;case 13:lt(t);break;case 19:ol(Sl);break;case 10:Nt(t.type);break;case 22:case 23:lt(t),Xc(),l!==null&&ol(Ua);break;case 24:Nt(zl)}}function ku(l,t){try{var a=t.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var e=u.next;a=e;do{if((a.tag&l)===l){u=void 0;var n=a.create,c=a.inst;u=n(),c.destroy=u}a=a.next}while(a!==e)}}catch(i){P(t,t.return,i)}}function ua(l,t,a){try{var u=t.updateQueue,e=u!==null?u.lastEffect:null;if(e!==null){var n=e.next;u=n;do{if((u.tag&l)===l){var c=u.inst,i=c.destroy;if(i!==void 0){c.destroy=void 0,e=t;var f=a,v=i;try{v()}catch(S){P(e,f,S)}}}u=u.next}while(u!==n)}}catch(S){P(t,t.return,S)}}function Qd(l){var t=l.updateQueue;if(t!==null){var a=l.stateNode;try{_s(t,a)}catch(u){P(l,l.return,u)}}}function Gd(l,t,a){a.props=ja(l.type,l.memoizedProps),a.state=l.memoizedState;try{a.componentWillUnmount()}catch(u){P(l,t,u)}}function Iu(l,t){try{var a=l.ref;if(a!==null){switch(l.tag){case 26:case 27:case 5:var u=l.stateNode;break;case 30:u=l.stateNode;break;default:u=l.stateNode}typeof a=="function"?l.refCleanup=a(u):a.current=u}}catch(e){P(l,t,e)}}function Tt(l,t){var a=l.ref,u=l.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(e){P(l,t,e)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(e){P(l,t,e)}else a.current=null}function Xd(l){var t=l.type,a=l.memoizedProps,u=l.stateNode;try{l:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break l;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(e){P(l,l.return,e)}}function bi(l,t,a){try{var u=l.stateNode;Tm(u,l.type,a,t),u[Xl]=t}catch(e){P(l,l.return,e)}}function Zd(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&da(l.type)||l.tag===4}function zi(l){l:for(;;){for(;l.sibling===null;){if(l.return===null||Zd(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&da(l.type)||l.flags&2||l.child===null||l.tag===4)continue l;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Ti(l,t,a){var u=l.tag;if(u===5||u===6)l=l.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(l,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(l),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Mt));else if(u!==4&&(u===27&&da(l.type)&&(a=l.stateNode,t=null),l=l.child,l!==null))for(Ti(l,t,a),l=l.sibling;l!==null;)Ti(l,t,a),l=l.sibling}function on(l,t,a){var u=l.tag;if(u===5||u===6)l=l.stateNode,t?a.insertBefore(l,t):a.appendChild(l);else if(u!==4&&(u===27&&da(l.type)&&(a=l.stateNode),l=l.child,l!==null))for(on(l,t,a),l=l.sibling;l!==null;)on(l,t,a),l=l.sibling}function Vd(l){var t=l.stateNode,a=l.memoizedProps;try{for(var u=l.type,e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Cl(t,u,a),t[Hl]=l,t[Xl]=a}catch(n){P(l,l.return,n)}}var Ct=!1,El=!1,Ai=!1,Ld=typeof WeakSet=="function"?WeakSet:Set,Ul=null;function lm(l,t){if(l=l.containerInfo,Vi=jn,l=as(l),yc(l)){if("selectionStart"in l)var a={start:l.selectionStart,end:l.selectionEnd};else l:{a=(a=l.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var e=u.anchorOffset,n=u.focusNode;u=u.focusOffset;try{a.nodeType,n.nodeType}catch{a=null;break l}var c=0,i=-1,f=-1,v=0,S=0,z=l,y=null;t:for(;;){for(var g;z!==a||e!==0&&z.nodeType!==3||(i=c+e),z!==n||u!==0&&z.nodeType!==3||(f=c+u),z.nodeType===3&&(c+=z.nodeValue.length),(g=z.firstChild)!==null;)y=z,z=g;for(;;){if(z===l)break t;if(y===a&&++v===e&&(i=c),y===n&&++S===u&&(f=c),(g=z.nextSibling)!==null)break;z=y,y=z.parentNode}z=g}a=i===-1||f===-1?null:{start:i,end:f}}else a=null}a=a||{start:0,end:0}}else a=null;for(Li={focusedElem:l,selectionRange:a},jn=!1,Ul=t;Ul!==null;)if(t=Ul,l=t.child,(t.subtreeFlags&1028)!==0&&l!==null)l.return=t,Ul=l;else for(;Ul!==null;){switch(t=Ul,n=t.alternate,l=t.flags,t.tag){case 0:if((l&4)!==0&&(l=t.updateQueue,l=l!==null?l.events:null,l!==null))for(a=0;a<l.length;a++)e=l[a],e.ref.impl=e.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&n!==null){l=void 0,a=t,e=n.memoizedProps,n=n.memoizedState,u=a.stateNode;try{var p=ja(a.type,e);l=u.getSnapshotBeforeUpdate(p,n),u.__reactInternalSnapshotBeforeUpdate=l}catch(q){P(a,a.return,q)}}break;case 3:if((l&1024)!==0){if(l=t.stateNode.containerInfo,a=l.nodeType,a===9)wi(l);else if(a===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":wi(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(s(163))}if(l=t.sibling,l!==null){l.return=t.return,Ul=l;break}Ul=t.return}}function Kd(l,t,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Yt(l,a),u&4&&ku(5,a);break;case 1:if(Yt(l,a),u&4)if(l=a.stateNode,t===null)try{l.componentDidMount()}catch(c){P(a,a.return,c)}else{var e=ja(a.type,t.memoizedProps);t=t.memoizedState;try{l.componentDidUpdate(e,t,l.__reactInternalSnapshotBeforeUpdate)}catch(c){P(a,a.return,c)}}u&64&&Qd(a),u&512&&Iu(a,a.return);break;case 3:if(Yt(l,a),u&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{_s(l,t)}catch(c){P(a,a.return,c)}}break;case 27:t===null&&u&4&&Vd(a);case 26:case 5:Yt(l,a),t===null&&u&4&&Xd(a),u&512&&Iu(a,a.return);break;case 12:Yt(l,a);break;case 31:Yt(l,a),u&4&&Wd(l,a);break;case 13:Yt(l,a),u&4&&$d(l,a),u&64&&(l=a.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(a=sm.bind(null,a),_m(l,a))));break;case 22:if(u=a.memoizedState!==null||Ct,!u){t=t!==null&&t.memoizedState!==null||El,e=Ct;var n=El;Ct=u,(El=t)&&!n?xt(l,a,(a.subtreeFlags&8772)!==0):Yt(l,a),Ct=e,El=n}break;case 30:break;default:Yt(l,a)}}function Jd(l){var t=l.alternate;t!==null&&(l.alternate=null,Jd(t)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(t=l.stateNode,t!==null&&In(t)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var dl=null,Vl=!1;function Rt(l,t,a){for(a=a.child;a!==null;)wd(l,t,a),a=a.sibling}function wd(l,t,a){if($l&&typeof $l.onCommitFiberUnmount=="function")try{$l.onCommitFiberUnmount(Au,a)}catch{}switch(a.tag){case 26:El||Tt(a,t),Rt(l,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:El||Tt(a,t);var u=dl,e=Vl;da(a.type)&&(dl=a.stateNode,Vl=!1),Rt(l,t,a),ie(a.stateNode),dl=u,Vl=e;break;case 5:El||Tt(a,t);case 6:if(u=dl,e=Vl,dl=null,Rt(l,t,a),dl=u,Vl=e,dl!==null)if(Vl)try{(dl.nodeType===9?dl.body:dl.nodeName==="HTML"?dl.ownerDocument.body:dl).removeChild(a.stateNode)}catch(n){P(a,t,n)}else try{dl.removeChild(a.stateNode)}catch(n){P(a,t,n)}break;case 18:dl!==null&&(Vl?(l=dl,Q0(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.stateNode),bu(l)):Q0(dl,a.stateNode));break;case 4:u=dl,e=Vl,dl=a.stateNode.containerInfo,Vl=!0,Rt(l,t,a),dl=u,Vl=e;break;case 0:case 11:case 14:case 15:ua(2,a,t),El||ua(4,a,t),Rt(l,t,a);break;case 1:El||(Tt(a,t),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Gd(a,t,u)),Rt(l,t,a);break;case 21:Rt(l,t,a);break;case 22:El=(u=El)||a.memoizedState!==null,Rt(l,t,a),El=u;break;default:Rt(l,t,a)}}function Wd(l,t){if(t.memoizedState===null&&(l=t.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{bu(l)}catch(a){P(t,t.return,a)}}}function $d(l,t){if(t.memoizedState===null&&(l=t.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{bu(l)}catch(a){P(t,t.return,a)}}function tm(l){switch(l.tag){case 31:case 13:case 19:var t=l.stateNode;return t===null&&(t=l.stateNode=new Ld),t;case 22:return l=l.stateNode,t=l._retryCache,t===null&&(t=l._retryCache=new Ld),t;default:throw Error(s(435,l.tag))}}function hn(l,t){var a=tm(l);t.forEach(function(u){if(!a.has(u)){a.add(u);var e=dm.bind(null,l,u);u.then(e,e)}})}function Ll(l,t){var a=t.deletions;if(a!==null)for(var u=0;u<a.length;u++){var e=a[u],n=l,c=t,i=c;l:for(;i!==null;){switch(i.tag){case 27:if(da(i.type)){dl=i.stateNode,Vl=!1;break l}break;case 5:dl=i.stateNode,Vl=!1;break l;case 3:case 4:dl=i.stateNode.containerInfo,Vl=!0;break l}i=i.return}if(dl===null)throw Error(s(160));wd(n,c,e),dl=null,Vl=!1,n=e.alternate,n!==null&&(n.return=null),e.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Fd(t,l),t=t.sibling}var gt=null;function Fd(l,t){var a=l.alternate,u=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ll(t,l),Kl(l),u&4&&(ua(3,l,l.return),ku(3,l),ua(5,l,l.return));break;case 1:Ll(t,l),Kl(l),u&512&&(El||a===null||Tt(a,a.return)),u&64&&Ct&&(l=l.updateQueue,l!==null&&(u=l.callbacks,u!==null&&(a=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var e=gt;if(Ll(t,l),Kl(l),u&512&&(El||a===null||Tt(a,a.return)),u&4){var n=a!==null?a.memoizedState:null;if(u=l.memoizedState,a===null)if(u===null)if(l.stateNode===null){l:{u=l.type,a=l.memoizedProps,e=e.ownerDocument||e;t:switch(u){case"title":n=e.getElementsByTagName("title")[0],(!n||n[Mu]||n[Hl]||n.namespaceURI==="http://www.w3.org/2000/svg"||n.hasAttribute("itemprop"))&&(n=e.createElement(u),e.head.insertBefore(n,e.querySelector("head > title"))),Cl(n,u,a),n[Hl]=l,Ol(n),u=n;break l;case"link":var c=F0("link","href",e).get(u+(a.href||""));if(c){for(var i=0;i<c.length;i++)if(n=c[i],n.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&n.getAttribute("rel")===(a.rel==null?null:a.rel)&&n.getAttribute("title")===(a.title==null?null:a.title)&&n.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){c.splice(i,1);break t}}n=e.createElement(u),Cl(n,u,a),e.head.appendChild(n);break;case"meta":if(c=F0("meta","content",e).get(u+(a.content||""))){for(i=0;i<c.length;i++)if(n=c[i],n.getAttribute("content")===(a.content==null?null:""+a.content)&&n.getAttribute("name")===(a.name==null?null:a.name)&&n.getAttribute("property")===(a.property==null?null:a.property)&&n.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&n.getAttribute("charset")===(a.charSet==null?null:a.charSet)){c.splice(i,1);break t}}n=e.createElement(u),Cl(n,u,a),e.head.appendChild(n);break;default:throw Error(s(468,u))}n[Hl]=l,Ol(n),u=n}l.stateNode=u}else k0(e,l.type,l.stateNode);else l.stateNode=$0(e,u,l.memoizedProps);else n!==u?(n===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):n.count--,u===null?k0(e,l.type,l.stateNode):$0(e,u,l.memoizedProps)):u===null&&l.stateNode!==null&&bi(l,l.memoizedProps,a.memoizedProps)}break;case 27:Ll(t,l),Kl(l),u&512&&(El||a===null||Tt(a,a.return)),a!==null&&u&4&&bi(l,l.memoizedProps,a.memoizedProps);break;case 5:if(Ll(t,l),Kl(l),u&512&&(El||a===null||Tt(a,a.return)),l.flags&32){e=l.stateNode;try{Za(e,"")}catch(p){P(l,l.return,p)}}u&4&&l.stateNode!=null&&(e=l.memoizedProps,bi(l,e,a!==null?a.memoizedProps:e)),u&1024&&(Ai=!0);break;case 6:if(Ll(t,l),Kl(l),u&4){if(l.stateNode===null)throw Error(s(162));u=l.memoizedProps,a=l.stateNode;try{a.nodeValue=u}catch(p){P(l,l.return,p)}}break;case 3:if(pn=null,e=gt,gt=On(t.containerInfo),Ll(t,l),gt=e,Kl(l),u&4&&a!==null&&a.memoizedState.isDehydrated)try{bu(t.containerInfo)}catch(p){P(l,l.return,p)}Ai&&(Ai=!1,kd(l));break;case 4:u=gt,gt=On(l.stateNode.containerInfo),Ll(t,l),Kl(l),gt=u;break;case 12:Ll(t,l),Kl(l);break;case 31:Ll(t,l),Kl(l),u&4&&(u=l.updateQueue,u!==null&&(l.updateQueue=null,hn(l,u)));break;case 13:Ll(t,l),Kl(l),l.child.flags&8192&&l.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vn=Wl()),u&4&&(u=l.updateQueue,u!==null&&(l.updateQueue=null,hn(l,u)));break;case 22:e=l.memoizedState!==null;var f=a!==null&&a.memoizedState!==null,v=Ct,S=El;if(Ct=v||e,El=S||f,Ll(t,l),El=S,Ct=v,Kl(l),u&8192)l:for(t=l.stateNode,t._visibility=e?t._visibility&-2:t._visibility|1,e&&(a===null||f||Ct||El||qa(l)),a=null,t=l;;){if(t.tag===5||t.tag===26){if(a===null){f=a=t;try{if(n=f.stateNode,e)c=n.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{i=f.stateNode;var z=f.memoizedProps.style,y=z!=null&&z.hasOwnProperty("display")?z.display:null;i.style.display=y==null||typeof y=="boolean"?"":(""+y).trim()}}catch(p){P(f,f.return,p)}}}else if(t.tag===6){if(a===null){f=t;try{f.stateNode.nodeValue=e?"":f.memoizedProps}catch(p){P(f,f.return,p)}}}else if(t.tag===18){if(a===null){f=t;try{var g=f.stateNode;e?G0(g,!0):G0(f.stateNode,!1)}catch(p){P(f,f.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===l)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===l)break l;for(;t.sibling===null;){if(t.return===null||t.return===l)break l;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}u&4&&(u=l.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,hn(l,a))));break;case 19:Ll(t,l),Kl(l),u&4&&(u=l.updateQueue,u!==null&&(l.updateQueue=null,hn(l,u)));break;case 30:break;case 21:break;default:Ll(t,l),Kl(l)}}function Kl(l){var t=l.flags;if(t&2){try{for(var a,u=l.return;u!==null;){if(Zd(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var e=a.stateNode,n=zi(l);on(l,n,e);break;case 5:var c=a.stateNode;a.flags&32&&(Za(c,""),a.flags&=-33);var i=zi(l);on(l,i,c);break;case 3:case 4:var f=a.stateNode.containerInfo,v=zi(l);Ti(l,v,f);break;default:throw Error(s(161))}}catch(S){P(l,l.return,S)}l.flags&=-3}t&4096&&(l.flags&=-4097)}function kd(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var t=l;kd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),l=l.sibling}}function Yt(l,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Kd(l,t.alternate,t),t=t.sibling}function qa(l){for(l=l.child;l!==null;){var t=l;switch(t.tag){case 0:case 11:case 14:case 15:ua(4,t,t.return),qa(t);break;case 1:Tt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Gd(t,t.return,a),qa(t);break;case 27:ie(t.stateNode);case 26:case 5:Tt(t,t.return),qa(t);break;case 22:t.memoizedState===null&&qa(t);break;case 30:qa(t);break;default:qa(t)}l=l.sibling}}function xt(l,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var u=t.alternate,e=l,n=t,c=n.flags;switch(n.tag){case 0:case 11:case 15:xt(e,n,a),ku(4,n);break;case 1:if(xt(e,n,a),u=n,e=u.stateNode,typeof e.componentDidMount=="function")try{e.componentDidMount()}catch(v){P(u,u.return,v)}if(u=n,e=u.updateQueue,e!==null){var i=u.stateNode;try{var f=e.shared.hiddenCallbacks;if(f!==null)for(e.shared.hiddenCallbacks=null,e=0;e<f.length;e++)ps(f[e],i)}catch(v){P(u,u.return,v)}}a&&c&64&&Qd(n),Iu(n,n.return);break;case 27:Vd(n);case 26:case 5:xt(e,n,a),a&&u===null&&c&4&&Xd(n),Iu(n,n.return);break;case 12:xt(e,n,a);break;case 31:xt(e,n,a),a&&c&4&&Wd(e,n);break;case 13:xt(e,n,a),a&&c&4&&$d(e,n);break;case 22:n.memoizedState===null&&xt(e,n,a),Iu(n,n.return);break;case 30:break;default:xt(e,n,a)}t=t.sibling}}function Ei(l,t){var a=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(l!=null&&l.refCount++,a!=null&&xu(a))}function Di(l,t){l=null,t.alternate!==null&&(l=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==l&&(t.refCount++,l!=null&&xu(l))}function St(l,t,a,u){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Id(l,t,a,u),t=t.sibling}function Id(l,t,a,u){var e=t.flags;switch(t.tag){case 0:case 11:case 15:St(l,t,a,u),e&2048&&ku(9,t);break;case 1:St(l,t,a,u);break;case 3:St(l,t,a,u),e&2048&&(l=null,t.alternate!==null&&(l=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==l&&(t.refCount++,l!=null&&xu(l)));break;case 12:if(e&2048){St(l,t,a,u),l=t.stateNode;try{var n=t.memoizedProps,c=n.id,i=n.onPostCommit;typeof i=="function"&&i(c,t.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(f){P(t,t.return,f)}}else St(l,t,a,u);break;case 31:St(l,t,a,u);break;case 13:St(l,t,a,u);break;case 23:break;case 22:n=t.stateNode,c=t.alternate,t.memoizedState!==null?n._visibility&2?St(l,t,a,u):Pu(l,t):n._visibility&2?St(l,t,a,u):(n._visibility|=2,fu(l,t,a,u,(t.subtreeFlags&10256)!==0||!1)),e&2048&&Ei(c,t);break;case 24:St(l,t,a,u),e&2048&&Di(t.alternate,t);break;default:St(l,t,a,u)}}function fu(l,t,a,u,e){for(e=e&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var n=l,c=t,i=a,f=u,v=c.flags;switch(c.tag){case 0:case 11:case 15:fu(n,c,i,f,e),ku(8,c);break;case 23:break;case 22:var S=c.stateNode;c.memoizedState!==null?S._visibility&2?fu(n,c,i,f,e):Pu(n,c):(S._visibility|=2,fu(n,c,i,f,e)),e&&v&2048&&Ei(c.alternate,c);break;case 24:fu(n,c,i,f,e),e&&v&2048&&Di(c.alternate,c);break;default:fu(n,c,i,f,e)}t=t.sibling}}function Pu(l,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=l,u=t,e=u.flags;switch(u.tag){case 22:Pu(a,u),e&2048&&Ei(u.alternate,u);break;case 24:Pu(a,u),e&2048&&Di(u.alternate,u);break;default:Pu(a,u)}t=t.sibling}}var le=8192;function su(l,t,a){if(l.subtreeFlags&le)for(l=l.child;l!==null;)Pd(l,t,a),l=l.sibling}function Pd(l,t,a){switch(l.tag){case 26:su(l,t,a),l.flags&le&&l.memoizedState!==null&&Xm(a,gt,l.memoizedState,l.memoizedProps);break;case 5:su(l,t,a);break;case 3:case 4:var u=gt;gt=On(l.stateNode.containerInfo),su(l,t,a),gt=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=le,le=16777216,su(l,t,a),le=u):su(l,t,a));break;default:su(l,t,a)}}function l0(l){var t=l.alternate;if(t!==null&&(l=t.child,l!==null)){t.child=null;do t=l.sibling,l.sibling=null,l=t;while(l!==null)}}function te(l){var t=l.deletions;if((l.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var u=t[a];Ul=u,a0(u,l)}l0(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)t0(l),l=l.sibling}function t0(l){switch(l.tag){case 0:case 11:case 15:te(l),l.flags&2048&&ua(9,l,l.return);break;case 3:te(l);break;case 12:te(l);break;case 22:var t=l.stateNode;l.memoizedState!==null&&t._visibility&2&&(l.return===null||l.return.tag!==13)?(t._visibility&=-3,mn(l)):te(l);break;default:te(l)}}function mn(l){var t=l.deletions;if((l.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var u=t[a];Ul=u,a0(u,l)}l0(l)}for(l=l.child;l!==null;){switch(t=l,t.tag){case 0:case 11:case 15:ua(8,t,t.return),mn(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,mn(t));break;default:mn(t)}l=l.sibling}}function a0(l,t){for(;Ul!==null;){var a=Ul;switch(a.tag){case 0:case 11:case 15:ua(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xu(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Ul=u;else l:for(a=l;Ul!==null;){u=Ul;var e=u.sibling,n=u.return;if(Jd(u),u===a){Ul=null;break l}if(e!==null){e.return=n,Ul=e;break l}Ul=n}}}var am={getCacheForType:function(l){var t=ql(zl),a=t.data.get(l);return a===void 0&&(a=l(),t.data.set(l,a)),a},cacheSignal:function(){return ql(zl).controller.signal}},um=typeof WeakMap=="function"?WeakMap:Map,$=0,el=null,Q=null,X=0,I=0,tt=null,ea=!1,du=!1,Mi=!1,Qt=0,vl=0,na=0,Ba=0,Oi=0,at=0,ou=0,ae=null,Jl=null,Ui=!1,vn=0,u0=0,yn=1/0,gn=null,ca=null,Dl=0,ia=null,hu=null,Gt=0,pi=0,_i=null,e0=null,ue=0,Ni=null;function ut(){return($&2)!==0&&X!==0?X&-X:b.T!==null?Ri():zf()}function n0(){if(at===0)if((X&536870912)===0||L){var l=Ee;Ee<<=1,(Ee&3932160)===0&&(Ee=262144),at=l}else at=536870912;return l=Pl.current,l!==null&&(l.flags|=32),at}function wl(l,t,a){(l===el&&(I===2||I===9)||l.cancelPendingCommit!==null)&&(mu(l,0),fa(l,X,at,!1)),Du(l,a),(($&2)===0||l!==el)&&(l===el&&(($&2)===0&&(Ba|=a),vl===4&&fa(l,X,at,!1)),At(l))}function c0(l,t,a){if(($&6)!==0)throw Error(s(327));var u=!a&&(t&127)===0&&(t&l.expiredLanes)===0||Eu(l,t),e=u?cm(l,t):ji(l,t,!0),n=u;do{if(e===0){du&&!u&&fa(l,t,0,!1);break}else{if(a=l.current.alternate,n&&!em(a)){e=ji(l,t,!1),n=!1;continue}if(e===2){if(n=t,l.errorRecoveryDisabledLanes&n)var c=0;else c=l.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;l:{var i=l;e=ae;var f=i.current.memoizedState.isDehydrated;if(f&&(mu(i,c).flags|=256),c=ji(i,c,!1),c!==2){if(Mi&&!f){i.errorRecoveryDisabledLanes|=n,Ba|=n,e=4;break l}n=Jl,Jl=e,n!==null&&(Jl===null?Jl=n:Jl.push.apply(Jl,n))}e=c}if(n=!1,e!==2)continue}}if(e===1){mu(l,0),fa(l,t,0,!0);break}l:{switch(u=l,n=e,n){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:fa(u,t,at,!ea);break l;case 2:Jl=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(e=vn+300-Wl(),10<e)){if(fa(u,t,at,!ea),Me(u,0,!0)!==0)break l;Gt=t,u.timeoutHandle=Y0(i0.bind(null,u,a,Jl,gn,Ui,t,at,Ba,ou,ea,n,"Throttled",-0,0),e);break l}i0(u,a,Jl,gn,Ui,t,at,Ba,ou,ea,n,null,-0,0)}}break}while(!0);At(l)}function i0(l,t,a,u,e,n,c,i,f,v,S,z,y,g){if(l.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mt},Pd(t,n,z);var p=(n&62914560)===n?vn-Wl():(n&4194048)===n?u0-Wl():0;if(p=Zm(z,p),p!==null){Gt=n,l.cancelPendingCommit=p(y0.bind(null,l,t,n,a,u,e,c,i,f,S,z,null,y,g)),fa(l,n,c,!v);return}}y0(l,t,n,a,u,e,c,i,f)}function em(l){for(var t=l;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var e=a[u],n=e.getSnapshot;e=e.value;try{if(!kl(n(),e))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===l)break;for(;t.sibling===null;){if(t.return===null||t.return===l)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fa(l,t,a,u){t&=~Oi,t&=~Ba,l.suspendedLanes|=t,l.pingedLanes&=~t,u&&(l.warmLanes|=t),u=l.expirationTimes;for(var e=t;0<e;){var n=31-Fl(e),c=1<<n;u[n]=-1,e&=~c}a!==0&&Sf(l,a,t)}function Sn(){return($&6)===0?(ee(0),!1):!0}function Hi(){if(Q!==null){if(I===0)var l=Q.return;else l=Q,_t=Ma=null,wc(l),uu=null,Gu=0,l=Q;for(;l!==null;)xd(l.alternate,l),l=l.return;Q=null}}function mu(l,t){var a=l.timeoutHandle;a!==-1&&(l.timeoutHandle=-1,Dm(a)),a=l.cancelPendingCommit,a!==null&&(l.cancelPendingCommit=null,a()),Gt=0,Hi(),el=l,Q=a=Ut(l.current,null),X=t,I=0,tt=null,ea=!1,du=Eu(l,t),Mi=!1,ou=at=Oi=Ba=na=vl=0,Jl=ae=null,Ui=!1,(t&8)!==0&&(t|=t&32);var u=l.entangledLanes;if(u!==0)for(l=l.entanglements,u&=t;0<u;){var e=31-Fl(u),n=1<<e;t|=l[e],u&=~n}return Qt=t,Ye(),a}function f0(l,t){R=null,b.H=Wu,t===au||t===Ke?(t=Ds(),I=3):t===Cc?(t=Ds(),I=4):I=t===si?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tt=t,Q===null&&(vl=1,nn(l,ft(t,l.current)))}function s0(){var l=Pl.current;return l===null?!0:(X&4194048)===X?ht===null:(X&62914560)===X||(X&536870912)!==0?l===ht:!1}function d0(){var l=b.H;return b.H=Wu,l===null?Wu:l}function o0(){var l=b.A;return b.A=am,l}function rn(){vl=4,ea||(X&4194048)!==X&&Pl.current!==null||(du=!0),(na&134217727)===0&&(Ba&134217727)===0||el===null||fa(el,X,at,!1)}function ji(l,t,a){var u=$;$|=2;var e=d0(),n=o0();(el!==l||X!==t)&&(gn=null,mu(l,t)),t=!1;var c=vl;l:do try{if(I!==0&&Q!==null){var i=Q,f=tt;switch(I){case 8:Hi(),c=6;break l;case 3:case 2:case 9:case 6:Pl.current===null&&(t=!0);var v=I;if(I=0,tt=null,vu(l,i,f,v),a&&du){c=0;break l}break;default:v=I,I=0,tt=null,vu(l,i,f,v)}}nm(),c=vl;break}catch(S){f0(l,S)}while(!0);return t&&l.shellSuspendCounter++,_t=Ma=null,$=u,b.H=e,b.A=n,Q===null&&(el=null,X=0,Ye()),c}function nm(){for(;Q!==null;)h0(Q)}function cm(l,t){var a=$;$|=2;var u=d0(),e=o0();el!==l||X!==t?(gn=null,yn=Wl()+500,mu(l,t)):du=Eu(l,t);l:do try{if(I!==0&&Q!==null){t=Q;var n=tt;t:switch(I){case 1:I=0,tt=null,vu(l,t,n,1);break;case 2:case 9:if(As(n)){I=0,tt=null,m0(t);break}t=function(){I!==2&&I!==9||el!==l||(I=7),At(l)},n.then(t,t);break l;case 3:I=7;break l;case 4:I=5;break l;case 7:As(n)?(I=0,tt=null,m0(t)):(I=0,tt=null,vu(l,t,n,7));break;case 5:var c=null;switch(Q.tag){case 26:c=Q.memoizedState;case 5:case 27:var i=Q;if(c?I0(c):i.stateNode.complete){I=0,tt=null;var f=i.sibling;if(f!==null)Q=f;else{var v=i.return;v!==null?(Q=v,bn(v)):Q=null}break t}}I=0,tt=null,vu(l,t,n,5);break;case 6:I=0,tt=null,vu(l,t,n,6);break;case 8:Hi(),vl=6;break l;default:throw Error(s(462))}}im();break}catch(S){f0(l,S)}while(!0);return _t=Ma=null,b.H=u,b.A=e,$=a,Q!==null?0:(el=null,X=0,Ye(),vl)}function im(){for(;Q!==null&&!No();)h0(Q)}function h0(l){var t=Rd(l.alternate,l,Qt);l.memoizedProps=l.pendingProps,t===null?bn(l):Q=t}function m0(l){var t=l,a=t.alternate;switch(t.tag){case 15:case 0:t=Nd(a,t,t.pendingProps,t.type,void 0,X);break;case 11:t=Nd(a,t,t.pendingProps,t.type.render,t.ref,X);break;case 5:wc(t);default:xd(a,t),t=Q=os(t,Qt),t=Rd(a,t,Qt)}l.memoizedProps=l.pendingProps,t===null?bn(l):Q=t}function vu(l,t,a,u){_t=Ma=null,wc(t),uu=null,Gu=0;var e=t.return;try{if($h(l,e,t,a,X)){vl=1,nn(l,ft(a,l.current)),Q=null;return}}catch(n){if(e!==null)throw Q=e,n;vl=1,nn(l,ft(a,l.current)),Q=null;return}t.flags&32768?(L||u===1?l=!0:du||(X&536870912)!==0?l=!1:(ea=l=!0,(u===2||u===9||u===3||u===6)&&(u=Pl.current,u!==null&&u.tag===13&&(u.flags|=16384))),v0(t,l)):bn(t)}function bn(l){var t=l;do{if((t.flags&32768)!==0){v0(t,ea);return}l=t.return;var a=Ih(t.alternate,t,Qt);if(a!==null){Q=a;return}if(t=t.sibling,t!==null){Q=t;return}Q=t=l}while(t!==null);vl===0&&(vl=5)}function v0(l,t){do{var a=Ph(l.alternate,l);if(a!==null){a.flags&=32767,Q=a;return}if(a=l.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(l=l.sibling,l!==null)){Q=l;return}Q=l=a}while(l!==null);vl=6,Q=null}function y0(l,t,a,u,e,n,c,i,f){l.cancelPendingCommit=null;do zn();while(Dl!==0);if(($&6)!==0)throw Error(s(327));if(t!==null){if(t===l.current)throw Error(s(177));if(n=t.lanes|t.childLanes,n|=zc,Go(l,a,n,c,i,f),l===el&&(Q=el=null,X=0),hu=t,ia=l,Gt=a,pi=n,_i=e,e0=u,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,om(Te,function(){return z0(),null})):(l.callbackNode=null,l.callbackPriority=0),u=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||u){u=b.T,b.T=null,e=M.p,M.p=2,c=$,$|=4;try{lm(l,t,a)}finally{$=c,M.p=e,b.T=u}}Dl=1,g0(),S0(),r0()}}function g0(){if(Dl===1){Dl=0;var l=ia,t=hu,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=b.T,b.T=null;var u=M.p;M.p=2;var e=$;$|=4;try{Fd(t,l);var n=Li,c=as(l.containerInfo),i=n.focusedElem,f=n.selectionRange;if(c!==i&&i&&i.ownerDocument&&ts(i.ownerDocument.documentElement,i)){if(f!==null&&yc(i)){var v=f.start,S=f.end;if(S===void 0&&(S=v),"selectionStart"in i)i.selectionStart=v,i.selectionEnd=Math.min(S,i.value.length);else{var z=i.ownerDocument||document,y=z&&z.defaultView||window;if(y.getSelection){var g=y.getSelection(),p=i.textContent.length,q=Math.min(f.start,p),ul=f.end===void 0?q:Math.min(f.end,p);!g.extend&&q>ul&&(c=ul,ul=q,q=c);var o=ls(i,q),d=ls(i,ul);if(o&&d&&(g.rangeCount!==1||g.anchorNode!==o.node||g.anchorOffset!==o.offset||g.focusNode!==d.node||g.focusOffset!==d.offset)){var m=z.createRange();m.setStart(o.node,o.offset),g.removeAllRanges(),q>ul?(g.addRange(m),g.extend(d.node,d.offset)):(m.setEnd(d.node,d.offset),g.addRange(m))}}}}for(z=[],g=i;g=g.parentNode;)g.nodeType===1&&z.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<z.length;i++){var r=z[i];r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}jn=!!Vi,Li=Vi=null}finally{$=e,M.p=u,b.T=a}}l.current=t,Dl=2}}function S0(){if(Dl===2){Dl=0;var l=ia,t=hu,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=b.T,b.T=null;var u=M.p;M.p=2;var e=$;$|=4;try{Kd(l,t.alternate,t)}finally{$=e,M.p=u,b.T=a}}Dl=3}}function r0(){if(Dl===4||Dl===3){Dl=0,Ho();var l=ia,t=hu,a=Gt,u=e0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Dl=5:(Dl=0,hu=ia=null,b0(l,l.pendingLanes));var e=l.pendingLanes;if(e===0&&(ca=null),Fn(a),t=t.stateNode,$l&&typeof $l.onCommitFiberRoot=="function")try{$l.onCommitFiberRoot(Au,t,void 0,(t.current.flags&128)===128)}catch{}if(u!==null){t=b.T,e=M.p,M.p=2,b.T=null;try{for(var n=l.onRecoverableError,c=0;c<u.length;c++){var i=u[c];n(i.value,{componentStack:i.stack})}}finally{b.T=t,M.p=e}}(Gt&3)!==0&&zn(),At(l),e=l.pendingLanes,(a&261930)!==0&&(e&42)!==0?l===Ni?ue++:(ue=0,Ni=l):ue=0,ee(0)}}function b0(l,t){(l.pooledCacheLanes&=t)===0&&(t=l.pooledCache,t!=null&&(l.pooledCache=null,xu(t)))}function zn(){return g0(),S0(),r0(),z0()}function z0(){if(Dl!==5)return!1;var l=ia,t=pi;pi=0;var a=Fn(Gt),u=b.T,e=M.p;try{M.p=32>a?32:a,b.T=null,a=_i,_i=null;var n=ia,c=Gt;if(Dl=0,hu=ia=null,Gt=0,($&6)!==0)throw Error(s(331));var i=$;if($|=4,t0(n.current),Id(n,n.current,c,a),$=i,ee(0,!1),$l&&typeof $l.onPostCommitFiberRoot=="function")try{$l.onPostCommitFiberRoot(Au,n)}catch{}return!0}finally{M.p=e,b.T=u,b0(l,t)}}function T0(l,t,a){t=ft(a,t),t=fi(l.stateNode,t,2),l=la(l,t,2),l!==null&&(Du(l,2),At(l))}function P(l,t,a){if(l.tag===3)T0(l,l,a);else for(;t!==null;){if(t.tag===3){T0(t,l,a);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ca===null||!ca.has(u))){l=ft(a,l),a=Ad(2),u=la(t,a,2),u!==null&&(Ed(a,u,t,l),Du(u,2),At(u));break}}t=t.return}}function qi(l,t,a){var u=l.pingCache;if(u===null){u=l.pingCache=new um;var e=new Set;u.set(t,e)}else e=u.get(t),e===void 0&&(e=new Set,u.set(t,e));e.has(a)||(Mi=!0,e.add(a),l=fm.bind(null,l,t,a),t.then(l,l))}function fm(l,t,a){var u=l.pingCache;u!==null&&u.delete(t),l.pingedLanes|=l.suspendedLanes&a,l.warmLanes&=~a,el===l&&(X&a)===a&&(vl===4||vl===3&&(X&62914560)===X&&300>Wl()-vn?($&2)===0&&mu(l,0):Oi|=a,ou===X&&(ou=0)),At(l)}function A0(l,t){t===0&&(t=gf()),l=Aa(l,t),l!==null&&(Du(l,t),At(l))}function sm(l){var t=l.memoizedState,a=0;t!==null&&(a=t.retryLane),A0(l,a)}function dm(l,t){var a=0;switch(l.tag){case 31:case 13:var u=l.stateNode,e=l.memoizedState;e!==null&&(a=e.retryLane);break;case 19:u=l.stateNode;break;case 22:u=l.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(t),A0(l,a)}function om(l,t){return Jn(l,t)}var Tn=null,yu=null,Bi=!1,An=!1,Ci=!1,sa=0;function At(l){l!==yu&&l.next===null&&(yu===null?Tn=yu=l:yu=yu.next=l),An=!0,Bi||(Bi=!0,mm())}function ee(l,t){if(!Ci&&An){Ci=!0;do for(var a=!1,u=Tn;u!==null;){if(l!==0){var e=u.pendingLanes;if(e===0)var n=0;else{var c=u.suspendedLanes,i=u.pingedLanes;n=(1<<31-Fl(42|l)+1)-1,n&=e&~(c&~i),n=n&201326741?n&201326741|1:n?n|2:0}n!==0&&(a=!0,O0(u,n))}else n=X,n=Me(u,u===el?n:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(n&3)===0||Eu(u,n)||(a=!0,O0(u,n));u=u.next}while(a);Ci=!1}}function hm(){E0()}function E0(){An=Bi=!1;var l=0;sa!==0&&Em()&&(l=sa);for(var t=Wl(),a=null,u=Tn;u!==null;){var e=u.next,n=D0(u,t);n===0?(u.next=null,a===null?Tn=e:a.next=e,e===null&&(yu=a)):(a=u,(l!==0||(n&3)!==0)&&(An=!0)),u=e}Dl!==0&&Dl!==5||ee(l),sa!==0&&(sa=0)}function D0(l,t){for(var a=l.suspendedLanes,u=l.pingedLanes,e=l.expirationTimes,n=l.pendingLanes&-62914561;0<n;){var c=31-Fl(n),i=1<<c,f=e[c];f===-1?((i&a)===0||(i&u)!==0)&&(e[c]=Qo(i,t)):f<=t&&(l.expiredLanes|=i),n&=~i}if(t=el,a=X,a=Me(l,l===t?a:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),u=l.callbackNode,a===0||l===t&&(I===2||I===9)||l.cancelPendingCommit!==null)return u!==null&&u!==null&&wn(u),l.callbackNode=null,l.callbackPriority=0;if((a&3)===0||Eu(l,a)){if(t=a&-a,t===l.callbackPriority)return t;switch(u!==null&&wn(u),Fn(a)){case 2:case 8:a=vf;break;case 32:a=Te;break;case 268435456:a=yf;break;default:a=Te}return u=M0.bind(null,l),a=Jn(a,u),l.callbackPriority=t,l.callbackNode=a,t}return u!==null&&u!==null&&wn(u),l.callbackPriority=2,l.callbackNode=null,2}function M0(l,t){if(Dl!==0&&Dl!==5)return l.callbackNode=null,l.callbackPriority=0,null;var a=l.callbackNode;if(zn()&&l.callbackNode!==a)return null;var u=X;return u=Me(l,l===el?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),u===0?null:(c0(l,u,t),D0(l,Wl()),l.callbackNode!=null&&l.callbackNode===a?M0.bind(null,l):null)}function O0(l,t){if(zn())return null;c0(l,t,!0)}function mm(){Mm(function(){($&6)!==0?Jn(mf,hm):E0()})}function Ri(){if(sa===0){var l=lu;l===0&&(l=Ae,Ae<<=1,(Ae&261888)===0&&(Ae=256)),sa=l}return sa}function U0(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:_e(""+l)}function p0(l,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,l.id&&a.setAttribute("form",l.id),t.parentNode.insertBefore(a,t),l=new FormData(l),a.parentNode.removeChild(a),l}function vm(l,t,a,u,e){if(t==="submit"&&a&&a.stateNode===e){var n=U0((e[Xl]||null).action),c=u.submitter;c&&(t=(t=c[Xl]||null)?U0(t.formAction):c.getAttribute("formAction"),t!==null&&(n=t,c=null));var i=new qe("action","action",null,u,e);l.push({event:i,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(sa!==0){var f=c?p0(e,c):new FormData(e);ai(a,{pending:!0,data:f,method:e.method,action:n},null,f)}}else typeof n=="function"&&(i.preventDefault(),f=c?p0(e,c):new FormData(e),ai(a,{pending:!0,data:f,method:e.method,action:n},n,f))},currentTarget:e}]})}}for(var Yi=0;Yi<bc.length;Yi++){var xi=bc[Yi],ym=xi.toLowerCase(),gm=xi[0].toUpperCase()+xi.slice(1);yt(ym,"on"+gm)}yt(ns,"onAnimationEnd"),yt(cs,"onAnimationIteration"),yt(is,"onAnimationStart"),yt("dblclick","onDoubleClick"),yt("focusin","onFocus"),yt("focusout","onBlur"),yt(jh,"onTransitionRun"),yt(qh,"onTransitionStart"),yt(Bh,"onTransitionCancel"),yt(fs,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ne="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ne));function _0(l,t){t=(t&4)!==0;for(var a=0;a<l.length;a++){var u=l[a],e=u.event;u=u.listeners;l:{var n=void 0;if(t)for(var c=u.length-1;0<=c;c--){var i=u[c],f=i.instance,v=i.currentTarget;if(i=i.listener,f!==n&&e.isPropagationStopped())break l;n=i,e.currentTarget=v;try{n(e)}catch(S){Re(S)}e.currentTarget=null,n=f}else for(c=0;c<u.length;c++){if(i=u[c],f=i.instance,v=i.currentTarget,i=i.listener,f!==n&&e.isPropagationStopped())break l;n=i,e.currentTarget=v;try{n(e)}catch(S){Re(S)}e.currentTarget=null,n=f}}}}function G(l,t){var a=t[kn];a===void 0&&(a=t[kn]=new Set);var u=l+"__bubble";a.has(u)||(N0(t,l,2,!1),a.add(u))}function Qi(l,t,a){var u=0;t&&(u|=4),N0(a,l,u,t)}var En="_reactListening"+Math.random().toString(36).slice(2);function Gi(l){if(!l[En]){l[En]=!0,Ef.forEach(function(a){a!=="selectionchange"&&(Sm.has(a)||Qi(a,!1,l),Qi(a,!0,l))});var t=l.nodeType===9?l:l.ownerDocument;t===null||t[En]||(t[En]=!0,Qi("selectionchange",!1,t))}}function N0(l,t,a,u){switch(no(t)){case 2:var e=Km;break;case 8:e=Jm;break;default:e=tf}a=e.bind(null,t,a,l),e=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(e=!0),u?e!==void 0?l.addEventListener(t,a,{capture:!0,passive:e}):l.addEventListener(t,a,!0):e!==void 0?l.addEventListener(t,a,{passive:e}):l.addEventListener(t,a,!1)}function Xi(l,t,a,u,e){var n=u;if((t&1)===0&&(t&2)===0&&u!==null)l:for(;;){if(u===null)return;var c=u.tag;if(c===3||c===4){var i=u.stateNode.containerInfo;if(i===e)break;if(c===4)for(c=u.return;c!==null;){var f=c.tag;if((f===3||f===4)&&c.stateNode.containerInfo===e)return;c=c.return}for(;i!==null;){if(c=Ya(i),c===null)return;if(f=c.tag,f===5||f===6||f===26||f===27){u=n=c;continue l}i=i.parentNode}}u=u.return}Cf(function(){var v=n,S=ec(a),z=[];l:{var y=ss.get(l);if(y!==void 0){var g=qe,p=l;switch(l){case"keypress":if(He(a)===0)break l;case"keydown":case"keyup":g=dh;break;case"focusin":p="focus",g=dc;break;case"focusout":p="blur",g=dc;break;case"beforeblur":case"afterblur":g=dc;break;case"click":if(a.button===2)break l;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Io;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=mh;break;case ns:case cs:case is:g=th;break;case fs:g=yh;break;case"scroll":case"scrollend":g=Fo;break;case"wheel":g=Sh;break;case"copy":case"cut":case"paste":g=uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Gf;break;case"toggle":case"beforetoggle":g=bh}var q=(t&4)!==0,ul=!q&&(l==="scroll"||l==="scrollend"),o=q?y!==null?y+"Capture":null:y;q=[];for(var d=v,m;d!==null;){var r=d;if(m=r.stateNode,r=r.tag,r!==5&&r!==26&&r!==27||m===null||o===null||(r=Uu(d,o),r!=null&&q.push(ce(d,r,m))),ul)break;d=d.return}0<q.length&&(y=new g(y,p,null,a,S),z.push({event:y,listeners:q}))}}if((t&7)===0){l:{if(y=l==="mouseover"||l==="pointerover",g=l==="mouseout"||l==="pointerout",y&&a!==uc&&(p=a.relatedTarget||a.fromElement)&&(Ya(p)||p[Ra]))break l;if((g||y)&&(y=S.window===S?S:(y=S.ownerDocument)?y.defaultView||y.parentWindow:window,g?(p=a.relatedTarget||a.toElement,g=v,p=p?Ya(p):null,p!==null&&(ul=D(p),q=p.tag,p!==ul||q!==5&&q!==27&&q!==6)&&(p=null)):(g=null,p=v),g!==p)){if(q=xf,r="onMouseLeave",o="onMouseEnter",d="mouse",(l==="pointerout"||l==="pointerover")&&(q=Gf,r="onPointerLeave",o="onPointerEnter",d="pointer"),ul=g==null?y:Ou(g),m=p==null?y:Ou(p),y=new q(r,d+"leave",g,a,S),y.target=ul,y.relatedTarget=m,r=null,Ya(S)===v&&(q=new q(o,d+"enter",p,a,S),q.target=m,q.relatedTarget=ul,r=q),ul=r,g&&p)t:{for(q=rm,o=g,d=p,m=0,r=o;r;r=q(r))m++;r=0;for(var j=d;j;j=q(j))r++;for(;0<m-r;)o=q(o),m--;for(;0<r-m;)d=q(d),r--;for(;m--;){if(o===d||d!==null&&o===d.alternate){q=o;break t}o=q(o),d=q(d)}q=null}else q=null;g!==null&&H0(z,y,g,q,!1),p!==null&&ul!==null&&H0(z,ul,p,q,!0)}}l:{if(y=v?Ou(v):window,g=y.nodeName&&y.nodeName.toLowerCase(),g==="select"||g==="input"&&y.type==="file")var w=Wf;else if(Jf(y))if($f)w=_h;else{w=Uh;var N=Oh}else g=y.nodeName,!g||g.toLowerCase()!=="input"||y.type!=="checkbox"&&y.type!=="radio"?v&&ac(v.elementType)&&(w=Wf):w=ph;if(w&&(w=w(l,v))){wf(z,w,a,S);break l}N&&N(l,y,v),l==="focusout"&&v&&y.type==="number"&&v.memoizedProps.value!=null&&tc(y,"number",y.value)}switch(N=v?Ou(v):window,l){case"focusin":(Jf(N)||N.contentEditable==="true")&&(Ja=N,gc=v,Cu=null);break;case"focusout":Cu=gc=Ja=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,us(z,a,S);break;case"selectionchange":if(Hh)break;case"keydown":case"keyup":us(z,a,S)}var Y;if(hc)l:{switch(l){case"compositionstart":var Z="onCompositionStart";break l;case"compositionend":Z="onCompositionEnd";break l;case"compositionupdate":Z="onCompositionUpdate";break l}Z=void 0}else Ka?Lf(l,a)&&(Z="onCompositionEnd"):l==="keydown"&&a.keyCode===229&&(Z="onCompositionStart");Z&&(Xf&&a.locale!=="ko"&&(Ka||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Ka&&(Y=Rf()):(wt=S,ic="value"in wt?wt.value:wt.textContent,Ka=!0)),N=Dn(v,Z),0<N.length&&(Z=new Qf(Z,l,null,a,S),z.push({event:Z,listeners:N}),Y?Z.data=Y:(Y=Kf(a),Y!==null&&(Z.data=Y)))),(Y=Th?Ah(l,a):Eh(l,a))&&(Z=Dn(v,"onBeforeInput"),0<Z.length&&(N=new Qf("onBeforeInput","beforeinput",null,a,S),z.push({event:N,listeners:Z}),N.data=Y)),vm(z,l,v,a,S)}_0(z,t)})}function ce(l,t,a){return{instance:l,listener:t,currentTarget:a}}function Dn(l,t){for(var a=t+"Capture",u=[];l!==null;){var e=l,n=e.stateNode;if(e=e.tag,e!==5&&e!==26&&e!==27||n===null||(e=Uu(l,a),e!=null&&u.unshift(ce(l,e,n)),e=Uu(l,t),e!=null&&u.push(ce(l,e,n))),l.tag===3)return u;l=l.return}return[]}function rm(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function H0(l,t,a,u,e){for(var n=t._reactName,c=[];a!==null&&a!==u;){var i=a,f=i.alternate,v=i.stateNode;if(i=i.tag,f!==null&&f===u)break;i!==5&&i!==26&&i!==27||v===null||(f=v,e?(v=Uu(a,n),v!=null&&c.unshift(ce(a,v,f))):e||(v=Uu(a,n),v!=null&&c.push(ce(a,v,f)))),a=a.return}c.length!==0&&l.push({event:t,listeners:c})}var bm=/\r\n?/g,zm=/\u0000|\uFFFD/g;function j0(l){return(typeof l=="string"?l:""+l).replace(bm,`
`).replace(zm,"")}function q0(l,t){return t=j0(t),j0(l)===t}function al(l,t,a,u,e,n){switch(a){case"children":typeof u=="string"?t==="body"||t==="textarea"&&u===""||Za(l,u):(typeof u=="number"||typeof u=="bigint")&&t!=="body"&&Za(l,""+u);break;case"className":Ue(l,"class",u);break;case"tabIndex":Ue(l,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ue(l,a,u);break;case"style":qf(l,u,n);break;case"data":if(t!=="object"){Ue(l,"data",u);break}case"src":case"href":if(u===""&&(t!=="a"||a!=="href")){l.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){l.removeAttribute(a);break}u=_e(""+u),l.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){l.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof n=="function"&&(a==="formAction"?(t!=="input"&&al(l,t,"name",e.name,e,null),al(l,t,"formEncType",e.formEncType,e,null),al(l,t,"formMethod",e.formMethod,e,null),al(l,t,"formTarget",e.formTarget,e,null)):(al(l,t,"encType",e.encType,e,null),al(l,t,"method",e.method,e,null),al(l,t,"target",e.target,e,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){l.removeAttribute(a);break}u=_e(""+u),l.setAttribute(a,u);break;case"onClick":u!=null&&(l.onclick=Mt);break;case"onScroll":u!=null&&G("scroll",l);break;case"onScrollEnd":u!=null&&G("scrollend",l);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(e.children!=null)throw Error(s(60));l.innerHTML=a}}break;case"multiple":l.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":l.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){l.removeAttribute("xlink:href");break}a=_e(""+u),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?l.setAttribute(a,""+u):l.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?l.setAttribute(a,""):l.removeAttribute(a);break;case"capture":case"download":u===!0?l.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?l.setAttribute(a,u):l.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?l.setAttribute(a,u):l.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?l.removeAttribute(a):l.setAttribute(a,u);break;case"popover":G("beforetoggle",l),G("toggle",l),Oe(l,"popover",u);break;case"xlinkActuate":Dt(l,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Dt(l,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Dt(l,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Dt(l,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Dt(l,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Dt(l,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Dt(l,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Dt(l,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Dt(l,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Oe(l,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wo.get(a)||a,Oe(l,a,u))}}function Zi(l,t,a,u,e,n){switch(a){case"style":qf(l,u,n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(e.children!=null)throw Error(s(60));l.innerHTML=a}}break;case"children":typeof u=="string"?Za(l,u):(typeof u=="number"||typeof u=="bigint")&&Za(l,""+u);break;case"onScroll":u!=null&&G("scroll",l);break;case"onScrollEnd":u!=null&&G("scrollend",l);break;case"onClick":u!=null&&(l.onclick=Mt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Df.hasOwnProperty(a))l:{if(a[0]==="o"&&a[1]==="n"&&(e=a.endsWith("Capture"),t=a.slice(2,e?a.length-7:void 0),n=l[Xl]||null,n=n!=null?n[a]:null,typeof n=="function"&&l.removeEventListener(t,n,e),typeof u=="function")){typeof n!="function"&&n!==null&&(a in l?l[a]=null:l.hasAttribute(a)&&l.removeAttribute(a)),l.addEventListener(t,u,e);break l}a in l?l[a]=u:u===!0?l.setAttribute(a,""):Oe(l,a,u)}}}function Cl(l,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":G("error",l),G("load",l);var u=!1,e=!1,n;for(n in a)if(a.hasOwnProperty(n)){var c=a[n];if(c!=null)switch(n){case"src":u=!0;break;case"srcSet":e=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:al(l,t,n,c,a,null)}}e&&al(l,t,"srcSet",a.srcSet,a,null),u&&al(l,t,"src",a.src,a,null);return;case"input":G("invalid",l);var i=n=c=e=null,f=null,v=null;for(u in a)if(a.hasOwnProperty(u)){var S=a[u];if(S!=null)switch(u){case"name":e=S;break;case"type":c=S;break;case"checked":f=S;break;case"defaultChecked":v=S;break;case"value":n=S;break;case"defaultValue":i=S;break;case"children":case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(137,t));break;default:al(l,t,u,S,a,null)}}_f(l,n,i,f,v,c,e,!1);return;case"select":G("invalid",l),u=c=n=null;for(e in a)if(a.hasOwnProperty(e)&&(i=a[e],i!=null))switch(e){case"value":n=i;break;case"defaultValue":c=i;break;case"multiple":u=i;default:al(l,t,e,i,a,null)}t=n,a=c,l.multiple=!!u,t!=null?Xa(l,!!u,t,!1):a!=null&&Xa(l,!!u,a,!0);return;case"textarea":G("invalid",l),n=e=u=null;for(c in a)if(a.hasOwnProperty(c)&&(i=a[c],i!=null))switch(c){case"value":u=i;break;case"defaultValue":e=i;break;case"children":n=i;break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(s(91));break;default:al(l,t,c,i,a,null)}Hf(l,u,e,n);return;case"option":for(f in a)if(a.hasOwnProperty(f)&&(u=a[f],u!=null))switch(f){case"selected":l.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:al(l,t,f,u,a,null)}return;case"dialog":G("beforetoggle",l),G("toggle",l),G("cancel",l),G("close",l);break;case"iframe":case"object":G("load",l);break;case"video":case"audio":for(u=0;u<ne.length;u++)G(ne[u],l);break;case"image":G("error",l),G("load",l);break;case"details":G("toggle",l);break;case"embed":case"source":case"link":G("error",l),G("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(v in a)if(a.hasOwnProperty(v)&&(u=a[v],u!=null))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:al(l,t,v,u,a,null)}return;default:if(ac(t)){for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!==void 0&&Zi(l,t,S,u,a,void 0));return}}for(i in a)a.hasOwnProperty(i)&&(u=a[i],u!=null&&al(l,t,i,u,a,null))}function Tm(l,t,a,u){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var e=null,n=null,c=null,i=null,f=null,v=null,S=null;for(g in a){var z=a[g];if(a.hasOwnProperty(g)&&z!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":f=z;default:u.hasOwnProperty(g)||al(l,t,g,null,u,z)}}for(var y in u){var g=u[y];if(z=a[y],u.hasOwnProperty(y)&&(g!=null||z!=null))switch(y){case"type":n=g;break;case"name":e=g;break;case"checked":v=g;break;case"defaultChecked":S=g;break;case"value":c=g;break;case"defaultValue":i=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(137,t));break;default:g!==z&&al(l,t,y,g,u,z)}}lc(l,c,i,f,v,S,n,e);return;case"select":g=c=i=y=null;for(n in a)if(f=a[n],a.hasOwnProperty(n)&&f!=null)switch(n){case"value":break;case"multiple":g=f;default:u.hasOwnProperty(n)||al(l,t,n,null,u,f)}for(e in u)if(n=u[e],f=a[e],u.hasOwnProperty(e)&&(n!=null||f!=null))switch(e){case"value":y=n;break;case"defaultValue":i=n;break;case"multiple":c=n;default:n!==f&&al(l,t,e,n,u,f)}t=i,a=c,u=g,y!=null?Xa(l,!!a,y,!1):!!u!=!!a&&(t!=null?Xa(l,!!a,t,!0):Xa(l,!!a,a?[]:"",!1));return;case"textarea":g=y=null;for(i in a)if(e=a[i],a.hasOwnProperty(i)&&e!=null&&!u.hasOwnProperty(i))switch(i){case"value":break;case"children":break;default:al(l,t,i,null,u,e)}for(c in u)if(e=u[c],n=a[c],u.hasOwnProperty(c)&&(e!=null||n!=null))switch(c){case"value":y=e;break;case"defaultValue":g=e;break;case"children":break;case"dangerouslySetInnerHTML":if(e!=null)throw Error(s(91));break;default:e!==n&&al(l,t,c,e,u,n)}Nf(l,y,g);return;case"option":for(var p in a)if(y=a[p],a.hasOwnProperty(p)&&y!=null&&!u.hasOwnProperty(p))switch(p){case"selected":l.selected=!1;break;default:al(l,t,p,null,u,y)}for(f in u)if(y=u[f],g=a[f],u.hasOwnProperty(f)&&y!==g&&(y!=null||g!=null))switch(f){case"selected":l.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:al(l,t,f,y,u,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var q in a)y=a[q],a.hasOwnProperty(q)&&y!=null&&!u.hasOwnProperty(q)&&al(l,t,q,null,u,y);for(v in u)if(y=u[v],g=a[v],u.hasOwnProperty(v)&&y!==g&&(y!=null||g!=null))switch(v){case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(137,t));break;default:al(l,t,v,y,u,g)}return;default:if(ac(t)){for(var ul in a)y=a[ul],a.hasOwnProperty(ul)&&y!==void 0&&!u.hasOwnProperty(ul)&&Zi(l,t,ul,void 0,u,y);for(S in u)y=u[S],g=a[S],!u.hasOwnProperty(S)||y===g||y===void 0&&g===void 0||Zi(l,t,S,y,u,g);return}}for(var o in a)y=a[o],a.hasOwnProperty(o)&&y!=null&&!u.hasOwnProperty(o)&&al(l,t,o,null,u,y);for(z in u)y=u[z],g=a[z],!u.hasOwnProperty(z)||y===g||y==null&&g==null||al(l,t,z,y,u,g)}function B0(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Am(){if(typeof performance.getEntriesByType=="function"){for(var l=0,t=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var e=a[u],n=e.transferSize,c=e.initiatorType,i=e.duration;if(n&&i&&B0(c)){for(c=0,i=e.responseEnd,u+=1;u<a.length;u++){var f=a[u],v=f.startTime;if(v>i)break;var S=f.transferSize,z=f.initiatorType;S&&B0(z)&&(f=f.responseEnd,c+=S*(f<i?1:(i-v)/(f-v)))}if(--u,t+=8*(n+c)/(e.duration/1e3),l++,10<l)break}}if(0<l)return t/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Vi=null,Li=null;function Mn(l){return l.nodeType===9?l:l.ownerDocument}function C0(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R0(l,t){if(l===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&t==="foreignObject"?0:l}function Ki(l,t){return l==="textarea"||l==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ji=null;function Em(){var l=window.event;return l&&l.type==="popstate"?l===Ji?!1:(Ji=l,!0):(Ji=null,!1)}var Y0=typeof setTimeout=="function"?setTimeout:void 0,Dm=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,Mm=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(l){return x0.resolve(null).then(l).catch(Om)}:Y0;function Om(l){setTimeout(function(){throw l})}function da(l){return l==="head"}function Q0(l,t){var a=t,u=0;do{var e=a.nextSibling;if(l.removeChild(a),e&&e.nodeType===8)if(a=e.data,a==="/$"||a==="/&"){if(u===0){l.removeChild(e),bu(t);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")ie(l.ownerDocument.documentElement);else if(a==="head"){a=l.ownerDocument.head,ie(a);for(var n=a.firstChild;n;){var c=n.nextSibling,i=n.nodeName;n[Mu]||i==="SCRIPT"||i==="STYLE"||i==="LINK"&&n.rel.toLowerCase()==="stylesheet"||a.removeChild(n),n=c}}else a==="body"&&ie(l.ownerDocument.body);a=e}while(a);bu(t)}function G0(l,t){var a=l;l=0;do{var u=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(l===0)break;l--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||l++;a=u}while(a)}function wi(l){var t=l.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wi(a),In(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}l.removeChild(a)}}function Um(l,t,a,u){for(;l.nodeType===1;){var e=a;if(l.nodeName.toLowerCase()!==t.toLowerCase()){if(!u&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(u){if(!l[Mu])switch(t){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(n=l.getAttribute("rel"),n==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(n!==e.rel||l.getAttribute("href")!==(e.href==null||e.href===""?null:e.href)||l.getAttribute("crossorigin")!==(e.crossOrigin==null?null:e.crossOrigin)||l.getAttribute("title")!==(e.title==null?null:e.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(n=l.getAttribute("src"),(n!==(e.src==null?null:e.src)||l.getAttribute("type")!==(e.type==null?null:e.type)||l.getAttribute("crossorigin")!==(e.crossOrigin==null?null:e.crossOrigin))&&n&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(t==="input"&&l.type==="hidden"){var n=e.name==null?null:""+e.name;if(e.type==="hidden"&&l.getAttribute("name")===n)return l}else return l;if(l=mt(l.nextSibling),l===null)break}return null}function pm(l,t,a){if(t==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!a||(l=mt(l.nextSibling),l===null))return null;return l}function X0(l,t){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!t||(l=mt(l.nextSibling),l===null))return null;return l}function Wi(l){return l.data==="$?"||l.data==="$~"}function $i(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function _m(l,t){var a=l.ownerDocument;if(l.data==="$~")l._reactRetry=t;else if(l.data!=="$?"||a.readyState!=="loading")t();else{var u=function(){t(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),l._reactRetry=u}}function mt(l){for(;l!=null;l=l.nextSibling){var t=l.nodeType;if(t===1||t===3)break;if(t===8){if(t=l.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return l}var Fi=null;function Z0(l){l=l.nextSibling;for(var t=0;l;){if(l.nodeType===8){var a=l.data;if(a==="/$"||a==="/&"){if(t===0)return mt(l.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}l=l.nextSibling}return null}function V0(l){l=l.previousSibling;for(var t=0;l;){if(l.nodeType===8){var a=l.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return l;t--}else a!=="/$"&&a!=="/&"||t++}l=l.previousSibling}return null}function L0(l,t,a){switch(t=Mn(a),l){case"html":if(l=t.documentElement,!l)throw Error(s(452));return l;case"head":if(l=t.head,!l)throw Error(s(453));return l;case"body":if(l=t.body,!l)throw Error(s(454));return l;default:throw Error(s(451))}}function ie(l){for(var t=l.attributes;t.length;)l.removeAttributeNode(t[0]);In(l)}var vt=new Map,K0=new Set;function On(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Xt=M.d;M.d={f:Nm,r:Hm,D:jm,C:qm,L:Bm,m:Cm,X:Ym,S:Rm,M:xm};function Nm(){var l=Xt.f(),t=Sn();return l||t}function Hm(l){var t=xa(l);t!==null&&t.tag===5&&t.type==="form"?fd(t):Xt.r(l)}var gu=typeof document>"u"?null:document;function J0(l,t,a){var u=gu;if(u&&typeof t=="string"&&t){var e=ct(t);e='link[rel="'+l+'"][href="'+e+'"]',typeof a=="string"&&(e+='[crossorigin="'+a+'"]'),K0.has(e)||(K0.add(e),l={rel:l,crossOrigin:a,href:t},u.querySelector(e)===null&&(t=u.createElement("link"),Cl(t,"link",l),Ol(t),u.head.appendChild(t)))}}function jm(l){Xt.D(l),J0("dns-prefetch",l,null)}function qm(l,t){Xt.C(l,t),J0("preconnect",l,t)}function Bm(l,t,a){Xt.L(l,t,a);var u=gu;if(u&&l&&t){var e='link[rel="preload"][as="'+ct(t)+'"]';t==="image"&&a&&a.imageSrcSet?(e+='[imagesrcset="'+ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(e+='[imagesizes="'+ct(a.imageSizes)+'"]')):e+='[href="'+ct(l)+'"]';var n=e;switch(t){case"style":n=Su(l);break;case"script":n=ru(l)}vt.has(n)||(l=H({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:l,as:t},a),vt.set(n,l),u.querySelector(e)!==null||t==="style"&&u.querySelector(fe(n))||t==="script"&&u.querySelector(se(n))||(t=u.createElement("link"),Cl(t,"link",l),Ol(t),u.head.appendChild(t)))}}function Cm(l,t){Xt.m(l,t);var a=gu;if(a&&l){var u=t&&typeof t.as=="string"?t.as:"script",e='link[rel="modulepreload"][as="'+ct(u)+'"][href="'+ct(l)+'"]',n=e;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":n=ru(l)}if(!vt.has(n)&&(l=H({rel:"modulepreload",href:l},t),vt.set(n,l),a.querySelector(e)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(se(n)))return}u=a.createElement("link"),Cl(u,"link",l),Ol(u),a.head.appendChild(u)}}}function Rm(l,t,a){Xt.S(l,t,a);var u=gu;if(u&&l){var e=Qa(u).hoistableStyles,n=Su(l);t=t||"default";var c=e.get(n);if(!c){var i={loading:0,preload:null};if(c=u.querySelector(fe(n)))i.loading=5;else{l=H({rel:"stylesheet",href:l,"data-precedence":t},a),(a=vt.get(n))&&ki(l,a);var f=c=u.createElement("link");Ol(f),Cl(f,"link",l),f._p=new Promise(function(v,S){f.onload=v,f.onerror=S}),f.addEventListener("load",function(){i.loading|=1}),f.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Un(c,t,u)}c={type:"stylesheet",instance:c,count:1,state:i},e.set(n,c)}}}function Ym(l,t){Xt.X(l,t);var a=gu;if(a&&l){var u=Qa(a).hoistableScripts,e=ru(l),n=u.get(e);n||(n=a.querySelector(se(e)),n||(l=H({src:l,async:!0},t),(t=vt.get(e))&&Ii(l,t),n=a.createElement("script"),Ol(n),Cl(n,"link",l),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},u.set(e,n))}}function xm(l,t){Xt.M(l,t);var a=gu;if(a&&l){var u=Qa(a).hoistableScripts,e=ru(l),n=u.get(e);n||(n=a.querySelector(se(e)),n||(l=H({src:l,async:!0,type:"module"},t),(t=vt.get(e))&&Ii(l,t),n=a.createElement("script"),Ol(n),Cl(n,"link",l),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},u.set(e,n))}}function w0(l,t,a,u){var e=(e=Lt.current)?On(e):null;if(!e)throw Error(s(446));switch(l){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Su(a.href),a=Qa(e).hoistableStyles,u=a.get(t),u||(u={type:"style",instance:null,count:0,state:null},a.set(t,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){l=Su(a.href);var n=Qa(e).hoistableStyles,c=n.get(l);if(c||(e=e.ownerDocument||e,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},n.set(l,c),(n=e.querySelector(fe(l)))&&!n._p&&(c.instance=n,c.state.loading=5),vt.has(l)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vt.set(l,a),n||Qm(e,l,a,c.state))),t&&u===null)throw Error(s(528,""));return c}if(t&&u!==null)throw Error(s(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ru(a),a=Qa(e).hoistableScripts,u=a.get(t),u||(u={type:"script",instance:null,count:0,state:null},a.set(t,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,l))}}function Su(l){return'href="'+ct(l)+'"'}function fe(l){return'link[rel="stylesheet"]['+l+"]"}function W0(l){return H({},l,{"data-precedence":l.precedence,precedence:null})}function Qm(l,t,a,u){l.querySelector('link[rel="preload"][as="style"]['+t+"]")?u.loading=1:(t=l.createElement("link"),u.preload=t,t.addEventListener("load",function(){return u.loading|=1}),t.addEventListener("error",function(){return u.loading|=2}),Cl(t,"link",a),Ol(t),l.head.appendChild(t))}function ru(l){return'[src="'+ct(l)+'"]'}function se(l){return"script[async]"+l}function $0(l,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var u=l.querySelector('style[data-href~="'+ct(a.href)+'"]');if(u)return t.instance=u,Ol(u),u;var e=H({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(l.ownerDocument||l).createElement("style"),Ol(u),Cl(u,"style",e),Un(u,a.precedence,l),t.instance=u;case"stylesheet":e=Su(a.href);var n=l.querySelector(fe(e));if(n)return t.state.loading|=4,t.instance=n,Ol(n),n;u=W0(a),(e=vt.get(e))&&ki(u,e),n=(l.ownerDocument||l).createElement("link"),Ol(n);var c=n;return c._p=new Promise(function(i,f){c.onload=i,c.onerror=f}),Cl(n,"link",u),t.state.loading|=4,Un(n,a.precedence,l),t.instance=n;case"script":return n=ru(a.src),(e=l.querySelector(se(n)))?(t.instance=e,Ol(e),e):(u=a,(e=vt.get(n))&&(u=H({},a),Ii(u,e)),l=l.ownerDocument||l,e=l.createElement("script"),Ol(e),Cl(e,"link",u),l.head.appendChild(e),t.instance=e);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(u=t.instance,t.state.loading|=4,Un(u,a.precedence,l));return t.instance}function Un(l,t,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),e=u.length?u[u.length-1]:null,n=e,c=0;c<u.length;c++){var i=u[c];if(i.dataset.precedence===t)n=i;else if(n!==e)break}n?n.parentNode.insertBefore(l,n.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(l,t.firstChild))}function ki(l,t){l.crossOrigin==null&&(l.crossOrigin=t.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=t.referrerPolicy),l.title==null&&(l.title=t.title)}function Ii(l,t){l.crossOrigin==null&&(l.crossOrigin=t.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=t.referrerPolicy),l.integrity==null&&(l.integrity=t.integrity)}var pn=null;function F0(l,t,a){if(pn===null){var u=new Map,e=pn=new Map;e.set(a,u)}else e=pn,u=e.get(a),u||(u=new Map,e.set(a,u));if(u.has(l))return u;for(u.set(l,null),a=a.getElementsByTagName(l),e=0;e<a.length;e++){var n=a[e];if(!(n[Mu]||n[Hl]||l==="link"&&n.getAttribute("rel")==="stylesheet")&&n.namespaceURI!=="http://www.w3.org/2000/svg"){var c=n.getAttribute(t)||"";c=l+c;var i=u.get(c);i?i.push(n):u.set(c,[n])}}return u}function k0(l,t,a){l=l.ownerDocument||l,l.head.insertBefore(a,t==="title"?l.querySelector("head > title"):null)}function Gm(l,t,a){if(a===1||t.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return l=t.disabled,typeof t.precedence=="string"&&l==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function I0(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function Xm(l,t,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var e=Su(u.href),n=t.querySelector(fe(e));if(n){t=n._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=_n.bind(l),t.then(l,l)),a.state.loading|=4,a.instance=n,Ol(n);return}n=t.ownerDocument||t,u=W0(u),(e=vt.get(e))&&ki(u,e),n=n.createElement("link"),Ol(n);var c=n;c._p=new Promise(function(i,f){c.onload=i,c.onerror=f}),Cl(n,"link",u),a.instance=n}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(l.count++,a=_n.bind(l),t.addEventListener("load",a),t.addEventListener("error",a))}}var Pi=0;function Zm(l,t){return l.stylesheets&&l.count===0&&Hn(l,l.stylesheets),0<l.count||0<l.imgCount?function(a){var u=setTimeout(function(){if(l.stylesheets&&Hn(l,l.stylesheets),l.unsuspend){var n=l.unsuspend;l.unsuspend=null,n()}},6e4+t);0<l.imgBytes&&Pi===0&&(Pi=62500*Am());var e=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Hn(l,l.stylesheets),l.unsuspend)){var n=l.unsuspend;l.unsuspend=null,n()}},(l.imgBytes>Pi?50:800)+t);return l.unsuspend=a,function(){l.unsuspend=null,clearTimeout(u),clearTimeout(e)}}:null}function _n(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hn(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Nn=null;function Hn(l,t){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Nn=new Map,t.forEach(Vm,l),Nn=null,_n.call(l))}function Vm(l,t){if(!(t.state.loading&4)){var a=Nn.get(l);if(a)var u=a.get(null);else{a=new Map,Nn.set(l,a);for(var e=l.querySelectorAll("link[data-precedence],style[data-precedence]"),n=0;n<e.length;n++){var c=e[n];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(a.set(c.dataset.precedence,c),u=c)}u&&a.set(null,u)}e=t.instance,c=e.getAttribute("data-precedence"),n=a.get(c)||u,n===u&&a.set(null,e),a.set(c,e),this.count++,u=_n.bind(this),e.addEventListener("load",u),e.addEventListener("error",u),n?n.parentNode.insertBefore(e,n.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(e,l.firstChild)),t.state.loading|=4}}var de={$$typeof:bl,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function Lm(l,t,a,u,e,n,c,i,f){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=u,this.onUncaughtError=e,this.onCaughtError=n,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function P0(l,t,a,u,e,n,c,i,f,v,S,z){return l=new Lm(l,t,a,c,f,v,S,z,i),t=1,n===!0&&(t|=24),n=Il(3,null,null,t),l.current=n,n.stateNode=l,t=jc(),t.refCount++,l.pooledCache=t,t.refCount++,n.memoizedState={element:u,isDehydrated:a,cache:t},Rc(n),l}function lo(l){return l?(l=$a,l):$a}function to(l,t,a,u,e,n){e=lo(e),u.context===null?u.context=e:u.pendingContext=e,u=Pt(t),u.payload={element:a},n=n===void 0?null:n,n!==null&&(u.callback=n),a=la(l,u,t),a!==null&&(wl(a,l,t),Zu(a,l,t))}function ao(l,t){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var a=l.retryLane;l.retryLane=a!==0&&a<t?a:t}}function lf(l,t){ao(l,t),(l=l.alternate)&&ao(l,t)}function uo(l){if(l.tag===13||l.tag===31){var t=Aa(l,67108864);t!==null&&wl(t,l,67108864),lf(l,67108864)}}function eo(l){if(l.tag===13||l.tag===31){var t=ut();t=$n(t);var a=Aa(l,t);a!==null&&wl(a,l,t),lf(l,t)}}var jn=!0;function Km(l,t,a,u){var e=b.T;b.T=null;var n=M.p;try{M.p=2,tf(l,t,a,u)}finally{M.p=n,b.T=e}}function Jm(l,t,a,u){var e=b.T;b.T=null;var n=M.p;try{M.p=8,tf(l,t,a,u)}finally{M.p=n,b.T=e}}function tf(l,t,a,u){if(jn){var e=af(u);if(e===null)Xi(l,t,u,qn,a),co(l,u);else if(Wm(e,l,t,a,u))u.stopPropagation();else if(co(l,u),t&4&&-1<wm.indexOf(l)){for(;e!==null;){var n=xa(e);if(n!==null)switch(n.tag){case 3:if(n=n.stateNode,n.current.memoizedState.isDehydrated){var c=Sa(n.pendingLanes);if(c!==0){var i=n;for(i.pendingLanes|=2,i.entangledLanes|=2;c;){var f=1<<31-Fl(c);i.entanglements[1]|=f,c&=~f}At(n),($&6)===0&&(yn=Wl()+500,ee(0))}}break;case 31:case 13:i=Aa(n,2),i!==null&&wl(i,n,2),Sn(),lf(n,2)}if(n=af(u),n===null&&Xi(l,t,u,qn,a),n===e)break;e=n}e!==null&&u.stopPropagation()}else Xi(l,t,u,null,a)}}function af(l){return l=ec(l),uf(l)}var qn=null;function uf(l){if(qn=null,l=Ya(l),l!==null){var t=D(l);if(t===null)l=null;else{var a=t.tag;if(a===13){if(l=U(t),l!==null)return l;l=null}else if(a===31){if(l=C(t),l!==null)return l;l=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;l=null}else t!==l&&(l=null)}}return qn=l,null}function no(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jo()){case mf:return 2;case vf:return 8;case Te:case qo:return 32;case yf:return 268435456;default:return 32}default:return 32}}var ef=!1,oa=null,ha=null,ma=null,oe=new Map,he=new Map,va=[],wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function co(l,t){switch(l){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":oe.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":he.delete(t.pointerId)}}function me(l,t,a,u,e,n){return l===null||l.nativeEvent!==n?(l={blockedOn:t,domEventName:a,eventSystemFlags:u,nativeEvent:n,targetContainers:[e]},t!==null&&(t=xa(t),t!==null&&uo(t)),l):(l.eventSystemFlags|=u,t=l.targetContainers,e!==null&&t.indexOf(e)===-1&&t.push(e),l)}function Wm(l,t,a,u,e){switch(t){case"focusin":return oa=me(oa,l,t,a,u,e),!0;case"dragenter":return ha=me(ha,l,t,a,u,e),!0;case"mouseover":return ma=me(ma,l,t,a,u,e),!0;case"pointerover":var n=e.pointerId;return oe.set(n,me(oe.get(n)||null,l,t,a,u,e)),!0;case"gotpointercapture":return n=e.pointerId,he.set(n,me(he.get(n)||null,l,t,a,u,e)),!0}return!1}function io(l){var t=Ya(l.target);if(t!==null){var a=D(t);if(a!==null){if(t=a.tag,t===13){if(t=U(a),t!==null){l.blockedOn=t,Tf(l.priority,function(){eo(a)});return}}else if(t===31){if(t=C(a),t!==null){l.blockedOn=t,Tf(l.priority,function(){eo(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){l.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Bn(l){if(l.blockedOn!==null)return!1;for(var t=l.targetContainers;0<t.length;){var a=af(l.nativeEvent);if(a===null){a=l.nativeEvent;var u=new a.constructor(a.type,a);uc=u,a.target.dispatchEvent(u),uc=null}else return t=xa(a),t!==null&&uo(t),l.blockedOn=a,!1;t.shift()}return!0}function fo(l,t,a){Bn(l)&&a.delete(t)}function $m(){ef=!1,oa!==null&&Bn(oa)&&(oa=null),ha!==null&&Bn(ha)&&(ha=null),ma!==null&&Bn(ma)&&(ma=null),oe.forEach(fo),he.forEach(fo)}function Cn(l,t){l.blockedOn===t&&(l.blockedOn=null,ef||(ef=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,$m)))}var Rn=null;function so(l){Rn!==l&&(Rn=l,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){Rn===l&&(Rn=null);for(var t=0;t<l.length;t+=3){var a=l[t],u=l[t+1],e=l[t+2];if(typeof u!="function"){if(uf(u||a)===null)continue;break}var n=xa(a);n!==null&&(l.splice(t,3),t-=3,ai(n,{pending:!0,data:e,method:a.method,action:u},u,e))}}))}function bu(l){function t(f){return Cn(f,l)}oa!==null&&Cn(oa,l),ha!==null&&Cn(ha,l),ma!==null&&Cn(ma,l),oe.forEach(t),he.forEach(t);for(var a=0;a<va.length;a++){var u=va[a];u.blockedOn===l&&(u.blockedOn=null)}for(;0<va.length&&(a=va[0],a.blockedOn===null);)io(a),a.blockedOn===null&&va.shift();if(a=(l.ownerDocument||l).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var e=a[u],n=a[u+1],c=e[Xl]||null;if(typeof n=="function")c||so(a);else if(c){var i=null;if(n&&n.hasAttribute("formAction")){if(e=n,c=n[Xl]||null)i=c.formAction;else if(uf(e)!==null)continue}else i=c.action;typeof i=="function"?a[u+1]=i:(a.splice(u,3),u-=3),so(a)}}}function oo(){function l(n){n.canIntercept&&n.info==="react-transition"&&n.intercept({handler:function(){return new Promise(function(c){return e=c})},focusReset:"manual",scroll:"manual"})}function t(){e!==null&&(e(),e=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var n=navigation.currentEntry;n&&n.url!=null&&navigation.navigate(n.url,{state:n.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,e=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),e!==null&&(e(),e=null)}}}function nf(l){this._internalRoot=l}Yn.prototype.render=nf.prototype.render=function(l){var t=this._internalRoot;if(t===null)throw Error(s(409));var a=t.current,u=ut();to(a,u,l,t,null,null)},Yn.prototype.unmount=nf.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var t=l.containerInfo;to(l.current,2,null,l,null,null),Sn(),t[Ra]=null}};function Yn(l){this._internalRoot=l}Yn.prototype.unstable_scheduleHydration=function(l){if(l){var t=zf();l={blockedOn:null,target:l,priority:t};for(var a=0;a<va.length&&t!==0&&t<va[a].priority;a++);va.splice(a,0,l),a===0&&io(l)}};var ho=E.version;if(ho!=="19.2.0")throw Error(s(527,ho,"19.2.0"));M.findDOMNode=function(l){var t=l._reactInternals;if(t===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return l=J(t),l=l!==null?F(l):null,l=l===null?null:l.stateNode,l};var Fm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xn.isDisabled&&xn.supportsFiber)try{Au=xn.inject(Fm),$l=xn}catch{}}return ye.createRoot=function(l,t){if(!A(l))throw Error(s(299));var a=!1,u="",e=rd,n=bd,c=zd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onUncaughtError!==void 0&&(e=t.onUncaughtError),t.onCaughtError!==void 0&&(n=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=P0(l,1,!1,null,null,a,u,null,e,n,c,oo),l[Ra]=t.current,Gi(l),new nf(t)},ye.hydrateRoot=function(l,t,a){if(!A(l))throw Error(s(299));var u=!1,e="",n=rd,c=bd,i=zd,f=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(e=a.identifierPrefix),a.onUncaughtError!==void 0&&(n=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(i=a.onRecoverableError),a.formState!==void 0&&(f=a.formState)),t=P0(l,1,!0,t,a??null,u,e,f,n,c,i,oo),t.context=lo(null),a=t.current,u=ut(),u=$n(u),e=Pt(u),e.callback=null,la(a,e,u),a=u,t.current.lanes=a,Du(t,a),At(t),l[Ra]=t.current,Gi(l),new Yn(t)},ye.version="19.2.0",ye}var ro;function iv(){if(ro)return ff.exports;ro=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(E){console.error(E)}}return h(),ff.exports=cv(),ff.exports}var fv=iv();const sv=Mo(fv),zu=new Map,ge=new Map,Qn=new Map;function bo(h){const E=zu.get(h);E&&E.forEach(T=>{try{T()}catch(s){console.error(`Storage listener failed: ${s.message}`)}}),typeof window<"u"&&window.dispatchEvent(new CustomEvent("supabase-storage-change",{detail:{key:h}}))}function dv(h,E){return zu.has(h)||zu.set(h,new Set),zu.get(h).add(E),()=>{const T=zu.get(h);T&&(T.delete(E),T.size===0&&zu.delete(h))}}async function zo(h,E){if(typeof window>"u")return E;if(ge.has(h))return ge.get(h);if(Qn.has(h))return Qn.get(h);const T=(async()=>{try{let s=E;if(h.startsWith("cache:")){const D=await(await window.fetch(`/api/storage/setting/${h}`)).json();D.success&&(s=D.value)}else if(h.startsWith("newsletters:scrapes:")){const A=h.split(":")[2],U=await(await window.fetch(`/api/storage/daily/${A}`)).json();U.success&&(s=U.payload)}else console.warn(`Unknown storage key pattern: ${h}`);return ge.set(h,s),s}catch(s){return console.error(`Failed to read from storage: ${s.message}`),E}finally{Qn.delete(h)}})();return Qn.set(h,T),T}async function ov(h,E){if(!(typeof window>"u"))try{if(h.startsWith("cache:")){const s=await(await window.fetch(`/api/storage/setting/${h}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:E})})).json();if(!s.success)throw new Error(s.error||"Failed to write setting");ge.set(h,E),bo(h);return}if(h.startsWith("newsletters:scrapes:")){const T=h.split(":")[2],A=await(await window.fetch(`/api/storage/daily/${T}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payload:E})})).json();if(!A.success)throw new Error(A.error||"Failed to write daily cache");ge.set(h,E),bo(h);return}throw new Error(`Unknown storage key pattern: ${h}`)}catch(T){throw console.error(`Failed to persist to storage: ${T.message}`),T}}function Gn(h,E){const[T,s]=x.useState(E),[A,D]=x.useState(!0),[U,C]=x.useState(null),K=x.useRef(E);x.useEffect(()=>{let H=!1;return zo(h,E).then(O=>{H||(s(O),K.current=O,D(!1))}).catch(O=>{H||(console.error(`Failed to load storage value for ${h}:`,O),C(O),s(E),K.current=E,D(!1))}),()=>{H=!0}},[h]),x.useEffect(()=>dv(h,()=>{zo(h,E).then(O=>{s(O),K.current=O}).catch(O=>{console.error(`Failed to reload storage value for ${h}:`,O)})}),[h]);const J=x.useCallback(async H=>{if(!(typeof window>"u")){D(!0),C(null);try{const O=K.current,V=typeof H=="function"?H(O):H;if(V===O){D(!1);return}K.current=V,await ov(h,V),s(V),D(!1)}catch(O){throw console.error(`Failed to set storage value for ${h}:`,O),C(O),D(!1),O}}},[h]),F=x.useCallback(async()=>{await J(void 0)},[J]);return[T,J,F,{loading:A,error:U}]}function hv(){const[h,E,,{loading:T}]=Gn("cache:enabled",!0);return _.jsx("div",{className:"cache-toggle-container","data-testid":"cache-toggle-container",children:_.jsxs("label",{className:"cache-toggle-label",htmlFor:"cacheToggle",children:[_.jsx("input",{id:"cacheToggle",type:"checkbox",className:"cache-toggle-input","data-testid":"cache-toggle-input","aria-label":"Enable cache",checked:h,disabled:T,onChange:s=>E(s.target.checked)}),_.jsx("span",{className:"cache-toggle-checkbox","data-testid":"cache-toggle-switch"}),_.jsx("span",{className:"cache-toggle-text",children:"Cache"}),_.jsx("span",{className:"cache-toggle-status","data-testid":"cache-toggle-status",children:h?"(enabled)":"(disabled)"})]})})}function Oo(h){return`newsletters:scrapes:${h}`}async function mv(h){const T=await(await window.fetch(`/api/storage/is-cached/${h}`)).json();if(T.success)return T.is_cached;throw new Error(T.error||"Failed to check cache")}async function vv(h){const T=await(await window.fetch(`/api/storage/daily/${h}`)).json();return T.success?T.payload:null}async function To(h,E){const s=await(await window.fetch(`/api/storage/daily/${h}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payload:E})})).json();if(!s.success)throw new Error(s.error||"Failed to save payload");return s.data}async function yv(h,E){const s=await(await window.fetch("/api/storage/daily-range",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({start_date:h,end_date:E})})).json();if(s.success)return s.payloads;throw new Error(s.error||"Failed to load payloads")}function gv(h,E){const T=[],s=new Date(h),A=new Date(E);if(isNaN(s.getTime())||isNaN(A.getTime()))return[];if(s>A)return[];const D=new Date(A);for(;D>=s;)T.push(D.toISOString().split("T")[0]),D.setDate(D.getDate()-1);return T}function Sv(h){const E=new Set;let T=0;return h.forEach(s=>{s.articles&&s.articles.forEach(A=>{E.add(A.url),T++})}),{total_articles:T,unique_urls:E.size,dates_processed:h.length,dates_with_content:h.filter(s=>s.articles?.length>0).length}}async function rv(h,E,T){if(!T)return!1;const s=gv(h,E);for(const A of s)if(!await mv(A))return!1;return!0}function Ao(h){if(typeof h!="string")return null;const E=h.trim();if(!E)return null;const T=new Date(E);return isNaN(T.getTime())?null:T.toISOString().split("T")[0]}function bv(h){const E=new Map,T=new Map;Array.isArray(h.issues)&&h.issues.forEach(A=>{const D=Ao(A.date);D&&(T.has(D)||T.set(D,[]),T.get(D).push(A))}),Array.isArray(h.articles)&&h.articles.forEach(A=>{const D=Ao(A.date);if(!D)return;const U={url:A.url,title:A.title||A.url,articleMeta:A.article_meta||"",issueDate:D,category:A.category||"Newsletter",sourceId:A.source_id||null,section:A.section_title||null,sectionEmoji:A.section_emoji||null,sectionOrder:A.section_order??null,newsletterType:A.newsletter_type||null,removed:!!A.removed,tldrHidden:!1,tldr:{status:"unknown",markdown:"",effort:"low",checkedAt:null,errorMessage:null},read:{isRead:!1,markedAt:null}};E.has(D)||E.set(D,[]),E.get(D).push(U)});const s=[];return E.forEach((A,D)=>{const U=T.get(D)||[];s.push({date:D,cachedAt:new Date().toISOString(),articles:A,issues:U})}),s.sort((A,D)=>A.date<D.date?1:A.date>D.date?-1:0)}async function zv(h){const E=[];for(const T of h){const s=await vv(T.date);if(s){const A={...T,articles:T.articles.map(D=>{const U=s.articles?.find(C=>C.url===D.url);return U?{...D,tldr:U.tldr||D.tldr,read:U.read||D.read,removed:U.removed??D.removed,tldrHidden:U.tldrHidden??D.tldrHidden}:D})};await To(T.date,A),E.push(A)}else await To(T.date,T),E.push(T)}return E}async function Uo(h,E){const T=await yv(h,E);return!T||T.length===0?null:{success:!0,payloads:T,source:"local cache",stats:Sv(T)}}async function Tv(h,E,T=!0){if(await rv(h,E,T)){const D=await Uo(h,E);if(D)return D}const A=await(await window.fetch("/api/scrape",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({start_date:h,end_date:E})})).json();if(A.success){const D=bv(A);return{success:!0,payloads:T?await zv(D):D,source:"Live scrape",stats:A.stats,debugLogs:A.stats?.debug_logs||[]}}else throw new Error(A.error||"Scraping failed")}function Av({onResults:h}){const[E,T]=x.useState(""),[s,A]=x.useState(""),[D]=Gn("cache:enabled",!0),[U,C]=x.useState(0);x.useEffect(()=>{const O=new Date,V=new Date(O);V.setDate(O.getDate()-3),A(O.toISOString().split("T")[0]),T(V.toISOString().split("T")[0])},[]);const[K,J,F]=x.useActionState(async(O,V)=>{const sl=V.get("start_date"),yl=V.get("end_date"),hl=new Date(sl),ll=new Date(yl),pl=Math.ceil((ll-hl)/(1e3*60*60*24));if(hl>ll)return{error:"Start date must be before or equal to end date."};if(pl>=31)return{error:"Date range cannot exceed 31 days. Please select a smaller range."};C(50);try{const bl=await Tv(sl,yl,D);return C(100),h(bl),{success:!0}}catch(bl){return C(0),{error:bl.message||"Network error"}}},{success:!1}),H=(()=>{if(!E||!s)return null;const O=new Date(E),V=new Date(s),sl=Math.ceil((V-O)/(1e3*60*60*24));return O>V?"Start date must be before or equal to end date.":sl>=31?"Date range cannot exceed 31 days. Please select a smaller range.":null})();return _.jsxs("div",{children:[_.jsxs("form",{id:"scrapeForm",action:J,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"start_date",children:"Start Date:"}),_.jsx("input",{id:"start_date",name:"start_date",type:"date",value:E,onChange:O=>T(O.target.value),required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"end_date",children:"End Date:"}),_.jsx("input",{id:"end_date",name:"end_date",type:"date",value:s,onChange:O=>A(O.target.value),required:!0})]}),_.jsx("button",{id:"scrapeBtn",type:"submit",disabled:F||!!H,"data-testid":"scrape-btn",children:F?"Scraping...":"Scrape Newsletters"})]}),F&&_.jsxs("div",{className:"progress",children:[_.jsx("div",{id:"progress-text",children:"Scraping newsletters... This may take several minutes."}),_.jsx("div",{className:"progress-bar",children:_.jsx("div",{className:"progress-fill",style:{width:`${U}%`}})})]}),H&&_.jsx("div",{className:"error",role:"alert",children:H}),K.error&&_.jsxs("div",{className:"error",role:"alert",children:["Error: ",K.error]})]})}function po(h,E){const T=Oo(h),[s,A,,{loading:D,error:U}]=Gn(T,null),C=x.useMemo(()=>s?.articles?.find(_l=>_l.url===E)||null,[s,E]),K=C?.read?.isRead??!1,J=!!C?.removed,F=!!C?.tldrHidden,H=C?C.removed?3:C.tldrHidden?2:C.read?.isRead?1:0:0,O=x.useCallback(_l=>{C&&A(Nl=>Nl&&{...Nl,articles:Nl.articles.map(Rl=>Rl.url===E?{...Rl,..._l(Rl)}:Rl)})},[C,E,A]),V=x.useCallback(()=>{O(()=>({read:{isRead:!0,markedAt:new Date().toISOString()}}))},[O]),sl=x.useCallback(()=>{O(()=>({read:{isRead:!1,markedAt:null}}))},[O]),yl=x.useCallback(()=>{K?sl():V()},[K,V,sl]),hl=x.useCallback(_l=>{O(()=>({removed:!!_l}))},[O]),ll=x.useCallback(()=>{hl(!J)},[J,hl]),pl=x.useCallback(_l=>{O(()=>({tldrHidden:!!_l}))},[O]),bl=x.useCallback(()=>{pl(!0)},[pl]),Ql=x.useCallback(()=>{pl(!1)},[pl]);return{article:C,isRead:K,isRemoved:J,isTldrHidden:F,state:H,loading:D,error:U,markAsRead:V,markAsUnread:sl,toggleRead:yl,setRemoved:hl,toggleRemove:ll,setTldrHidden:pl,markTldrHidden:bl,unmarkTldrHidden:Ql,updateArticle:O}}function Ev(h,E,T="tldr"){if(T==="summary")throw new Error('Summary feature has been removed. Use type="tldr" instead.');const{article:s,updateArticle:A}=po(h,E),[D,U]=x.useState(!1),[C,K]=x.useState(!1),[J,F]=x.useState("low"),H=s?.[T],O=H?.status||"unknown",V=H?.markdown||"",sl=x.useMemo(()=>{if(!V)return"";try{const gl=Pm.parse(V);return lv.sanitize(gl)}catch(gl){return console.error("Failed to parse markdown:",gl),""}},[V]),yl=H?.errorMessage||null,hl=O==="available"&&V,ll=O==="creating"||D,pl=O==="error",bl=x.useMemo(()=>ll?"Loading...":C?"Hide":hl?"Available":pl?"Retry":"TLDR",[ll,C,hl,pl,T]),Ql=x.useCallback(async(gl=J)=>{if(!s)return;U(!0),F(gl);const Zt="/api/tldr-url";try{const et=await(await window.fetch(Zt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:E,summary_effort:gl})})).json();et.success?(A(()=>({[T]:{status:"available",markdown:et[`${T}_markdown`]||"",effort:gl,checkedAt:new Date().toISOString(),errorMessage:null}})),K(!0)):A(Gl=>({[T]:{...Gl[T]||{},status:"error",errorMessage:et.error||`Failed to fetch ${T}`}}))}catch(Vt){A(et=>({[T]:{...et[T]||{},status:"error",errorMessage:Vt.message||"Network error"}})),console.error(`Failed to fetch ${T}:`,Vt)}finally{U(!1)}},[s,E,T,J,A]),_l=x.useCallback(gl=>{hl?K(!C):Ql(gl)},[hl,C,Ql]),Nl=x.useCallback(()=>{K(!1)},[]),Rl=x.useCallback(()=>{K(!0)},[]);return{data:H,status:O,markdown:V,html:sl,errorMessage:yl,loading:ll,expanded:C,effort:J,isAvailable:hl,isError:pl,buttonLabel:bl,fetch:Ql,toggle:_l,collapse:Nl,expand:Rl}}function Dv({article:h,index:E}){const{isRead:T,isRemoved:s,isTldrHidden:A,toggleRead:D,toggleRemove:U,markTldrHidden:C,unmarkTldrHidden:K,loading:J}=po(h.issueDate,h.url),F=Ev(h.issueDate,h.url,"tldr"),H=["article-card",!T&&"unread",T&&"read",s&&"removed",A&&"tldr-hidden"].filter(Boolean).join(" "),O=x.useMemo(()=>{const ll=h.url;return ll.startsWith("http://")||ll.startsWith("https://")?ll:`https://${ll}`},[h.url]),V=x.useMemo(()=>{try{return`${new URL(O).origin}/favicon.ico`}catch{return null}},[O]),sl=ll=>{s||ll.ctrlKey||ll.metaKey||T||D()},yl=()=>{if(s)return;const ll=F.expanded;F.toggle(),!T&&F.expanded&&D(),ll&&!F.expanded?C():F.expanded&&K()},hl=()=>{!s&&F.expanded&&F.collapse(),U()};return _.jsxs("div",{className:H,"data-original-order":E,onClick:s?hl:void 0,children:[_.jsxs("div",{className:"article-header",children:[_.jsx("div",{className:"article-number",children:E+1}),_.jsx("div",{className:"article-content",children:_.jsxs("a",{href:O,className:`article-link ${J?"loading":""}`,target:"_blank",rel:"noopener noreferrer","data-url":O,tabIndex:s?-1:0,onClick:sl,children:[V&&_.jsx("img",{src:V,className:"article-favicon",loading:"lazy",alt:"",onError:ll=>ll.target.style.display="none"}),_.jsxs("span",{className:"article-link-text",children:[h.title,!s&&h.articleMeta?` (${h.articleMeta})`:""]})]})}),_.jsxs("div",{className:"article-actions",children:[_.jsx("button",{className:`article-btn tldr-btn ${F.isAvailable?"loaded":""} ${F.expanded?"expanded":""}`,disabled:J||F.loading,type:"button",title:F.isAvailable?"TLDR cached - click to show":"Show TLDR",onClick:yl,children:F.buttonLabel}),_.jsx("button",{className:"article-btn remove-article-btn",type:"button",title:s?"Restore this article to the list":"Remove this article from the list",disabled:J,onClick:hl,children:s?"Restore":"Remove"})]})]}),F.expanded&&F.html&&_.jsxs("div",{className:"inline-tldr",children:[_.jsx("strong",{children:"TLDR"}),_.jsx("div",{dangerouslySetInnerHTML:{__html:F.html}})]})]})}function Eo({articles:h}){const E=x.useMemo(()=>[...h].sort((s,A)=>{const D=s.removed?3:s.tldrHidden?2:s.read?.isRead?1:0,U=A.removed?3:A.tldrHidden?2:A.read?.isRead?1:0;return D!==U?D-U:(s.originalOrder??0)-(A.originalOrder??0)}),[h]),T=x.useMemo(()=>{const s=[];let A=null;return E.forEach((D,U)=>{const C=D.section,K=D.sectionEmoji,J=C?`${K||""} ${C}`.trim():null;J&&J!==A?(s.push({type:"section",key:J,label:J}),A=J):!C&&A!==null&&(A=null),s.push({type:"article",key:D.url,article:D,index:U})}),s},[E]);return _.jsx("div",{className:"article-list",children:T.map(s=>s.type==="section"?_.jsx("div",{className:"section-title",children:s.label},s.key):_.jsx(Dv,{article:s.article,index:s.index},s.key))})}function Mv({results:h}){const E=[`📊 Stats: ${h.stats.total_articles} articles, ${h.stats.unique_urls} unique URLs`,`📅 Dates: ${h.stats.dates_with_content}/${h.stats.dates_processed} with content`,h.source&&`Source: ${h.source}`].filter(Boolean),T=h.debugLogs||[];return _.jsxs("div",{id:"result",className:"result success",children:[_.jsx("div",{className:"stats",children:E.map((s,A)=>_.jsx("div",{children:s},A))}),T.length>0&&_.jsx("div",{id:"logs-slot",className:"logs-slot",children:_.jsxs("details",{children:[_.jsx("summary",{children:"Debug logs"}),_.jsx("pre",{children:T.join(`
`)})]})}),_.jsx("main",{id:"write",children:(h.payloads||[]).map(s=>_.jsx(Ov,{payload:s},s.date))})]})}function Ov({payload:h}){const[E,,,{loading:T}]=Gn(Oo(h.date),h),s=E?.date??h.date,A=(E?.articles??h.articles).map((U,C)=>({...U,originalOrder:C})),D=E?.issues??h.issues??[];return _.jsxs("div",{className:"date-group",children:[_.jsxs("div",{className:"date-header-container","data-date":s,children:[_.jsx("h2",{children:s}),T&&_.jsx("span",{className:"loading-indicator",children:" (loading...)"})]}),D.map(U=>_.jsxs("div",{className:"issue-section",children:[_.jsx("div",{className:"issue-header-container",children:_.jsx("h4",{children:U.category})}),(U.title||U.subtitle)&&_.jsxs("div",{className:"issue-title-block",children:[U.title&&_.jsx("div",{className:"issue-title-line",children:U.title}),U.subtitle&&U.subtitle!==U.title&&_.jsx("div",{className:"issue-title-line",children:U.subtitle})]}),_.jsx(Eo,{articles:A.filter(C=>C.category===U.category)})]},`${s}-${U.category}`)),A.some(U=>!U.category)&&_.jsx(Eo,{articles:A.filter(U=>!U.category)})]})}function Uv(){const[h,E]=x.useState(null);return x.useEffect(()=>{const T=new Date,s=new Date(T);s.setDate(T.getDate()-3);const A=T.toISOString().split("T")[0],D=s.toISOString().split("T")[0];Uo(D,A).then(U=>{U&&E(U)}).catch(U=>{console.error("Failed to load cached results:",U)})},[]),_.jsxs("div",{className:"container",children:[_.jsx("h1",{children:"Newsletter Aggregator"}),_.jsx(hv,{}),_.jsx(Av,{onResults:E}),h&&_.jsx(Mv,{results:h})]})}sv.createRoot(document.getElementById("root")).render(_.jsx(uv.StrictMode,{children:_.jsx(Uv,{})}));

</document>
<document path="static/dist/assets/index-DEXtoBGT.css">
.cache-toggle-container{display:flex;align-items:center;justify-content:center;padding:12px;margin-bottom:20px;background:var(--bg);border-radius:8px;border:1px solid var(--border)}.cache-toggle-label{display:flex;align-items:center;gap:10px;cursor:pointer;font-size:15px;color:var(--text);-webkit-user-select:none;user-select:none}.cache-toggle-checkbox{position:relative;width:48px;height:26px;background:#cbd5e1;border-radius:13px;transition:background-color .2s ease;cursor:pointer;border:2px solid transparent}.cache-toggle-checkbox:after{content:"";position:absolute;top:2px;left:2px;width:18px;height:18px;background:#fff;border-radius:50%;transition:transform .2s ease;box-shadow:0 2px 4px #0003}.cache-toggle-input{position:absolute;opacity:0;width:0;height:0}.cache-toggle-input:checked+.cache-toggle-checkbox{background:#22c55e}.cache-toggle-input:checked+.cache-toggle-checkbox:after{transform:translate(22px)}.cache-toggle-input:focus-visible+.cache-toggle-checkbox{outline:3px solid rgba(26,115,232,.45);outline-offset:2px}.cache-toggle-text{font-weight:500}.cache-toggle-status{font-size:13px;color:var(--muted);margin-left:4px}.form-group{margin-bottom:20px;display:inline-block;width:45%;margin-right:5%}.form-group:last-child{margin-right:0}label{display:block;margin-bottom:5px;font-weight:700;color:var(--muted)}input[type=date]{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:8px;font-size:16px;box-sizing:border-box;background:var(--surface);color:var(--text);min-height:44px}button{background-color:#007bff;color:#fff;padding:12px 24px;border:none;border-radius:8px;cursor:pointer;font-size:16px;width:100%;margin-top:20px;min-height:44px}button:hover{background-color:#0056b3}button:disabled{background-color:#ccc;cursor:not-allowed}.progress{display:block;margin:20px 0;padding:15px;background-color:#e3f2fd;border-radius:4px;border-left:4px solid #2196f3}.progress-bar{width:100%;height:20px;background-color:#ddd;border-radius:10px;overflow:hidden;margin-top:10px}.progress-fill{height:100%;background-color:#2196f3;transition:width .3s ease}.error{background-color:#f8d7da;border:1px solid #f5c6cb;color:#721c24;padding:10px 12px;border-radius:6px;margin-top:10px}@media(max-width:480px){.form-group{width:100%;margin-right:0}}.article-card{display:flex;flex-direction:column;background:var(--surface, #ffffff);border:1px solid var(--border, #e5e7eb);border-radius:8px;padding:14px 16px;transition:border-color .15s ease,box-shadow .15s ease,transform .15s ease,opacity .15s ease;position:relative;animation:cardFadeIn .3s ease backwards}@keyframes cardFadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.article-card:hover{border-color:var(--link, #1a73e8);box-shadow:0 2px 8px #1a73e81f;transform:translateY(-1px)}.article-card.unread .article-link{font-weight:600}.article-card.read .article-link{font-weight:400;color:var(--muted, #475569)}.article-card.tldr-hidden{opacity:.6;background:#9ca3af0a}.article-card.tldr-hidden .article-link{font-weight:400;color:var(--muted, #475569)}.article-card.removed{opacity:.75;border-style:dashed;border-color:#d1d5db;background:#f3f4f6;cursor:pointer}.article-card.removed .article-link{text-decoration:line-through;color:var(--muted, #475569);pointer-events:none}.article-card.removed .article-actions{opacity:1}.article-card.removed .article-actions .article-btn:not(.remove-article-btn){display:none}.article-header{display:flex;align-items:center;gap:12px;width:100%}.article-number{flex-shrink:0;width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:var(--bg, #f6f7f9);border-radius:6px;font-weight:600;font-size:14px;color:var(--muted, #475569)}.article-content{flex:1;min-width:0}.article-link{font-size:16px;line-height:1.5;color:var(--link, #1a73e8);text-decoration:none;word-wrap:break-word;display:block;width:100%;cursor:pointer}.article-link:hover{text-decoration:underline}.article-link.loading{opacity:.6;cursor:wait}.article-favicon{width:1em;height:1em;display:inline-block;vertical-align:-.125em;object-fit:contain;margin-right:1ch}.article-actions{flex-shrink:0;display:flex;align-items:center;gap:6px;opacity:0;transition:opacity .2s ease}.article-card:hover .article-actions{opacity:1}.article-btn{height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:1px solid var(--border, #e5e7eb);border-radius:6px;color:var(--muted, #475569);cursor:pointer;transition:all .15s ease;font-size:13px;padding:0;margin:0}.article-btn:hover{background:var(--bg, #f6f7f9);border-color:var(--muted, #475569);color:var(--text, #0f172a)}.article-btn:disabled{opacity:.5;cursor:not-allowed}.tldr-btn{width:auto;min-width:5em;padding:0 10px;font-weight:500;white-space:nowrap}.tldr-btn.loaded{background:#22c55e;color:#fff;border-color:#22c55e}.tldr-btn.loaded:hover{background:#16a34a;border-color:#16a34a}.tldr-btn.loaded.expanded{background:var(--bg, #f6f7f9);color:var(--text, #0f172a);border-color:var(--border, #e5e7eb)}.remove-article-btn{width:auto;min-width:6.2em;padding:0 10px;font-weight:500;white-space:nowrap}.remove-article-btn:hover{background:#dc35451f;border-color:#dc354566;color:#b91c1c}.article-card.removed .remove-article-btn{display:none}.inline-tldr{margin-top:9px;padding-top:9px;padding-bottom:0;border-top:1px dashed var(--border, #e5e7eb);font-size:.96em;line-height:1.675;animation:slideDown .2s ease}@keyframes slideDown{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.inline-tldr>strong{display:block;margin-bottom:.5em;color:var(--text, #0f172a)}.inline-tldr ul{padding-left:1.2em;margin:.5em 0}@media(max-width:768px){.article-actions{opacity:1;width:100%;margin-left:0;margin-top:8px;justify-content:flex-start}.article-header{flex-wrap:wrap}}.article-list{display:flex;flex-direction:column;gap:12px;margin:20px 0;padding:0;list-style:none}.section-title{margin:18px 0 6px;text-align:center;font-style:italic;color:#9ca3af;font-size:.92em;letter-spacing:.01em}.article-card.category-first{border-top:3px solid var(--link, #1a73e8);padding-top:16px;margin-top:12px}.result{margin-top:20px;padding:0;background-color:transparent;border-radius:0;display:block;border:none}.stats{background-color:#fff3cd;border:1px solid #ffeaa7;color:#856404;margin-bottom:15px;padding:10px;border-radius:4px}.logs-slot{margin-bottom:15px}.logs-slot details{background:#f6f7f9;padding:10px;border-radius:4px;border:1px solid #e5e7eb}.logs-slot summary{cursor:pointer;font-weight:600;color:#475569;-webkit-user-select:none;user-select:none}.logs-slot pre{margin-top:10px;font-size:13px;line-height:1.5;white-space:pre-wrap;word-wrap:break-word;color:#0f172a}.date-header-container{display:flex;align-items:center;justify-content:space-between;width:100%;margin:0}.date-header-container h2{text-align:center;width:100%;font-weight:400;color:var(--text, #0f172a);margin-top:2em}.date-header-container h2:after{border-bottom:1px solid #2f2f2f;content:"";width:100px;display:block;margin:.4em auto 0;height:1px}.issue-header-container h4{text-align:left;margin:1.5em 0 .5em;font-style:normal;color:var(--text, #0f172a)}.issue-title-block{margin:12px 0 18px;text-align:center;font-style:italic;color:#9ca3af;font-size:.95em;line-height:1.6}.issue-title-block .issue-title-line+.issue-title-line{margin-top:4px}.copy-toast{position:fixed;left:50%;bottom:32px;transform:translate(-50%) translateY(20px);background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:var(--text, #0f172a);padding:10px 18px;border-radius:999px;font-size:14px;font-weight:500;opacity:0;pointer-events:none;transition:opacity .25s ease,transform .25s ease;box-shadow:0 4px 12px #00000014,0 2px 4px #0000000f;border:1px solid rgba(0,0,0,.06);z-index:999}.copy-toast.show{opacity:1;transform:translate(-50%) translateY(0)}:root{--bg: #f6f7f9;--surface: #ffffff;--text: #0f172a;--muted: #475569;--border: #e5e7eb;--link: #1a73e8;--radius: 10px;--shadow-sm: 0 1px 2px rgba(0,0,0,.06), 0 1px 3px rgba(0,0,0,.1);--whitey-text: #333;--whitey-link: #2484c1;--whitey-divider: #2f2f2f;--whitey-rule: #ddd;--whitey-s-1: .5rem;--whitey-s-2: 1rem;--whitey-s-3: 1.5rem;--whitey-s-4: 2.5rem}*{box-sizing:border-box}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Noto Sans,Ubuntu,Cantarell,Helvetica Neue,Arial,sans-serif;max-width:1000px;margin:0 auto;padding:20px;background-color:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;-webkit-text-size-adjust:100%;letter-spacing:.003em;line-height:1.6}.container{background:var(--surface);padding:20px;border-radius:var(--radius);box-shadow:var(--shadow-sm);border:1px solid var(--border)}h1{color:var(--text);text-align:center;margin-bottom:30px;font-weight:700;letter-spacing:-.01em;line-height:1.25;text-wrap:balance}a:focus-visible,button:focus-visible,input:focus-visible{outline:3px solid rgba(26,115,232,.45);outline-offset:2px}#write{font-size:19px;max-width:960px;margin:0 auto 2em;padding-top:40px;padding-left:1rem;padding-right:1rem;color:var(--whitey-text);font-family:Vollkorn,Palatino,Times,serif;line-height:1.53;text-align:left;background:transparent}@media only screen and (min-width:1400px){#write{max-width:1100px}}#write h1,#write h2,#write h3{text-align:center;font-weight:400;color:var(--whitey-text)}#write h1{margin-top:1.6em;font-size:3em}#write h2{margin-top:2em}#write h3{margin-top:3em;font-style:italic}#write h1+h2,#write h2+h3{margin-top:.83em}@media(max-width:42em){#write{font-size:clamp(16px,.95rem + .6vw,18px);line-height:1.6;padding-left:0;padding-right:0}#write h1{font-size:clamp(2rem,7vw,2.6rem);line-height:1.15;margin:var(--whitey-s-4) 0 var(--whitey-s-2)}#write h2{font-size:clamp(1.5rem,5.5vw,2rem);line-height:1.25;margin:var(--whitey-s-4) 0 var(--whitey-s-1)}#write h3{font-size:clamp(1.25rem,4.5vw,1.6rem);line-height:1.3;margin:var(--whitey-s-3) 0 var(--whitey-s-1)}}@media(max-width:480px){body{padding:8px}.container{padding:12px}}

</document>
<document path="static/dist/assets/vendor-Bvyvzkef.js">
function Jr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mt={exports:{}},b={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var on;function Yn(){if(on)return b;on=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),t=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),a=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function v(o){return o===null||typeof o!="object"?null:(o=E&&o[E]||o["@@iterator"],typeof o=="function"?o:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,ae={};function Y(o,f,m){this.props=o,this.context=f,this.refs=ae,this.updater=m||R}Y.prototype.isReactComponent={},Y.prototype.setState=function(o,f){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,f,"setState")},Y.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function ce(){}ce.prototype=Y.prototype;function X(o,f,m){this.props=o,this.context=f,this.refs=ae,this.updater=m||R}var I=X.prototype=new ce;I.constructor=X,M(I,Y.prototype),I.isPureReactComponent=!0;var ee=Array.isArray;function K(){}var A={H:null,A:null,T:null,S:null},Ue=Object.prototype.hasOwnProperty;function we(o,f,m){var T=m.ref;return{$$typeof:n,type:o,key:f,ref:T!==void 0?T:null,props:m}}function it(o,f){return we(o.type,f,o.props)}function P(o){return typeof o=="object"&&o!==null&&o.$$typeof===n}function Ae(o){var f={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(m){return f[m]})}var de=/\/+/g;function ue(o,f){return typeof o=="object"&&o!==null&&o.key!=null?Ae(""+o.key):f.toString(36)}function ot(o){switch(o.status){case"fulfilled":return o.value;case"rejected":throw o.reason;default:switch(typeof o.status=="string"?o.then(K,K):(o.status="pending",o.then(function(f){o.status==="pending"&&(o.status="fulfilled",o.value=f)},function(f){o.status==="pending"&&(o.status="rejected",o.reason=f)})),o.status){case"fulfilled":return o.value;case"rejected":throw o.reason}}throw o}function le(o,f,m,T,_){var w=typeof o;(w==="undefined"||w==="boolean")&&(o=null);var O=!1;if(o===null)O=!0;else switch(w){case"bigint":case"string":case"number":O=!0;break;case"object":switch(o.$$typeof){case n:case e:O=!0;break;case d:return O=o._init,le(O(o._payload),f,m,T,_)}}if(O)return _=_(o),O=T===""?"."+ue(o,0):T,ee(_)?(m="",O!=null&&(m=O.replace(de,"$&/")+"/"),le(_,f,m,"",function(Se){return Se})):_!=null&&(P(_)&&(_=it(_,m+(_.key==null||o&&o.key===_.key?"":(""+_.key).replace(de,"$&/")+"/")+O)),f.push(_)),1;O=0;var $=T===""?".":T+":";if(ee(o))for(var z=0;z<o.length;z++)T=o[z],w=$+ue(T,z),O+=le(T,f,m,w,_);else if(z=v(o),typeof z=="function")for(o=z.call(o),z=0;!(T=o.next()).done;)T=T.value,w=$+ue(T,z++),O+=le(T,f,m,w,_);else if(w==="object"){if(typeof o.then=="function")return le(ot(o),f,m,T,_);throw f=String(o),Error("Objects are not valid as a React child (found: "+(f==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":f)+"). If you meant to render a collection of children, use an array instead.")}return O}function me(o,f,m){if(o==null)return o;var T=[],_=0;return le(o,T,"","",function(w){return f.call(m,w,_++)}),T}function He(o){if(o._status===-1){var f=o._result;f=f(),f.then(function(m){(o._status===0||o._status===-1)&&(o._status=1,o._result=m)},function(m){(o._status===0||o._status===-1)&&(o._status=2,o._result=m)}),o._status===-1&&(o._status=0,o._result=f)}if(o._status===1)return o._result.default;throw o._result}var Be=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Fe={map:me,forEach:function(o,f,m){me(o,function(){f.apply(this,arguments)},m)},count:function(o){var f=0;return me(o,function(){f++}),f},toArray:function(o){return me(o,function(f){return f})||[]},only:function(o){if(!P(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};return b.Activity=x,b.Children=Fe,b.Component=Y,b.Fragment=r,b.Profiler=t,b.PureComponent=X,b.StrictMode=s,b.Suspense=p,b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,b.__COMPILER_RUNTIME={__proto__:null,c:function(o){return A.H.useMemoCache(o)}},b.cache=function(o){return function(){return o.apply(null,arguments)}},b.cacheSignal=function(){return null},b.cloneElement=function(o,f,m){if(o==null)throw Error("The argument must be a React element, but you passed "+o+".");var T=M({},o.props),_=o.key;if(f!=null)for(w in f.key!==void 0&&(_=""+f.key),f)!Ue.call(f,w)||w==="key"||w==="__self"||w==="__source"||w==="ref"&&f.ref===void 0||(T[w]=f[w]);var w=arguments.length-2;if(w===1)T.children=m;else if(1<w){for(var O=Array(w),$=0;$<w;$++)O[$]=arguments[$+2];T.children=O}return we(o.type,_,T)},b.createContext=function(o){return o={$$typeof:l,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null},o.Provider=o,o.Consumer={$$typeof:c,_context:o},o},b.createElement=function(o,f,m){var T,_={},w=null;if(f!=null)for(T in f.key!==void 0&&(w=""+f.key),f)Ue.call(f,T)&&T!=="key"&&T!=="__self"&&T!=="__source"&&(_[T]=f[T]);var O=arguments.length-2;if(O===1)_.children=m;else if(1<O){for(var $=Array(O),z=0;z<O;z++)$[z]=arguments[z+2];_.children=$}if(o&&o.defaultProps)for(T in O=o.defaultProps,O)_[T]===void 0&&(_[T]=O[T]);return we(o,w,_)},b.createRef=function(){return{current:null}},b.forwardRef=function(o){return{$$typeof:u,render:o}},b.isValidElement=P,b.lazy=function(o){return{$$typeof:d,_payload:{_status:-1,_result:o},_init:He}},b.memo=function(o,f){return{$$typeof:a,type:o,compare:f===void 0?null:f}},b.startTransition=function(o){var f=A.T,m={};A.T=m;try{var T=o(),_=A.S;_!==null&&_(m,T),typeof T=="object"&&T!==null&&typeof T.then=="function"&&T.then(K,Be)}catch(w){Be(w)}finally{f!==null&&m.types!==null&&(f.types=m.types),A.T=f}},b.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},b.use=function(o){return A.H.use(o)},b.useActionState=function(o,f,m){return A.H.useActionState(o,f,m)},b.useCallback=function(o,f){return A.H.useCallback(o,f)},b.useContext=function(o){return A.H.useContext(o)},b.useDebugValue=function(){},b.useDeferredValue=function(o,f){return A.H.useDeferredValue(o,f)},b.useEffect=function(o,f){return A.H.useEffect(o,f)},b.useEffectEvent=function(o){return A.H.useEffectEvent(o)},b.useId=function(){return A.H.useId()},b.useImperativeHandle=function(o,f,m){return A.H.useImperativeHandle(o,f,m)},b.useInsertionEffect=function(o,f){return A.H.useInsertionEffect(o,f)},b.useLayoutEffect=function(o,f){return A.H.useLayoutEffect(o,f)},b.useMemo=function(o,f){return A.H.useMemo(o,f)},b.useOptimistic=function(o,f){return A.H.useOptimistic(o,f)},b.useReducer=function(o,f,m){return A.H.useReducer(o,f,m)},b.useRef=function(o){return A.H.useRef(o)},b.useState=function(o){return A.H.useState(o)},b.useSyncExternalStore=function(o,f,m){return A.H.useSyncExternalStore(o,f,m)},b.useTransition=function(){return A.H.useTransition()},b.version="19.2.0",b}var ln;function Zn(){return ln||(ln=1,mt.exports=Yn()),mt.exports}var kt={exports:{}},B={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var an;function Xn(){if(an)return B;an=1;var n=Zn();function e(p){var a="https://react.dev/errors/"+p;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+p+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},t=Symbol.for("react.portal");function c(p,a,d){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:t,key:x==null?null:""+x,children:p,containerInfo:a,implementation:d}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(p,a){if(p==="font")return"";if(typeof a=="string")return a==="use-credentials"?a:""}return B.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,B.createPortal=function(p,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)throw Error(e(299));return c(p,a,null,d)},B.flushSync=function(p){var a=l.T,d=s.p;try{if(l.T=null,s.p=2,p)return p()}finally{l.T=a,s.p=d,s.d.f()}},B.preconnect=function(p,a){typeof p=="string"&&(a?(a=a.crossOrigin,a=typeof a=="string"?a==="use-credentials"?a:"":void 0):a=null,s.d.C(p,a))},B.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},B.preinit=function(p,a){if(typeof p=="string"&&a&&typeof a.as=="string"){var d=a.as,x=u(d,a.crossOrigin),E=typeof a.integrity=="string"?a.integrity:void 0,v=typeof a.fetchPriority=="string"?a.fetchPriority:void 0;d==="style"?s.d.S(p,typeof a.precedence=="string"?a.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:v}):d==="script"&&s.d.X(p,{crossOrigin:x,integrity:E,fetchPriority:v,nonce:typeof a.nonce=="string"?a.nonce:void 0})}},B.preinitModule=function(p,a){if(typeof p=="string")if(typeof a=="object"&&a!==null){if(a.as==null||a.as==="script"){var d=u(a.as,a.crossOrigin);s.d.M(p,{crossOrigin:d,integrity:typeof a.integrity=="string"?a.integrity:void 0,nonce:typeof a.nonce=="string"?a.nonce:void 0})}}else a==null&&s.d.M(p)},B.preload=function(p,a){if(typeof p=="string"&&typeof a=="object"&&a!==null&&typeof a.as=="string"){var d=a.as,x=u(d,a.crossOrigin);s.d.L(p,d,{crossOrigin:x,integrity:typeof a.integrity=="string"?a.integrity:void 0,nonce:typeof a.nonce=="string"?a.nonce:void 0,type:typeof a.type=="string"?a.type:void 0,fetchPriority:typeof a.fetchPriority=="string"?a.fetchPriority:void 0,referrerPolicy:typeof a.referrerPolicy=="string"?a.referrerPolicy:void 0,imageSrcSet:typeof a.imageSrcSet=="string"?a.imageSrcSet:void 0,imageSizes:typeof a.imageSizes=="string"?a.imageSizes:void 0,media:typeof a.media=="string"?a.media:void 0})}},B.preloadModule=function(p,a){if(typeof p=="string")if(a){var d=u(a.as,a.crossOrigin);s.d.m(p,{as:typeof a.as=="string"&&a.as!=="script"?a.as:void 0,crossOrigin:d,integrity:typeof a.integrity=="string"?a.integrity:void 0})}else s.d.m(p)},B.requestFormReset=function(p){s.d.r(p)},B.unstable_batchedUpdates=function(p,a){return p(a)},B.useFormState=function(p,a,d){return l.H.useFormState(p,a,d)},B.useFormStatus=function(){return l.H.useHostTransitionStatus()},B.version="19.2.0",B}var cn;function es(){if(cn)return kt.exports;cn=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kt.exports=Xn(),kt.exports}function vt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var ge=vt();function wn(n){ge=n}var $e={exec:()=>null};function S(n,e=""){let r=typeof n=="string"?n:n.source,s={replace:(t,c)=>{let l=typeof c=="string"?c:c.source;return l=l.replace(G.caret,"$1"),r=r.replace(t,l),s},getRegex:()=>new RegExp(r,e)};return s}var G={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},Kn=/^(?:[ \t]*(?:\n|$))+/,Qn=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Vn=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ze=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Jn=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Lt=/(?:[*+-]|\d{1,9}[.)])/,An=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Sn=S(An).replace(/bull/g,Lt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),er=S(An).replace(/bull/g,Lt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),It=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,tr=/^[^\n]+/,Dt=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,nr=S(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Dt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),rr=S(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Lt).getRegex(),rt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Pt=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,sr=S("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Pt).replace("tag",rt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Rn=S(It).replace("hr",ze).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt).getRegex(),ir=S(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Rn).getRegex(),Nt={blockquote:ir,code:Qn,def:nr,fences:Vn,heading:Jn,hr:ze,html:sr,lheading:Sn,list:rr,newline:Kn,paragraph:Rn,table:$e,text:tr},un=S("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ze).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt).getRegex(),or={...Nt,lheading:er,table:un,paragraph:S(It).replace("hr",ze).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",un).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt).getRegex()},lr={...Nt,html:S(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Pt).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:$e,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:S(It).replace("hr",ze).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Sn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ar=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,cr=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,On=/^( {2,}|\\)\n(?!\s*$)/,ur=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,st=/[\p{P}\p{S}]/u,Mt=/[\s\p{P}\p{S}]/u,Cn=/[^\s\p{P}\p{S}]/u,pr=S(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Mt).getRegex(),vn=/(?!~)[\p{P}\p{S}]/u,fr=/(?!~)[\s\p{P}\p{S}]/u,hr=/(?:[^\s\p{P}\p{S}]|~)/u,gr=S(/link|code|html/,"g").replace("link",new RegExp("\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)")).replace("code",new RegExp("(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)")).replace("html",/<(?! )[^<>]*?>/).getRegex(),Ln=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,dr=S(Ln,"u").replace(/punct/g,st).getRegex(),mr=S(Ln,"u").replace(/punct/g,vn).getRegex(),In="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",kr=S(In,"gu").replace(/notPunctSpace/g,Cn).replace(/punctSpace/g,Mt).replace(/punct/g,st).getRegex(),_r=S(In,"gu").replace(/notPunctSpace/g,hr).replace(/punctSpace/g,fr).replace(/punct/g,vn).getRegex(),Tr=S("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Cn).replace(/punctSpace/g,Mt).replace(/punct/g,st).getRegex(),br=S(/\\(punct)/,"gu").replace(/punct/g,st).getRegex(),xr=S(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),yr=S(Pt).replace("(?:-->|$)","-->").getRegex(),Er=S("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",yr).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),et=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,wr=S(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",et).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Dn=S(/^!?\[(label)\]\[(ref)\]/).replace("label",et).replace("ref",Dt).getRegex(),Pn=S(/^!?\[(ref)\](?:\[\])?/).replace("ref",Dt).getRegex(),Ar=S("reflink|nolink(?!\\()","g").replace("reflink",Dn).replace("nolink",Pn).getRegex(),pn=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,$t={_backpedal:$e,anyPunctuation:br,autolink:xr,blockSkip:gr,br:On,code:cr,del:$e,emStrongLDelim:dr,emStrongRDelimAst:kr,emStrongRDelimUnd:Tr,escape:ar,link:wr,nolink:Pn,punctuation:pr,reflink:Dn,reflinkSearch:Ar,tag:Er,text:ur,url:$e},Sr={...$t,link:S(/^!?\[(label)\]\((.*?)\)/).replace("label",et).getRegex(),reflink:S(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",et).getRegex()},wt={...$t,emStrongRDelimAst:_r,emStrongLDelim:mr,url:S(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",pn).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:S(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",pn).getRegex()},Rr={...wt,br:S(On).replace("{2,}","*").getRegex(),text:S(wt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ke={normal:Nt,gfm:or,pedantic:lr},Ce={normal:$t,gfm:wt,breaks:Rr,pedantic:Sr},Or={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fn=n=>Or[n];function ne(n,e){if(e){if(G.escapeTest.test(n))return n.replace(G.escapeReplace,fn)}else if(G.escapeTestNoEncode.test(n))return n.replace(G.escapeReplaceNoEncode,fn);return n}function hn(n){try{n=encodeURI(n).replace(G.percentDecode,"%")}catch{return null}return n}function gn(n,e){let r=n.replace(G.findPipe,(c,l,u)=>{let p=!1,a=l;for(;--a>=0&&u[a]==="\\";)p=!p;return p?"|":" |"}),s=r.split(G.splitPipe),t=0;if(s[0].trim()||s.shift(),s.length>0&&!s.at(-1)?.trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;t<s.length;t++)s[t]=s[t].trim().replace(G.slashPipe,"|");return s}function ve(n,e,r){let s=n.length;if(s===0)return"";let t=0;for(;t<s&&n.charAt(s-t-1)===e;)t++;return n.slice(0,s-t)}function Cr(n,e){if(n.indexOf(e[1])===-1)return-1;let r=0;for(let s=0;s<n.length;s++)if(n[s]==="\\")s++;else if(n[s]===e[0])r++;else if(n[s]===e[1]&&(r--,r<0))return s;return r>0?-2:-1}function dn(n,e,r,s,t){let c=e.href,l=e.title||null,u=n[1].replace(t.other.outputLinkReplace,"$1");s.state.inLink=!0;let p={type:n[0].charAt(0)==="!"?"image":"link",raw:r,href:c,title:l,text:u,tokens:s.inlineTokens(u)};return s.state.inLink=!1,p}function vr(n,e,r){let s=n.match(r.other.indentCodeCompensation);if(s===null)return e;let t=s[1];return e.split(`
`).map(c=>{let l=c.match(r.other.beginningSpace);if(l===null)return c;let[u]=l;return u.length>=t.length?c.slice(t.length):c}).join(`
`)}var tt=class{options;rules;lexer;constructor(n){this.options=n||ge}space(n){let e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){let e=this.rules.block.code.exec(n);if(e){let r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:ve(r,`
`)}}}fences(n){let e=this.rules.block.fences.exec(n);if(e){let r=e[0],s=vr(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(n){let e=this.rules.block.heading.exec(n);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){let s=ve(r,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(r=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(n){let e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:ve(e[0],`
`)}}blockquote(n){let e=this.rules.block.blockquote.exec(n);if(e){let r=ve(e[0],`
`).split(`
`),s="",t="",c=[];for(;r.length>0;){let l=!1,u=[],p;for(p=0;p<r.length;p++)if(this.rules.other.blockquoteStart.test(r[p]))u.push(r[p]),l=!0;else if(!l)u.push(r[p]);else break;r=r.slice(p);let a=u.join(`
`),d=a.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${a}`:a,t=t?`${t}
${d}`:d;let x=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,c,!0),this.lexer.state.top=x,r.length===0)break;let E=c.at(-1);if(E?.type==="code")break;if(E?.type==="blockquote"){let v=E,R=v.raw+`
`+r.join(`
`),M=this.blockquote(R);c[c.length-1]=M,s=s.substring(0,s.length-v.raw.length)+M.raw,t=t.substring(0,t.length-v.text.length)+M.text;break}else if(E?.type==="list"){let v=E,R=v.raw+`
`+r.join(`
`),M=this.list(R);c[c.length-1]=M,s=s.substring(0,s.length-E.raw.length)+M.raw,t=t.substring(0,t.length-v.raw.length)+M.raw,r=R.substring(c.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:c,text:t}}}list(n){let e=this.rules.block.list.exec(n);if(e){let r=e[1].trim(),s=r.length>1,t={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");let c=this.rules.other.listItemRegex(r),l=!1;for(;n;){let p=!1,a="",d="";if(!(e=c.exec(n))||this.rules.block.hr.test(n))break;a=e[0],n=n.substring(a.length);let x=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,Y=>" ".repeat(3*Y.length)),E=n.split(`
`,1)[0],v=!x.trim(),R=0;if(this.options.pedantic?(R=2,d=x.trimStart()):v?R=e[1].length+1:(R=e[2].search(this.rules.other.nonSpaceChar),R=R>4?1:R,d=x.slice(R),R+=e[1].length),v&&this.rules.other.blankLine.test(E)&&(a+=E+`
`,n=n.substring(E.length+1),p=!0),!p){let Y=this.rules.other.nextBulletRegex(R),ce=this.rules.other.hrRegex(R),X=this.rules.other.fencesBeginRegex(R),I=this.rules.other.headingBeginRegex(R),ee=this.rules.other.htmlBeginRegex(R);for(;n;){let K=n.split(`
`,1)[0],A;if(E=K,this.options.pedantic?(E=E.replace(this.rules.other.listReplaceNesting,"  "),A=E):A=E.replace(this.rules.other.tabCharGlobal,"    "),X.test(E)||I.test(E)||ee.test(E)||Y.test(E)||ce.test(E))break;if(A.search(this.rules.other.nonSpaceChar)>=R||!E.trim())d+=`
`+A.slice(R);else{if(v||x.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||X.test(x)||I.test(x)||ce.test(x))break;d+=`
`+E}!v&&!E.trim()&&(v=!0),a+=K+`
`,n=n.substring(K.length+1),x=A.slice(R)}}t.loose||(l?t.loose=!0:this.rules.other.doubleBlankLine.test(a)&&(l=!0));let M=null,ae;this.options.gfm&&(M=this.rules.other.listIsTask.exec(d),M&&(ae=M[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),t.items.push({type:"list_item",raw:a,task:!!M,checked:ae,loose:!1,text:d,tokens:[]}),t.raw+=a}let u=t.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;t.raw=t.raw.trimEnd();for(let p=0;p<t.items.length;p++)if(this.lexer.state.top=!1,t.items[p].tokens=this.lexer.blockTokens(t.items[p].text,[]),!t.loose){let a=t.items[p].tokens.filter(x=>x.type==="space"),d=a.length>0&&a.some(x=>this.rules.other.anyLine.test(x.raw));t.loose=d}if(t.loose)for(let p=0;p<t.items.length;p++)t.items[p].loose=!0;return t}}html(n){let e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){let e=this.rules.block.def.exec(n);if(e){let r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",t=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:s,title:t}}}table(n){let e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let r=gn(e[1]),s=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),t=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],c={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===s.length){for(let l of s)this.rules.other.tableAlignRight.test(l)?c.align.push("right"):this.rules.other.tableAlignCenter.test(l)?c.align.push("center"):this.rules.other.tableAlignLeft.test(l)?c.align.push("left"):c.align.push(null);for(let l=0;l<r.length;l++)c.header.push({text:r[l],tokens:this.lexer.inline(r[l]),header:!0,align:c.align[l]});for(let l of t)c.rows.push(gn(l,c.header.length).map((u,p)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:c.align[p]})));return c}}lheading(n){let e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){let e=this.rules.block.paragraph.exec(n);if(e){let r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(n){let e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){let e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){let e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){let e=this.rules.inline.link.exec(n);if(e){let r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let c=ve(r.slice(0,-1),"\\");if((r.length-c.length)%2===0)return}else{let c=Cr(e[2],"()");if(c===-2)return;if(c>-1){let l=(e[0].indexOf("!")===0?5:4)+e[1].length+c;e[2]=e[2].substring(0,c),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let s=e[2],t="";if(this.options.pedantic){let c=this.rules.other.pedanticHrefTitle.exec(s);c&&(s=c[1],t=c[3])}else t=e[3]?e[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?s=s.slice(1):s=s.slice(1,-1)),dn(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:t&&t.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let s=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),t=e[s.toLowerCase()];if(!t){let c=r[0].charAt(0);return{type:"text",raw:c,text:c}}return dn(r,t,r[0],this.lexer,this.rules)}}emStrong(n,e,r=""){let s=this.rules.inline.emStrongLDelim.exec(n);if(!(!s||s[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(s[1]||s[2])||!r||this.rules.inline.punctuation.exec(r))){let t=[...s[0]].length-1,c,l,u=t,p=0,a=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(a.lastIndex=0,e=e.slice(-1*n.length+t);(s=a.exec(e))!=null;){if(c=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!c)continue;if(l=[...c].length,s[3]||s[4]){u+=l;continue}else if((s[5]||s[6])&&t%3&&!((t+l)%3)){p+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+p);let d=[...s[0]][0].length,x=n.slice(0,t+s.index+d+l);if(Math.min(t,l)%2){let v=x.slice(1,-1);return{type:"em",raw:x,text:v,tokens:this.lexer.inlineTokens(v)}}let E=x.slice(2,-2);return{type:"strong",raw:x,text:E,tokens:this.lexer.inlineTokens(E)}}}}codespan(n){let e=this.rules.inline.code.exec(n);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(r),t=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return s&&t&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(n){let e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){let e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){let e=this.rules.inline.autolink.exec(n);if(e){let r,s;return e[2]==="@"?(r=e[1],s="mailto:"+r):(r=e[1],s=r),{type:"link",raw:e[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(n){let e;if(e=this.rules.inline.url.exec(n)){let r,s;if(e[2]==="@")r=e[0],s="mailto:"+r;else{let t;do t=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(t!==e[0]);r=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(n){let e=this.rules.inline.text.exec(n);if(e){let r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},V=class At{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ge,this.options.tokenizer=this.options.tokenizer||new tt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:G,block:Ke.normal,inline:Ce.normal};this.options.pedantic?(r.block=Ke.pedantic,r.inline=Ce.pedantic):this.options.gfm&&(r.block=Ke.gfm,this.options.breaks?r.inline=Ce.breaks:r.inline=Ce.gfm),this.tokenizer.rules=r}static get rules(){return{block:Ke,inline:Ce}}static lex(e,r){return new At(r).lex(e)}static lexInline(e,r){return new At(r).inlineTokens(e)}lex(e){e=e.replace(G.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let s=this.inlineQueue[r];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],s=!1){for(this.options.pedantic&&(e=e.replace(G.tabCharGlobal,"    ").replace(G.spaceLine,""));e;){let t;if(this.options.extensions?.block?.some(l=>(t=l.call({lexer:this},e,r))?(e=e.substring(t.raw.length),r.push(t),!0):!1))continue;if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length);let l=r.at(-1);t.raw.length===1&&l!==void 0?l.raw+=`
`:r.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length);let l=r.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+t.raw,l.text+=`
`+t.text,this.inlineQueue.at(-1).src=l.text):r.push(t);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length);let l=r.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+t.raw,l.text+=`
`+t.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title},r.push(t));continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),r.push(t);continue}let c=e;if(this.options.extensions?.startBlock){let l=1/0,u=e.slice(1),p;this.options.extensions.startBlock.forEach(a=>{p=a.call({lexer:this},u),typeof p=="number"&&p>=0&&(l=Math.min(l,p))}),l<1/0&&l>=0&&(c=e.substring(0,l+1))}if(this.state.top&&(t=this.tokenizer.paragraph(c))){let l=r.at(-1);s&&l?.type==="paragraph"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+t.raw,l.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):r.push(t),s=c.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length);let l=r.at(-1);l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+t.raw,l.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):r.push(t);continue}if(e){let l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let s=e,t=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(t=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)u.includes(t[0].slice(t[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,t.index)+"["+"a".repeat(t[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(t=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,t.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(t=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,t.index)+"["+"a".repeat(t[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);s=this.options.hooks?.emStrongMask?.call({lexer:this},s)??s;let c=!1,l="";for(;e;){c||(l=""),c=!1;let u;if(this.options.extensions?.inline?.some(a=>(u=a.call({lexer:this},e,r))?(e=e.substring(u.raw.length),r.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);let a=r.at(-1);u.type==="text"&&a?.type==="text"?(a.raw+=u.raw,a.text+=u.text):r.push(u);continue}if(u=this.tokenizer.emStrong(e,s,l)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),r.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),r.push(u);continue}let p=e;if(this.options.extensions?.startInline){let a=1/0,d=e.slice(1),x;this.options.extensions.startInline.forEach(E=>{x=E.call({lexer:this},d),typeof x=="number"&&x>=0&&(a=Math.min(a,x))}),a<1/0&&a>=0&&(p=e.substring(0,a+1))}if(u=this.tokenizer.inlineText(p)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(l=u.raw.slice(-1)),c=!0;let a=r.at(-1);a?.type==="text"?(a.raw+=u.raw,a.text+=u.text):r.push(u);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return r}},nt=class{options;parser;constructor(n){this.options=n||ge}space(n){return""}code({text:n,lang:e,escaped:r}){let s=(e||"").match(G.notSpaceStart)?.[0],t=n.replace(G.endingNewline,"")+`
`;return s?'<pre><code class="language-'+ne(s)+'">'+(r?t:ne(t,!0))+`</code></pre>
`:"<pre><code>"+(r?t:ne(t,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}def(n){return""}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){let e=n.ordered,r=n.start,s="";for(let l=0;l<n.items.length;l++){let u=n.items[l];s+=this.listitem(u)}let t=e?"ol":"ul",c=e&&r!==1?' start="'+r+'"':"";return"<"+t+c+`>
`+s+"</"+t+`>
`}listitem(n){let e="";if(n.task){let r=this.checkbox({checked:!!n.checked});n.loose?n.tokens[0]?.type==="paragraph"?(n.tokens[0].text=r+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=r+" "+ne(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(n.tokens,!!n.loose),`<li>${e}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",r="";for(let t=0;t<n.header.length;t++)r+=this.tablecell(n.header[t]);e+=this.tablerow({text:r});let s="";for(let t=0;t<n.rows.length;t++){let c=n.rows[t];r="";for(let l=0;l<c.length;l++)r+=this.tablecell(c[l]);s+=this.tablerow({text:r})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){let e=this.parser.parseInline(n.tokens),r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${ne(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:r}){let s=this.parser.parseInline(r),t=hn(n);if(t===null)return s;n=t;let c='<a href="'+n+'"';return e&&(c+=' title="'+ne(e)+'"'),c+=">"+s+"</a>",c}image({href:n,title:e,text:r,tokens:s}){s&&(r=this.parser.parseInline(s,this.parser.textRenderer));let t=hn(n);if(t===null)return ne(r);n=t;let c=`<img src="${n}" alt="${r}"`;return e&&(c+=` title="${ne(e)}"`),c+=">",c}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:ne(n.text)}},zt=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},J=class St{options;renderer;textRenderer;constructor(e){this.options=e||ge,this.options.renderer=this.options.renderer||new nt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new zt}static parse(e,r){return new St(r).parse(e)}static parseInline(e,r){return new St(r).parseInline(e)}parse(e,r=!0){let s="";for(let t=0;t<e.length;t++){let c=e[t];if(this.options.extensions?.renderers?.[c.type]){let u=c,p=this.options.extensions.renderers[u.type].call({parser:this},u);if(p!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(u.type)){s+=p||"";continue}}let l=c;switch(l.type){case"space":{s+=this.renderer.space(l);continue}case"hr":{s+=this.renderer.hr(l);continue}case"heading":{s+=this.renderer.heading(l);continue}case"code":{s+=this.renderer.code(l);continue}case"table":{s+=this.renderer.table(l);continue}case"blockquote":{s+=this.renderer.blockquote(l);continue}case"list":{s+=this.renderer.list(l);continue}case"html":{s+=this.renderer.html(l);continue}case"def":{s+=this.renderer.def(l);continue}case"paragraph":{s+=this.renderer.paragraph(l);continue}case"text":{let u=l,p=this.renderer.text(u);for(;t+1<e.length&&e[t+1].type==="text";)u=e[++t],p+=`
`+this.renderer.text(u);r?s+=this.renderer.paragraph({type:"paragraph",raw:p,text:p,tokens:[{type:"text",raw:p,text:p,escaped:!0}]}):s+=p;continue}default:{let u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return s}parseInline(e,r=this.renderer){let s="";for(let t=0;t<e.length;t++){let c=e[t];if(this.options.extensions?.renderers?.[c.type]){let u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(c.type)){s+=u||"";continue}}let l=c;switch(l.type){case"escape":{s+=r.text(l);break}case"html":{s+=r.html(l);break}case"link":{s+=r.link(l);break}case"image":{s+=r.image(l);break}case"strong":{s+=r.strong(l);break}case"em":{s+=r.em(l);break}case"codespan":{s+=r.codespan(l);break}case"br":{s+=r.br(l);break}case"del":{s+=r.del(l);break}case"text":{s+=r.text(l);break}default:{let u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return s}},Me=class{options;block;constructor(n){this.options=n||ge}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}emStrongMask(n){return n}provideLexer(){return this.block?V.lex:V.lexInline}provideParser(){return this.block?J.parse:J.parseInline}},Lr=class{defaults=vt();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=J;Renderer=nt;TextRenderer=zt;Lexer=V;Tokenizer=tt;Hooks=Me;constructor(...n){this.use(...n)}walkTokens(n,e){let r=[];for(let s of n)switch(r=r.concat(e.call(this,s)),s.type){case"table":{let t=s;for(let c of t.header)r=r.concat(this.walkTokens(c.tokens,e));for(let c of t.rows)for(let l of c)r=r.concat(this.walkTokens(l.tokens,e));break}case"list":{let t=s;r=r.concat(this.walkTokens(t.items,e));break}default:{let t=s;this.defaults.extensions?.childTokens?.[t.type]?this.defaults.extensions.childTokens[t.type].forEach(c=>{let l=t[c].flat(1/0);r=r.concat(this.walkTokens(l,e))}):t.tokens&&(r=r.concat(this.walkTokens(t.tokens,e)))}}return r}use(...n){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(r=>{let s={...r};if(s.async=this.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(t=>{if(!t.name)throw new Error("extension name required");if("renderer"in t){let c=e.renderers[t.name];c?e.renderers[t.name]=function(...l){let u=t.renderer.apply(this,l);return u===!1&&(u=c.apply(this,l)),u}:e.renderers[t.name]=t.renderer}if("tokenizer"in t){if(!t.level||t.level!=="block"&&t.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let c=e[t.level];c?c.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&(t.level==="block"?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:t.level==="inline"&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)}),s.extensions=e),r.renderer){let t=this.defaults.renderer||new nt(this.defaults);for(let c in r.renderer){if(!(c in t))throw new Error(`renderer '${c}' does not exist`);if(["options","parser"].includes(c))continue;let l=c,u=r.renderer[l],p=t[l];t[l]=(...a)=>{let d=u.apply(t,a);return d===!1&&(d=p.apply(t,a)),d||""}}s.renderer=t}if(r.tokenizer){let t=this.defaults.tokenizer||new tt(this.defaults);for(let c in r.tokenizer){if(!(c in t))throw new Error(`tokenizer '${c}' does not exist`);if(["options","rules","lexer"].includes(c))continue;let l=c,u=r.tokenizer[l],p=t[l];t[l]=(...a)=>{let d=u.apply(t,a);return d===!1&&(d=p.apply(t,a)),d}}s.tokenizer=t}if(r.hooks){let t=this.defaults.hooks||new Me;for(let c in r.hooks){if(!(c in t))throw new Error(`hook '${c}' does not exist`);if(["options","block"].includes(c))continue;let l=c,u=r.hooks[l],p=t[l];Me.passThroughHooks.has(c)?t[l]=a=>{if(this.defaults.async&&Me.passThroughHooksRespectAsync.has(c))return(async()=>{let x=await u.call(t,a);return p.call(t,x)})();let d=u.call(t,a);return p.call(t,d)}:t[l]=(...a)=>{if(this.defaults.async)return(async()=>{let x=await u.apply(t,a);return x===!1&&(x=await p.apply(t,a)),x})();let d=u.apply(t,a);return d===!1&&(d=p.apply(t,a)),d}}s.hooks=t}if(r.walkTokens){let t=this.defaults.walkTokens,c=r.walkTokens;s.walkTokens=function(l){let u=[];return u.push(c.call(this,l)),t&&(u=u.concat(t.call(this,l))),u}}this.defaults={...this.defaults,...s}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,e){return V.lex(n,e??this.defaults)}parser(n,e){return J.parse(n,e??this.defaults)}parseMarkdown(n){return(e,r)=>{let s={...r},t={...this.defaults,...s},c=this.onError(!!t.silent,!!t.async);if(this.defaults.async===!0&&s.async===!1)return c(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(t.hooks&&(t.hooks.options=t,t.hooks.block=n),t.async)return(async()=>{let l=t.hooks?await t.hooks.preprocess(e):e,u=await(t.hooks?await t.hooks.provideLexer():n?V.lex:V.lexInline)(l,t),p=t.hooks?await t.hooks.processAllTokens(u):u;t.walkTokens&&await Promise.all(this.walkTokens(p,t.walkTokens));let a=await(t.hooks?await t.hooks.provideParser():n?J.parse:J.parseInline)(p,t);return t.hooks?await t.hooks.postprocess(a):a})().catch(c);try{t.hooks&&(e=t.hooks.preprocess(e));let l=(t.hooks?t.hooks.provideLexer():n?V.lex:V.lexInline)(e,t);t.hooks&&(l=t.hooks.processAllTokens(l)),t.walkTokens&&this.walkTokens(l,t.walkTokens);let u=(t.hooks?t.hooks.provideParser():n?J.parse:J.parseInline)(l,t);return t.hooks&&(u=t.hooks.postprocess(u)),u}catch(l){return c(l)}}}onError(n,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let s="<p>An error occurred:</p><pre>"+ne(r.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(r);throw r}}},he=new Lr;function C(n,e){return he.parse(n,e)}C.options=C.setOptions=function(n){return he.setOptions(n),C.defaults=he.defaults,wn(C.defaults),C};C.getDefaults=vt;C.defaults=ge;C.use=function(...n){return he.use(...n),C.defaults=he.defaults,wn(C.defaults),C};C.walkTokens=function(n,e){return he.walkTokens(n,e)};C.parseInline=he.parseInline;C.Parser=J;C.parser=J.parse;C.Renderer=nt;C.TextRenderer=zt;C.Lexer=V;C.lexer=V.lex;C.Tokenizer=tt;C.Hooks=Me;C.parse=C;C.options;C.setOptions;C.use;C.walkTokens;C.parseInline;J.parse;V.lex;/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:Nn,setPrototypeOf:mn,isFrozen:Ir,getPrototypeOf:Dr,getOwnPropertyDescriptor:Pr}=Object;let{freeze:q,seal:Z,create:Rt}=Object,{apply:Ot,construct:Ct}=typeof Reflect<"u"&&Reflect;q||(q=function(e){return e});Z||(Z=function(e){return e});Ot||(Ot=function(e,r){for(var s=arguments.length,t=new Array(s>2?s-2:0),c=2;c<s;c++)t[c-2]=arguments[c];return e.apply(r,t)});Ct||(Ct=function(e){for(var r=arguments.length,s=new Array(r>1?r-1:0),t=1;t<r;t++)s[t-1]=arguments[t];return new e(...s)});const Qe=W(Array.prototype.forEach),Nr=W(Array.prototype.lastIndexOf),kn=W(Array.prototype.pop),Le=W(Array.prototype.push),Mr=W(Array.prototype.splice),Je=W(String.prototype.toLowerCase),_t=W(String.prototype.toString),Tt=W(String.prototype.match),Ie=W(String.prototype.replace),$r=W(String.prototype.indexOf),zr=W(String.prototype.trim),Q=W(Object.prototype.hasOwnProperty),F=W(RegExp.prototype.test),De=Ur(TypeError);function W(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,s=new Array(r>1?r-1:0),t=1;t<r;t++)s[t-1]=arguments[t];return Ot(n,e,s)}}function Ur(n){return function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return Ct(n,r)}}function y(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Je;mn&&mn(n,null);let s=e.length;for(;s--;){let t=e[s];if(typeof t=="string"){const c=r(t);c!==t&&(Ir(e)||(e[s]=c),t=c)}n[t]=!0}return n}function Hr(n){for(let e=0;e<n.length;e++)Q(n,e)||(n[e]=null);return n}function oe(n){const e=Rt(null);for(const[r,s]of Nn(n))Q(n,r)&&(Array.isArray(s)?e[r]=Hr(s):s&&typeof s=="object"&&s.constructor===Object?e[r]=oe(s):e[r]=s);return e}function Pe(n,e){for(;n!==null;){const s=Pr(n,e);if(s){if(s.get)return W(s.get);if(typeof s.value=="function")return W(s.value)}n=Dr(n)}function r(){return null}return r}const _n=q(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),bt=q(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xt=q(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Br=q(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yt=q(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Fr=q(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Tn=q(["#text"]),bn=q(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Et=q(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xn=q(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ve=q(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Gr=Z(/\{\{[\w\W]*|[\w\W]*\}\}/gm),qr=Z(/<%[\w\W]*|[\w\W]*%>/gm),Wr=Z(/\$\{[\w\W]*/gm),jr=Z(/^data-[\-\w.\u00B7-\uFFFF]+$/),Yr=Z(/^aria-[\-\w]+$/),Mn=Z(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Zr=Z(/^(?:\w+script|data):/i),Xr=Z(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$n=Z(/^html$/i),Kr=Z(/^[a-z][.\w]*(-[.\w]+)+$/i);var yn=Object.freeze({__proto__:null,ARIA_ATTR:Yr,ATTR_WHITESPACE:Xr,CUSTOM_ELEMENT:Kr,DATA_ATTR:jr,DOCTYPE_NAME:$n,ERB_EXPR:qr,IS_ALLOWED_URI:Mn,IS_SCRIPT_OR_DATA:Zr,MUSTACHE_EXPR:Gr,TMPLIT_EXPR:Wr});const Ne={element:1,text:3,progressingInstruction:7,comment:8,document:9},Qr=function(){return typeof window>"u"?null:window},Vr=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const t="data-tt-policy-suffix";r&&r.hasAttribute(t)&&(s=r.getAttribute(t));const c="dompurify"+(s?"#"+s:"");try{return e.createPolicy(c,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},En=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function zn(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qr();const e=k=>zn(k);if(e.version="3.3.0",e.removed=[],!n||!n.document||n.document.nodeType!==Ne.document||!n.Element)return e.isSupported=!1,e;let{document:r}=n;const s=r,t=s.currentScript,{DocumentFragment:c,HTMLTemplateElement:l,Node:u,Element:p,NodeFilter:a,NamedNodeMap:d=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:x,DOMParser:E,trustedTypes:v}=n,R=p.prototype,M=Pe(R,"cloneNode"),ae=Pe(R,"remove"),Y=Pe(R,"nextSibling"),ce=Pe(R,"childNodes"),X=Pe(R,"parentNode");if(typeof l=="function"){const k=r.createElement("template");k.content&&k.content.ownerDocument&&(r=k.content.ownerDocument)}let I,ee="";const{implementation:K,createNodeIterator:A,createDocumentFragment:Ue,getElementsByTagName:we}=r,{importNode:it}=s;let P=En();e.isSupported=typeof Nn=="function"&&typeof X=="function"&&K&&K.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ae,ERB_EXPR:de,TMPLIT_EXPR:ue,DATA_ATTR:ot,ARIA_ATTR:le,IS_SCRIPT_OR_DATA:me,ATTR_WHITESPACE:He,CUSTOM_ELEMENT:Be}=yn;let{IS_ALLOWED_URI:Fe}=yn,o=null;const f=y({},[..._n,...bt,...xt,...yt,...Tn]);let m=null;const T=y({},[...bn,...Et,...xn,...Ve]);let _=Object.seal(Rt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),w=null,O=null;const $=Object.seal(Rt(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let z=!0,Se=!0,Ut=!1,Ht=!0,ke=!1,Ge=!0,pe=!1,lt=!1,at=!1,_e=!1,qe=!1,We=!1,Bt=!0,Ft=!1;const Un="user-content-";let ct=!0,Re=!1,Te={},be=null;const Gt=y({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let qt=null;const Wt=y({},["audio","video","img","source","image","track"]);let ut=null;const jt=y({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),je="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml";let xe=re,pt=!1,ft=null;const Hn=y({},[je,Ye,re],_t);let Ze=y({},["mi","mo","mn","ms","mtext"]),Xe=y({},["annotation-xml"]);const Bn=y({},["title","style","font","a","script"]);let Oe=null;const Fn=["application/xhtml+xml","text/html"],Gn="text/html";let N=null,ye=null;const qn=r.createElement("form"),Yt=function(i){return i instanceof RegExp||i instanceof Function},ht=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ye&&ye===i)){if((!i||typeof i!="object")&&(i={}),i=oe(i),Oe=Fn.indexOf(i.PARSER_MEDIA_TYPE)===-1?Gn:i.PARSER_MEDIA_TYPE,N=Oe==="application/xhtml+xml"?_t:Je,o=Q(i,"ALLOWED_TAGS")?y({},i.ALLOWED_TAGS,N):f,m=Q(i,"ALLOWED_ATTR")?y({},i.ALLOWED_ATTR,N):T,ft=Q(i,"ALLOWED_NAMESPACES")?y({},i.ALLOWED_NAMESPACES,_t):Hn,ut=Q(i,"ADD_URI_SAFE_ATTR")?y(oe(jt),i.ADD_URI_SAFE_ATTR,N):jt,qt=Q(i,"ADD_DATA_URI_TAGS")?y(oe(Wt),i.ADD_DATA_URI_TAGS,N):Wt,be=Q(i,"FORBID_CONTENTS")?y({},i.FORBID_CONTENTS,N):Gt,w=Q(i,"FORBID_TAGS")?y({},i.FORBID_TAGS,N):oe({}),O=Q(i,"FORBID_ATTR")?y({},i.FORBID_ATTR,N):oe({}),Te=Q(i,"USE_PROFILES")?i.USE_PROFILES:!1,z=i.ALLOW_ARIA_ATTR!==!1,Se=i.ALLOW_DATA_ATTR!==!1,Ut=i.ALLOW_UNKNOWN_PROTOCOLS||!1,Ht=i.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ke=i.SAFE_FOR_TEMPLATES||!1,Ge=i.SAFE_FOR_XML!==!1,pe=i.WHOLE_DOCUMENT||!1,_e=i.RETURN_DOM||!1,qe=i.RETURN_DOM_FRAGMENT||!1,We=i.RETURN_TRUSTED_TYPE||!1,at=i.FORCE_BODY||!1,Bt=i.SANITIZE_DOM!==!1,Ft=i.SANITIZE_NAMED_PROPS||!1,ct=i.KEEP_CONTENT!==!1,Re=i.IN_PLACE||!1,Fe=i.ALLOWED_URI_REGEXP||Mn,xe=i.NAMESPACE||re,Ze=i.MATHML_TEXT_INTEGRATION_POINTS||Ze,Xe=i.HTML_INTEGRATION_POINTS||Xe,_=i.CUSTOM_ELEMENT_HANDLING||{},i.CUSTOM_ELEMENT_HANDLING&&Yt(i.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_.tagNameCheck=i.CUSTOM_ELEMENT_HANDLING.tagNameCheck),i.CUSTOM_ELEMENT_HANDLING&&Yt(i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_.attributeNameCheck=i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),i.CUSTOM_ELEMENT_HANDLING&&typeof i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(_.allowCustomizedBuiltInElements=i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ke&&(Se=!1),qe&&(_e=!0),Te&&(o=y({},Tn),m=[],Te.html===!0&&(y(o,_n),y(m,bn)),Te.svg===!0&&(y(o,bt),y(m,Et),y(m,Ve)),Te.svgFilters===!0&&(y(o,xt),y(m,Et),y(m,Ve)),Te.mathMl===!0&&(y(o,yt),y(m,xn),y(m,Ve))),i.ADD_TAGS&&(typeof i.ADD_TAGS=="function"?$.tagCheck=i.ADD_TAGS:(o===f&&(o=oe(o)),y(o,i.ADD_TAGS,N))),i.ADD_ATTR&&(typeof i.ADD_ATTR=="function"?$.attributeCheck=i.ADD_ATTR:(m===T&&(m=oe(m)),y(m,i.ADD_ATTR,N))),i.ADD_URI_SAFE_ATTR&&y(ut,i.ADD_URI_SAFE_ATTR,N),i.FORBID_CONTENTS&&(be===Gt&&(be=oe(be)),y(be,i.FORBID_CONTENTS,N)),ct&&(o["#text"]=!0),pe&&y(o,["html","head","body"]),o.table&&(y(o,["tbody"]),delete w.tbody),i.TRUSTED_TYPES_POLICY){if(typeof i.TRUSTED_TYPES_POLICY.createHTML!="function")throw De('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof i.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw De('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=i.TRUSTED_TYPES_POLICY,ee=I.createHTML("")}else I===void 0&&(I=Vr(v,t)),I!==null&&typeof ee=="string"&&(ee=I.createHTML(""));q&&q(i),ye=i}},Zt=y({},[...bt,...xt,...Br]),Xt=y({},[...yt,...Fr]),Wn=function(i){let h=X(i);(!h||!h.tagName)&&(h={namespaceURI:xe,tagName:"template"});const g=Je(i.tagName),L=Je(h.tagName);return ft[i.namespaceURI]?i.namespaceURI===Ye?h.namespaceURI===re?g==="svg":h.namespaceURI===je?g==="svg"&&(L==="annotation-xml"||Ze[L]):!!Zt[g]:i.namespaceURI===je?h.namespaceURI===re?g==="math":h.namespaceURI===Ye?g==="math"&&Xe[L]:!!Xt[g]:i.namespaceURI===re?h.namespaceURI===Ye&&!Xe[L]||h.namespaceURI===je&&!Ze[L]?!1:!Xt[g]&&(Bn[g]||!Zt[g]):!!(Oe==="application/xhtml+xml"&&ft[i.namespaceURI]):!1},te=function(i){Le(e.removed,{element:i});try{X(i).removeChild(i)}catch{ae(i)}},fe=function(i,h){try{Le(e.removed,{attribute:h.getAttributeNode(i),from:h})}catch{Le(e.removed,{attribute:null,from:h})}if(h.removeAttribute(i),i==="is")if(_e||qe)try{te(h)}catch{}else try{h.setAttribute(i,"")}catch{}},Kt=function(i){let h=null,g=null;if(at)i="<remove></remove>"+i;else{const D=Tt(i,/^[\r\n\t ]+/);g=D&&D[0]}Oe==="application/xhtml+xml"&&xe===re&&(i='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+i+"</body></html>");const L=I?I.createHTML(i):i;if(xe===re)try{h=new E().parseFromString(L,Oe)}catch{}if(!h||!h.documentElement){h=K.createDocument(xe,"template",null);try{h.documentElement.innerHTML=pt?ee:L}catch{}}const H=h.body||h.documentElement;return i&&g&&H.insertBefore(r.createTextNode(g),H.childNodes[0]||null),xe===re?we.call(h,pe?"html":"body")[0]:pe?h.documentElement:H},Qt=function(i){return A.call(i.ownerDocument||i,i,a.SHOW_ELEMENT|a.SHOW_COMMENT|a.SHOW_TEXT|a.SHOW_PROCESSING_INSTRUCTION|a.SHOW_CDATA_SECTION,null)},gt=function(i){return i instanceof x&&(typeof i.nodeName!="string"||typeof i.textContent!="string"||typeof i.removeChild!="function"||!(i.attributes instanceof d)||typeof i.removeAttribute!="function"||typeof i.setAttribute!="function"||typeof i.namespaceURI!="string"||typeof i.insertBefore!="function"||typeof i.hasChildNodes!="function")},Vt=function(i){return typeof u=="function"&&i instanceof u};function se(k,i,h){Qe(k,g=>{g.call(e,i,h,ye)})}const Jt=function(i){let h=null;if(se(P.beforeSanitizeElements,i,null),gt(i))return te(i),!0;const g=N(i.nodeName);if(se(P.uponSanitizeElement,i,{tagName:g,allowedTags:o}),Ge&&i.hasChildNodes()&&!Vt(i.firstElementChild)&&F(/<[/\w!]/g,i.innerHTML)&&F(/<[/\w!]/g,i.textContent)||i.nodeType===Ne.progressingInstruction||Ge&&i.nodeType===Ne.comment&&F(/<[/\w]/g,i.data))return te(i),!0;if(!($.tagCheck instanceof Function&&$.tagCheck(g))&&(!o[g]||w[g])){if(!w[g]&&tn(g)&&(_.tagNameCheck instanceof RegExp&&F(_.tagNameCheck,g)||_.tagNameCheck instanceof Function&&_.tagNameCheck(g)))return!1;if(ct&&!be[g]){const L=X(i)||i.parentNode,H=ce(i)||i.childNodes;if(H&&L){const D=H.length;for(let j=D-1;j>=0;--j){const ie=M(H[j],!0);ie.__removalCount=(i.__removalCount||0)+1,L.insertBefore(ie,Y(i))}}}return te(i),!0}return i instanceof p&&!Wn(i)||(g==="noscript"||g==="noembed"||g==="noframes")&&F(/<\/no(script|embed|frames)/i,i.innerHTML)?(te(i),!0):(ke&&i.nodeType===Ne.text&&(h=i.textContent,Qe([Ae,de,ue],L=>{h=Ie(h,L," ")}),i.textContent!==h&&(Le(e.removed,{element:i.cloneNode()}),i.textContent=h)),se(P.afterSanitizeElements,i,null),!1)},en=function(i,h,g){if(Bt&&(h==="id"||h==="name")&&(g in r||g in qn))return!1;if(!(Se&&!O[h]&&F(ot,h))){if(!(z&&F(le,h))){if(!($.attributeCheck instanceof Function&&$.attributeCheck(h,i))){if(!m[h]||O[h]){if(!(tn(i)&&(_.tagNameCheck instanceof RegExp&&F(_.tagNameCheck,i)||_.tagNameCheck instanceof Function&&_.tagNameCheck(i))&&(_.attributeNameCheck instanceof RegExp&&F(_.attributeNameCheck,h)||_.attributeNameCheck instanceof Function&&_.attributeNameCheck(h,i))||h==="is"&&_.allowCustomizedBuiltInElements&&(_.tagNameCheck instanceof RegExp&&F(_.tagNameCheck,g)||_.tagNameCheck instanceof Function&&_.tagNameCheck(g))))return!1}else if(!ut[h]){if(!F(Fe,Ie(g,He,""))){if(!((h==="src"||h==="xlink:href"||h==="href")&&i!=="script"&&$r(g,"data:")===0&&qt[i])){if(!(Ut&&!F(me,Ie(g,He,"")))){if(g)return!1}}}}}}}return!0},tn=function(i){return i!=="annotation-xml"&&Tt(i,Be)},nn=function(i){se(P.beforeSanitizeAttributes,i,null);const{attributes:h}=i;if(!h||gt(i))return;const g={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:m,forceKeepAttr:void 0};let L=h.length;for(;L--;){const H=h[L],{name:D,namespaceURI:j,value:ie}=H,Ee=N(D),dt=ie;let U=D==="value"?dt:zr(dt);if(g.attrName=Ee,g.attrValue=U,g.keepAttr=!0,g.forceKeepAttr=void 0,se(P.uponSanitizeAttribute,i,g),U=g.attrValue,Ft&&(Ee==="id"||Ee==="name")&&(fe(D,i),U=Un+U),Ge&&F(/((--!?|])>)|<\/(style|title|textarea)/i,U)){fe(D,i);continue}if(Ee==="attributename"&&Tt(U,"href")){fe(D,i);continue}if(g.forceKeepAttr)continue;if(!g.keepAttr){fe(D,i);continue}if(!Ht&&F(/\/>/i,U)){fe(D,i);continue}ke&&Qe([Ae,de,ue],sn=>{U=Ie(U,sn," ")});const rn=N(i.nodeName);if(!en(rn,Ee,U)){fe(D,i);continue}if(I&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!j)switch(v.getAttributeType(rn,Ee)){case"TrustedHTML":{U=I.createHTML(U);break}case"TrustedScriptURL":{U=I.createScriptURL(U);break}}if(U!==dt)try{j?i.setAttributeNS(j,D,U):i.setAttribute(D,U),gt(i)?te(i):kn(e.removed)}catch{fe(D,i)}}se(P.afterSanitizeAttributes,i,null)},jn=function k(i){let h=null;const g=Qt(i);for(se(P.beforeSanitizeShadowDOM,i,null);h=g.nextNode();)se(P.uponSanitizeShadowNode,h,null),Jt(h),nn(h),h.content instanceof c&&k(h.content);se(P.afterSanitizeShadowDOM,i,null)};return e.sanitize=function(k){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=null,g=null,L=null,H=null;if(pt=!k,pt&&(k="<!-->"),typeof k!="string"&&!Vt(k))if(typeof k.toString=="function"){if(k=k.toString(),typeof k!="string")throw De("dirty is not a string, aborting")}else throw De("toString is not a function");if(!e.isSupported)return k;if(lt||ht(i),e.removed=[],typeof k=="string"&&(Re=!1),Re){if(k.nodeName){const ie=N(k.nodeName);if(!o[ie]||w[ie])throw De("root node is forbidden and cannot be sanitized in-place")}}else if(k instanceof u)h=Kt("<!---->"),g=h.ownerDocument.importNode(k,!0),g.nodeType===Ne.element&&g.nodeName==="BODY"||g.nodeName==="HTML"?h=g:h.appendChild(g);else{if(!_e&&!ke&&!pe&&k.indexOf("<")===-1)return I&&We?I.createHTML(k):k;if(h=Kt(k),!h)return _e?null:We?ee:""}h&&at&&te(h.firstChild);const D=Qt(Re?k:h);for(;L=D.nextNode();)Jt(L),nn(L),L.content instanceof c&&jn(L.content);if(Re)return k;if(_e){if(qe)for(H=Ue.call(h.ownerDocument);h.firstChild;)H.appendChild(h.firstChild);else H=h;return(m.shadowroot||m.shadowrootmode)&&(H=it.call(s,H,!0)),H}let j=pe?h.outerHTML:h.innerHTML;return pe&&o["!doctype"]&&h.ownerDocument&&h.ownerDocument.doctype&&h.ownerDocument.doctype.name&&F($n,h.ownerDocument.doctype.name)&&(j="<!DOCTYPE "+h.ownerDocument.doctype.name+`>
`+j),ke&&Qe([Ae,de,ue],ie=>{j=Ie(j,ie," ")}),I&&We?I.createHTML(j):j},e.setConfig=function(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ht(k),lt=!0},e.clearConfig=function(){ye=null,lt=!1},e.isValidAttribute=function(k,i,h){ye||ht({});const g=N(k),L=N(i);return en(g,L,h)},e.addHook=function(k,i){typeof i=="function"&&Le(P[k],i)},e.removeHook=function(k,i){if(i!==void 0){const h=Nr(P[k],i);return h===-1?void 0:Mr(P[k],h,1)[0]}return kn(P[k])},e.removeHooks=function(k){P[k]=[]},e.removeAllHooks=function(){P=En()},e}var ts=zn();export{es as a,Jr as g,C as k,ts as p,Zn as r};

</document>
<document path="static/dist/index.html">
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light" />
    <title>Newsletter Aggregator</title>

    <!-- Vollkorn font for reading surface -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vollkorn:wght@400;700&display=swap" rel="stylesheet">
    <script type="module" crossorigin src="/assets/index-CS1vvAxL.js"></script>
    <link rel="modulepreload" crossorigin href="/assets/vendor-Bvyvzkef.js">
    <link rel="stylesheet" crossorigin href="/assets/index-DEXtoBGT.css">
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>

</document>
</documents>
