#!/bin/bash
#
# Pre-commit hook that runs biome lint on staged client files
# Prevents commits with linting errors

# Check if any client files are staged
if ! git diff --cached --name-only | grep -q '^client/'; then
  # No client files staged, skip linting
  exit 0
fi

echo "Running biome lint on staged client files..."

# Run lint in check mode (DRY_RUN=1 prevents file modifications)
cd client && DRY_RUN=1 bash scripts/lint.sh

# Exit with lint status (non-zero prevents commit)
exit $?
